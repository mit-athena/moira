%!PS-Adobe-2.0
%%Title: moira.mss
%%DocumentFonts: (atend)
%%Creator: Mark A. Rosenstein,,E40-381M,31530,7822001 and Scribe 7(1700)
%%CreationDate: 27 June 1991 19:03
%%Pages: (atend)
%%EndComments
% PostScript Prelude for Scribe.
/BS {/SV save def 0.0 792.0 translate .01 -.01 scale} bind def
/ES {showpage SV restore} bind def
/SC {setrgbcolor} bind def
/FMTX matrix def
/RDF {WFT SLT 0.0 eq 
  {SSZ 0.0 0.0 SSZ neg 0.0 0.0 FMTX astore}
  {SSZ 0.0 SLT neg sin SLT cos div SSZ mul SSZ neg 0.0 0.0 FMTX astore}
  ifelse makefont setfont} bind def
/SLT 0.0 def
/SI { /SLT exch cvr def RDF} bind def
/WFT /Courier findfont def
/SF { /WFT exch findfont def RDF} bind def
/SSZ 1000.0 def
/SS { /SSZ exch 100.0 mul def RDF} bind def
/AF { /WFT exch findfont def /SSZ exch 100.0 mul def RDF} bind def
/MT /moveto load def
/XM {currentpoint exch pop moveto} bind def
/UL {gsave newpath moveto dup 2.0 div 0.0 exch rmoveto
   setlinewidth 0.0 rlineto stroke grestore} bind def
/LH {gsave newpath moveto setlinewidth
   0.0 rlineto
   gsave stroke grestore} bind def
/LV {gsave newpath moveto setlinewidth
   0.0 exch rlineto
   gsave stroke grestore} bind def
/BX {gsave newpath moveto setlinewidth
   exch
   dup 0.0 rlineto
   exch 0.0 exch neg rlineto
   neg 0.0 rlineto
   closepath
   gsave stroke grestore} bind def
/BX1 {grestore} bind def
/BX2 {setlinewidth 1 setgray stroke grestore} bind def
/PB {/PV save def newpath translate
    100.0 -100.0 scale pop /showpage {} def} bind def
/PE {PV restore} bind def
/GB {/PV save def newpath translate rotate
    div dup scale 100.0 -100.0 scale /showpage {} def} bind def
/GE {PV restore} bind def
/FB {dict dup /FontMapDict exch def begin} bind def
/FM {cvn exch cvn exch def} bind def
/FE {end /original-findfont /findfont load def  /findfont
   {dup FontMapDict exch known{FontMapDict exch get} if
   original-findfont} def} bind def
/BC {gsave moveto dup 0 exch rlineto exch 0 rlineto neg 0 exch rlineto closepath clip} bind def
/EC /grestore load def
/SH /show load def
/MX {exch show 0.0 rmoveto} bind def
/W {0 32 4 -1 roll widthshow} bind def
/WX {0 32 5 -1 roll widthshow 0.0 rmoveto} bind def
/RC {100.0 -100.0 scale
612.0 0.0 translate
-90.0 rotate
.01 -.01 scale} bind def
/URC {100.0 -100.0 scale
90.0 rotate
-612.0 0.0 translate
.01 -.01 scale} bind def
/RCC {100.0 -100.0 scale
0.0 -792.0 translate 90.0 rotate
.01 -.01 scale} bind def
/URCC {100.0 -100.0 scale
-90.0 rotate 0.0 792.0 translate
.01 -.01 scale} bind def
%%EndProlog
%%Page: 1 1
BS
0 SI
10 /NewCenturySchlbk-Bold AF
34463 7937 MT
(PROJECT ATHENA TECHNICAL PLAN)SH
1 SS 
2880 8280 11022 PB 
%%BeginDocument: owl.PS
% Project Athena Owl Logo
% Copyright 1986 by the Massachusetts Institute of Technology
%
% Original developed by W. E. Sommerfeld, 1986.
% Owl eye shading, twig tuning by J. H. Saltzer
%
% Adjustments of size and position are provided at the end.
%
/circle { dup 3 index add 2 index moveto 0 360 arc } bind def

/ellipse
  { 
    matrix currentmatrix                % Push current matrix   
    5 1 roll                    % roll to bottom
    3 index 2 index add 3 index moveto  % move to start
    4 2 roll translate scale    % translate then scale
    0 0 1 0 360 arc             % draw it
    setmatrix                   % restore matrix
  } def

/owl1 {
% Do the filled sections first. . .
% right eye
newpath
120 120 6 circle
closepath 0 setgray fill
newpath
121 121 3 circle
closepath 1 setgray fill
% left eye
newpath
90 120 6 circle
closepath 0 setgray fill
91 121 3 circle
closepath 1 setgray fill
0 setgray

% Containing Circle
75 75 102 circle %75 75 100 circle     
% Left eye
90 120 10 circle
% Right eye
120 120 10 circle
% Berry on tree
37.5 111 3 circle  % 37.5 111 2.5 circle
% Theta (outside)
140 60 10 circle
% Theta (inside)
140 60 .5 circle

% High leaf

35 140 15 10 ellipse

% Low leaf

15 109 10 15 ellipse

% Twigs holding leaves and berry

% berry
4 145 moveto
36 113 lineto

% high leaf
9 140 moveto
51 140 lineto

% low leaf
15 134 moveto
15 93 lineto

% squarish outline lines
0 45 moveto
-10 65 -15 120 3 146 curveto
20 160 25 155 75 155 curveto
75 -5 moveto
100 -5 145 5 155 15 curveto
165 25 160 100 155 135 curveto

% Main outline of owl

stroke currentlinewidth dup 2 mul setlinewidth

35 14 moveto
35 18 lineto
36 19 lineto
37 20 lineto
50 20 lineto
52 21 lineto
55 24 lineto
56 29 lineto
54 34 lineto
53 36 lineto
51 38 lineto
48 40 lineto
41 43 lineto
31 46 lineto
26 45 lineto
20 44 lineto
15 43 lineto
13 43 lineto
11 44 lineto
10 45 lineto
10 46 lineto
11 48 lineto
13 51 lineto
20 61 lineto
30 75 lineto
34 80 lineto
40 87 lineto
45 93 lineto
50 97 lineto
55 101 lineto
60 103 lineto
64 105 lineto
71 105 lineto
69 108 lineto
67 112 lineto
66 115 lineto
67 120 lineto
68 124 lineto
71 129 lineto
72 132 lineto
73 135 lineto
71 141 lineto
75 139 lineto
80 137 lineto
90 136 lineto
100 135 lineto
120 135 lineto
130 136 lineto
140 137 lineto
146 140 lineto
144 136 lineto
142 132 lineto
141 125 lineto
142 118 lineto
142 112 lineto
140 106 lineto
136 100 lineto
132 95 lineto
129 92 lineto
124 89 lineto
126 86 lineto
127 80 lineto
126 73 lineto
124 66 lineto
120 60 lineto
116 55 lineto
110 50 lineto
105 46 lineto
100 43 lineto
91 39 lineto
84 36 lineto
75 35 lineto
73 30 lineto
73 25 lineto
74 22 lineto
76 20 lineto
90 20 lineto
92 18 lineto
92 14 lineto
75 35 moveto
65 33 lineto
62 31 lineto
61 27 lineto
61 22 lineto
62 20 lineto
63 19 lineto
64 19 lineto
66 21 lineto
67 25 lineto
66 31 lineto
65 33 lineto

20 44 moveto
20 27 lineto
22 25 lineto
38 25 lineto
40 27 lineto
40 43 lineto
%  (end of main owl outline)

stroke setlinewidth

% everything else

31 46 moveto
39 49 lineto
50 53 lineto
59 57 lineto
76 67 lineto
80 70 lineto
92 80 lineto
100 88 lineto
102 91 lineto
102 94 lineto

71 105 moveto
75 103 lineto
80 101 lineto
87 100 lineto
92 99 lineto
99 96 lineto
102 94 lineto
110 90 lineto
124 89 lineto
% Damned stack limit!
} bind def /owl2 {
26 45 moveto
26 30 lineto

35 45 moveto
35 30 lineto

64 105 moveto
78 80 lineto

33 79 moveto
60 66 lineto

68 97 moveto
66 99 lineto
61 98 lineto
48 83 lineto

72 90 moveto
68 94 lineto
65 93 lineto
63 92 lineto
53 82 lineto

75 85 moveto
73 87 lineto
70 88 lineto
66 86 lineto
60 80 lineto

77 80 moveto
75 83 lineto
73 83 lineto
67 79 lineto

44 73 moveto
40 74 lineto
38 73 lineto
33 68 lineto

51 70 moveto
46 71 lineto
42 69 lineto
32 61 lineto

60 66 moveto
54 67 lineto
46 64 lineto
30 52 lineto

105 92 moveto
105 100 lineto
106 104 lineto
108 107 lineto
110 109 lineto
115 112 lineto

105 100 moveto
104 104 lineto
102 107 lineto
100 109 lineto
95 112 lineto

130 90 moveto
150 80 lineto
130 70 lineto

137 86 moveto
137 74 lineto

130 30 moveto
130 45 lineto
150 45 lineto
150 30 lineto

140 45 moveto
140 35 lineto
} bind def

/owl { owl1 owl2 } bind def
/inch { 72 mul } def

gsave
% Here's where you set size and position.  
% Position is relative to lower left corner of picture box.  X offset first.
% Warning:  the logo is tuned for 0.4 0.4 scale; other sizes not warranted.
% 0.4 0.4 scale makes a 1 1/8 inch diameter logo.
%
0.16 inch .062 inch translate
.4 .4 scale
currentlinewidth 2 mul setlinewidth
owl stroke
grestore

%%EndDocument
 PE 16 /Helvetica-Bold AF
46452 13906 MT
(Section E.1)SH
19149 16790 MT
(Moira, the Athena Service Management System)SH
12 /Helvetica AF
48344 19105 MT
(Peter Levine)SH
43477 20342 MT
(Michael R. Gretzinger)SH
44610 21579 MT
(Mark A. Rosenstein)SH
46412 22816 MT
(Jean Marie Diaz)SH
46680 24053 MT
(Bill Sommerfeld)SH
48011 25290 MT
(Ken Raeburn)SH
/Helvetica-Bold SF
8280 32500 MT
(1. Abstract)SH
11 /NewCenturySchlbk-Roman AF
9091 34650 MT
(The problem of maintaining, managing, and supporting an increasing)
503 W( number of)502 W
8280 35887 MT
(distributed network services with multiple server)
330 W( instances requires development and)331 W
8280 37124 MT
(integration of centralized data)
96 W( management and automated information distribution. This)95 W
8280 38361 MT
(paper presents)209 W
/NewCenturySchlbk-Italic SF
16561 XM
(Moira)SH
/NewCenturySchlbk-Roman SF
(, the Athena Service Management System, focusing on the system)210 W
8280 39598 MT
(components and interface design.  The system provides centralized data administration,)
98 W( a)97 W
8280 40835 MT
(protocol for interface)
6 W( to the database, tools for accessing and modifying the database and an)7 W
8280 42072 MT
(automated mechanism of data distribution.)SH
12 /Helvetica-Bold AF
8280 45425 MT
(2. Purpose)SH
11 /NewCenturySchlbk-Roman AF
9091 47575 MT
(The primary purpose of Moira is)
158 W( to provide a single point of contact for administrative)157 W
8280 48812 MT
(changes that affect more than one Athena service.)
103 W( The)
514 W( secondary purpose is to provide a)104 W
8280 50049 MT
(single point of contact for authoritative information about Athena administration.)SH
12 /Helvetica-Bold AF
8280 53402 MT
(3. Introduction)SH
11 /NewCenturySchlbk-Roman AF
9091 55552 MT
(Currently, many update)
73 W( tasks and routine service issues are managed manually.  As the)72 W
8280 56789 MT
(number of users and machines grows, managing the Athena system becomes)
107 W( significantly)108 W
8280 58026 MT
(more difficult and more economically unfeasible.  The Athena Service Management)
42 W( System)41 W
8280 59263 MT
(is being developed in direct response to the problem of supporting the management)
122 W( of an)123 W
8280 60500 MT
(increasing number of independent workstations.  A network)
418 W( based, centralized data)417 W
8280 61737 MT
(administrator, Moira provides update and maintenance of system servers.)SH
9091 63964 MT
(The development of Moira addresses centralized)
SH( administration, distributed data services,)1 W
8280 65201 MT
(and routine system updates:)SH
/Symbol SF
9901 66800 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(Conceptually, Moira provides)
379 W( mechanisms for managing Athena servers and)378 W
10713 68037 MT
(services. This)
306 W( aspect comprises the fundamental design of Moira.)SH
/Symbol SF
9901 70511 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(Economically, Moira provides a replacement)
525 W( for the labor-intensive, hand-)526 W
10713 71748 MT
(management now associated with maintaining services.)SH
10 /Helvetica-Bold AF
8280 74551 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
9 /Helvetica AF
17774 75600 MT
(Copyright)SH
/Symbol SF
21874 XM
(\343)SH
/Helvetica SF
22835 XM
(1987, 1989 by the Massachusetts Institute of Technology)SH
ES
%%Page: 2 2
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 2, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /Symbol AF
7741 8080 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Technically, Moira consists of a database,)
64 W( an Moira server and protocol interface,)63 W
8553 9317 MT
(a data distribution manager, and tools for accessing and changing Moira data.)SH
6931 11544 MT
(Moira provides)
86 W( a single coherent point of contact for the access and update of data.  The)87 W
6120 12781 MT
(access of data)
332 W( is performed by means of a standard application interface.  Programs)331 W
6120 14018 MT
(designed to update network servers, edit mailing lists,)
35 W( and manage group members all talk)36 W
6120 15255 MT
(to the application)
106 W( interface.  The programs which update servers are commonly driven by)105 W
6120 16492 MT
(crontab and act as a server stuffing mechanism.)
462 W( Applications)
1231 W( which are used as)463 W
6120 17729 MT
(administrative tools are invoked by users.)SH
6931 19956 MT
(Two examples of Moira use:)SH
/Symbol SF
7741 21555 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(One example is for)
98 W( the user accounts administrator to run an application on her)97 W
8553 22792 MT
(workstation which will change the disk quota assigned to)
203 W( a user.  She doesn't)204 W
8553 24029 MT
(need to log in to any other)
73 W( machine to do this, and the change will automatically)72 W
8553 25266 MT
(take place on the proper server a short time later.)SH
/Symbol SF
7741 27740 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Another example is for a user to)
55 W( run an application to add themselves to a public)56 W
8553 28977 MT
(mailing list.  Again,)
375 W( the user can run this application on any workstation.)374 W
8553 30214 MT
(Sometime later, the mailing lists file on the central mail)
116 W( hub will be updated to)117 W
8553 31451 MT
(show this change.)SH
6931 33678 MT
(This technical plan discusses Moira from a functional standpoint. Its intention is to)298 W
6120 34915 MT
(establish a relationship between the design of Moira and the clients which use Moira.)SH
6931 37142 MT
(Note that the system has changed names since work)
197 W( began.  Originally it was simply)198 W
6120 38379 MT
(called SMS, the initials of Service Management)
286 W( System.  The new name is a slightly)285 W
6120 39616 MT
(anglicized spelling of the Greek term)
101 W( for the fates.  According to the mythology, there are)102 W
6120 40853 MT
(three aspects of fate: Clotho, who spins the thread)
121 W( of life; Lachesis, who assigned to each)120 W
6120 42090 MT
(man his destiny in the great tapestry; and Atropos,)
19 W( who cut the thread at death.  Similarly,)20 W
6120 43327 MT
(the Athena Service Management System controls the creation of user accounts, the)413 W
6120 44564 MT
(assignment of resources, and the termination of computer access.)
100 W( Since)
508 W( the name change)101 W
6120 45801 MT
(has occured after much)
175 W( code development, the string "sms" still crops up in some of the)174 W
6120 47038 MT
(code.)SH
12 /Helvetica-Bold AF
6120 50391 MT
(4. Requirements)SH
11 /NewCenturySchlbk-Roman AF
6931 52541 MT
(The design criteria and requirements are influenced by the following:)SH
/Symbol SF
7741 54140 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Simplicity and clarity of the design are more important)
42 W( than complexity or speed.)43 W
8553 55377 MT
(A clear, simple design will guarantee that Moira)
33 W( will be a well structured product)32 W
8553 56614 MT
(capable of being integrated with other system resources.  Other)
75 W( systems, such as)76 W
8553 57851 MT
(Hesiod, will provide a)
90 W( speedy interface to the data kept by Moira; the purpose of)89 W
8553 59088 MT
(Moira is to be the authoritative keeper of the)
142 W( database, updating slave systems)143 W
8553 60325 MT
(such as Hesiod as needed.)SH
/Symbol SF
7741 62799 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(A simple interface based on existing, tested products.  Wherever)
114 W( possible, Moira)113 W
8553 64036 MT
(uses existing products.)SH
/Symbol SF
7741 66510 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Moira must)
491 W( be independent of individual services.  Each server receiving)492 W
8553 67747 MT
(information from Moira requires information with particular data)
274 W( format and)273 W
8553 68984 MT
(structure. However, the Moira database stores)
353 W( data in one coherent format.)354 W
8553 70221 MT
(Through its own knowledge of each server's needs, a data control manager will)160 W
8553 71458 MT
(access Moira data and convert it to server-appropriate structure.)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 3 3
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45965 XM
(Section E.1, page 3)SH
11 /Symbol AF
9901 8080 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(Clients must not touch the database directly; that is, they)
231 W( should not see the)232 W
10713 9317 MT
(database system)
425 W( actually used by Moira.  An application must talk to an)424 W
10713 10554 MT
(application library.  This library is a)
58 W( collection of functions allowing access to the)59 W
10713 11791 MT
(database. The)
848 W( application library communicates with the Moira server via a)270 W
10713 13028 MT
(network protocol.)SH
/Symbol SF
9901 15502 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(Maximize local processing in applications.  Moira)
252 W( is a centralized information)253 W
10713 16739 MT
(manager. It is not)
188 W( a computing service for local processors.  For efficiency, the)187 W
10713 17976 MT
(Moira protocol supports simple methods of requesting information; it)
375 W( is not)376 W
10713 19213 MT
(responsible for processing complex requests.)
59 W( Applications)
423 W( can select pieces of the)58 W
10713 20450 MT
(supplied information, or produce simple requests for change.)SH
/Symbol SF
9901 22924 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(Ability for expansion and routine upgrades.  Moira is explicitly responsible for)200 W
10713 24161 MT
(supporting new information requirements;)
502 W( as new services are added, the)501 W
10713 25398 MT
(mechanism which supports those services must be easily added.)SH
/Symbol SF
9901 27872 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(The system must provide no direct services, i.e. none at user level, so that an)204 W
10713 29109 MT
(environment can exist with or without Moira.  \050Without it, however, the economic)37 W
10713 30346 MT
(consequence of managing system services)
182 W( by hand must be recognized.\051  Moira)183 W
10713 31583 MT
(should be reasonably easy to install at other sites.)SH
/Symbol SF
9901 34057 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(Moira must be tamper-proof.  It should be)
59 W( safe from denial-of-service attacks and)58 W
10713 35294 MT
(malicious network attacks \050such as)
677 W( replay of transactions, or arbitrary)678 W
10713 36531 MT
("deathgrams"\051.)SH
/Symbol SF
9901 39005 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(Moira must be secure.  Authentication will be done using)
143 W( Athena's Kerberos)
142 W( [2])SH
10713 40242 MT
(private-key authentication system.  Once the identity of the user is verified, their)47 W
10713 41479 MT
(right to)
213 W( view or modify data is determined according to the contents of access)212 W
10713 42716 MT
(control lists \050acl's\051 which reside with the data.)SH
/Symbol SF
9901 45190 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(Fail gracefully.)SH
/Symbol SF
9901 47664 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(Moira does not have to be 100% available.  Moira provides timely information)
92 W( to)93 W
10713 48901 MT
(other services)
86 W( which are 100% available \050Hesiod, Zephyr, NFS\051.  Once again, the)85 W
10713 50138 MT
(purpose is to provide a centralized source of authoritative information.)SH
12 /Helvetica-Bold AF
8280 53491 MT
(5. System Model)SH
11 /NewCenturySchlbk-Roman AF
9091 55641 MT
(The model is derived)
219 W( from requirements listed in the previous section.  As previously)220 W
8280 56878 MT
(mentioned, Moira is composed of six components.)SH
/Symbol SF
9901 58477 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(The database.)SH
/Symbol SF
9901 60333 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(The Moira server.)SH
/Symbol SF
9901 62189 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(The application library.)SH
/Symbol SF
9901 64045 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(The Moira protocol.)SH
/Symbol SF
9901 65901 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(The Data Control Manager, DCM.)SH
/Symbol SF
9901 67757 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(The server-specific files.)SH
9091 69984 MT
(Because Moira has)
250 W( a variety of interfaces, a distinction must be maintained between)249 W
8280 71221 MT
(applications which directly read)
236 W( and write to Moira \050i.e., administrative programs\051 and)237 W
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 4 4
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 4, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(services which use information distributed from Moira \050i.e. name server\051.)
28 W( In)
361 W( both cases the)27 W
6120 9248 MT
(interface to Moira)
181 W( database is through the Moira server, using the Moira protocol.  The)182 W
6120 10485 MT
(significant difference is that server update is handled automatically)
45 W( through a data control)44 W
6120 11722 MT
(manager; administrative programs are executed by users.)SH
1 SS 
16200 6120 29159 PB 
%%BeginDocument: components.ps
%! SMS organization picture
% Mark Rosenstein, 19-jan-88

% Picture is 3 inches high and 6 inches wide

0 -60 translate

/ellipse
  { 
    matrix currentmatrix                % Push current matrix   
    5 1 roll                    % roll to bottom
    3 index 2 index add 3 index moveto  % move to start
    4 2 roll translate scale    % translate then scale
    0 0 1 0 360 arc             % draw it
    setmatrix                   % restore matrix
  } def

/centershow {
        dup stringwidth pop 2 div 3 index sub neg 2 index moveto show pop pop
} def

/Helvetica-Bold findfont 24 scalefont setfont
45 180 moveto (INPUT) show
195 180 moveto (DATABASE) show
370 180 moveto (OUTPUT) show

1.25 setlinewidth
75 140 40 20 ellipse closepath stroke % cli 1
75 75 40 20 ellipse closepath stroke % cli 2
250 130 moveto 220 130 30 0 360 arc closepath stroke % SMS server
180 90 moveto 260 90 lineto 260 60 lineto 180 60 lineto closepath stroke % db
315 130 moveto 290 130 25 0 360 arc closepath stroke % DCM
305 75 35 17 ellipse closepath stroke % backup
410 135 35 25 ellipse closepath stroke % update server
370 100 moveto 450 100 lineto 450 60 lineto 370 60 lineto closepath stroke

.75 setlinewidth
115 140 moveto 190 135 lineto stroke % cli 1 -> SMS server
115 75 moveto 190 120 lineto stroke % cli 2 -> SMS server
220 100 moveto 220 90 lineto stroke % db -> SMS server
250 130 moveto 265 130 lineto stroke % SMS server -> DCM
260 75 moveto 270 75 lineto stroke % db -> backup
315 130 moveto 375 135 lineto stroke % DCM -> update
410 110 moveto 410 100 lineto stroke % update -> sys conf

.5 setlinewidth [3] 0 setdash
89 122 moveto 89 158 lineto stroke
89 57 moveto 89 93 lineto stroke
[] 0 setdash

/Helvetica findfont 16 scalefont setfont
40 135 moveto (Client) show 92 135 moveto (lib) show
40 70 moveto (Client) show 92 70 moveto (lib) show
220 135 (Moira) centershow 220 117 (Server) centershow
220 70 (Database) centershow
290 125 (DCM) centershow
305 70 (backup) centershow
410 136 (Update) centershow 410 122 (Server) centershow
410 85 (System) centershow 410 66 (Config) centershow

/Helvetica findfont 12 scalefont setfont
117 117 moveto (Moira Prtcl) show
322 137 moveto (Update) show 335 119 moveto (Prtcl) show

%%EndDocument
 PE 11 /NewCenturySchlbk-Bold AF
19435 31000 MT
(Figure 1:)SH
/NewCenturySchlbk-Roman SF
25030 XM
(The Moira System Structure)SH
6931 33227 MT
(In all cases, a client of Moira uses the application library. The library communicates)
37 W( with)38 W
6120 34464 MT
(the Moira server via)
42 W( a network protocol.  The server will process database specific requests)41 W
6120 35701 MT
(to retrieve or update information.)SH
/Helvetica-Bold SF
6120 38791 MT
(5.1. System Assumptions)SH
/NewCenturySchlbk-Roman SF
6931 41159 MT
(The support and function of Moira is derived exclusively in response)
94 W( to the environment)95 W
6120 42396 MT
(which it supports.  This section presents factors of the)
108 W( design dealing with considerations)107 W
6120 43633 MT
(such as scalability, size, deployment, and support.)SH
8554 45163 MT
(A.)SH
9960 XM
(The system is designed optimally for 10,000 active users.  The database)
135 W( has been)136 W
8553 46400 MT
(designed to delineate between)
234 W( active and non-active status.  Active refers to those)233 W
8553 47637 MT
(individuals who have permission to use the system.)SH
8554 49593 MT
(B.)SH
9960 XM
(Moira supports a number of system)
20 W( services.  To date there are four system services)21 W
8553 50830 MT
(which are supported.  They are:)SH
/Symbol SF
10174 52429 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10986 XM
(Hesiod)SH
/Symbol SF
10174 53666 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10986 XM
(NFS)SH
/Symbol SF
10174 54903 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10986 XM
(Mail Service)SH
/Symbol SF
10174 56140 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10986 XM
(Zephyr - to date, supported but not in use)SH
8553 57670 MT
(These services are, however, each supported by a collection)
19 W( of server-specific data files.)18 W
8553 58907 MT
(To date, there are over 20 separate files used to support the above services.)SH
8554 60863 MT
(C.)SH
9960 XM
(Each service is supported by a)
19 W( collection of database fields.  Over 100 query handles)20 W
8553 62100 MT
(provide efficient, database)
193 W( independent methods of accessing data.  All applications)192 W
8553 63337 MT
(use this method.)SH
8554 65293 MT
(D.)SH
10022 XM
(The system is designed to allow futher expansion of the current database, with the)66 W
8553 66530 MT
(ultimate capability of)
178 W( Moira supporting multiple databases through the same query)177 W
8553 67767 MT
(mechanism. Provision)
306 W( for many more services is recognized through this design.)SH
8554 69723 MT
(E.)SH
9960 XM
(The distribution of server-specific files can occur every 15 minutes, with an optimal)48 W
8553 70960 MT
(time interval)
1 W( being greater than 6 hours.  The data control manager is designed to only)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 5 5
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45965 XM
(Section E.1, page 5)SH
11 /NewCenturySchlbk-Roman AF
10713 8011 MT
(generate and propagate new files)
12 W( if the database has changed within the previous time)13 W
10713 9248 MT
(interval.)SH
10714 11204 MT
(F.)SH
12060 XM
(The system)
427 W( supports one hesiod server, 20 locker servers running NFS, one)426 W
10713 12441 MT
(/usr/lib/aliases propagation.  A hesiod)
193 W( server requires 11 separate files; each hesiod)194 W
10713 13678 MT
(server will receive the same 11 files.  Each)
5 W( NFS server requires three files, one of these)4 W
10713 14915 MT
(files will be the same for most NFS servers.  /usr/lib/aliases is one file.)SH
10714 16871 MT
(G.)SH
12182 XM
(File Organization:)SH
10713 18919 MT
(Service)SH
18813 XM
(File)SH
27887 XM
(Size)SH
32459 XM
(Number)SH
37859 XM
(Propagations)SH
45779 XM
(Interval)SH
3709 50 10713 19119 UL
1980 50 18813 19119 UL
2121 50 27887 19119 UL
4198 50 32459 19119 UL
6727 50 37859 19119 UL
4139 50 45779 19119 UL
10713 20137 MT
(Hesiod)SH
18813 XM
(cluster.db)SH
27887 XM
(53656)SH
32459 XM
(1)SH
37859 XM
(1)SH
45779 XM
(6 hours)SH
18813 21355 MT
(filesys.db)SH
27887 XM
(541482)SH
32459 XM
(1)SH
37859 XM
(1)SH
45779 XM
(6 hours)SH
18813 22573 MT
(gid.db)SH
27887 XM
(341012)SH
32459 XM
(1)SH
37859 XM
(1)SH
45779 XM
(6 hours)SH
18813 23791 MT
(group.db)SH
27887 XM
(453636)SH
32459 XM
(1)SH
37859 XM
(1)SH
45779 XM
(6 hours)SH
18813 25009 MT
(grplist.db)SH
27887 XM
(357662)SH
32459 XM
(1)SH
37859 XM
(1)SH
45779 XM
(6 hours)SH
18813 26227 MT
(passwd.db)SH
27887 XM
(712446)SH
32459 XM
(1)SH
37859 XM
(1)SH
45779 XM
(6 hours)SH
18813 27445 MT
(pobox.db)SH
27887 XM
(415688)SH
32459 XM
(1)SH
37859 XM
(1)SH
45779 XM
(6 hours)SH
18813 28663 MT
(printcap.db)SH
27887 XM
(4318)SH
32459 XM
(1)SH
37859 XM
(1)SH
45779 XM
(6 hours)SH
18813 29881 MT
(service.db)SH
27887 XM
(9052)SH
32459 XM
(1)SH
37859 XM
(1)SH
45779 XM
(6 hours)SH
18813 31099 MT
(sloc.db)SH
27887 XM
(3734)SH
32459 XM
(1)SH
37859 XM
(1)SH
45779 XM
(6 hours)SH
18813 32317 MT
(uid.db)SH
27887 XM
(256381)SH
32459 XM
(1)SH
37859 XM
(1)SH
45779 XM
(6 hours)SH
10713 35179 MT
(NFS)SH
/NewCenturySchlbk-Italic SF
18813 XM
(partition)SH
/NewCenturySchlbk-Roman SF
(.dirs)SH
27887 XM
(2784)SH
32459 XM
(20)SH
37859 XM
(20)SH
45779 XM
(12 hours)SH
/NewCenturySchlbk-Italic SF
18813 36397 MT
(partition)SH
/NewCenturySchlbk-Roman SF
(.quotas)SH
27887 XM
(1205)SH
32459 XM
(20)SH
37859 XM
(20)SH
45779 XM
(12 hours)SH
18813 37615 MT
(credentials)SH
27887 XM
(152648)SH
32459 XM
(1)SH
37859 XM
(20)SH
45779 XM
(12 hours)SH
10713 40477 MT
(Mail)SH
18813 XM
(/usr/lib/aliases)SH
27887 XM
(445000)SH
32459 XM
(1)SH
37859 XM
(1)SH
45779 XM
(24 hours)SH
10713 43339 MT
(Zephyr)SH
/NewCenturySchlbk-Italic SF
18813 XM
(class)SH
/NewCenturySchlbk-Roman SF
(.acl)SH
27887 XM
(100)SH
32459 XM
(6)SH
37859 XM
(18)SH
45779 XM
(24 hours)SH
10713 44557 MT
(TOTAL)SH
32459 XM
(59)SH
37859 XM
(90)SH
10713 46605 MT
(NOTE:)SH
15609 XM
(The above files will only be generated and)
368 W( propagated if the data has)369 W
15609 47842 MT
(changed during)
32 W( the time interval.  For example, although the hesiod interval)31 W
15609 49079 MT
(is 6 hours, there is no effect on system resources unless)
257 W( the information)258 W
15609 50316 MT
(relevant to hesiod has changed during the previous 6 hour interval.)SH
10714 52364 MT
(H.)SH
12242 XM
(Application interfaces provide all the mechanisms to change database fields.  There)32 W
10713 53601 MT
(will be no need for any Moira updating to be done by directly)
307 W( manipulating the)308 W
10713 54838 MT
(database. For)
346 W( each service, there)
20 W( is at least one application interface.  Currently there)19 W
10713 56075 MT
(are twelve interface programs.)SH
/Helvetica-Bold SF
8280 59165 MT
(5.2. The Database)SH
/NewCenturySchlbk-Roman SF
9091 61533 MT
(The database is the core of Moira.  It provides the storage mechanism for the complete)139 W
8280 62770 MT
(system.)SH
9091 64997 MT
(The database is written)
157 W( using RTI INGRES, a commercially available database toolkit.)156 W
8280 66234 MT
(Its advantage is that)
45 W( it is available and it works.  INGRES provides the Athena plant with)46 W
8280 67471 MT
(a complete query)
2 W( system, a C library of routines, and a command interface language.  Moira)1 W
8280 68708 MT
(does not depend on any special feature of INGRES.  In fact,)
86 W( Moira can easily utilize other)87 W
8280 69945 MT
(relational databases.)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 6 6
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 6, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6931 8011 MT
(A complete description of the INGRES design can)
285 W( be found in RTI's INGRES users')284 W
6120 9248 MT
(manuals; this paper does not discuss the structure)
92 W( of INGRES.  This documentation does,)93 W
6120 10485 MT
(however, describe, in detail the structure of the Moira database.)SH
6931 12712 MT
(The database contains the following:)SH
/Symbol SF
7741 14311 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(User information \050account, finger\051)SH
/Symbol SF
7741 15548 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Machine information)SH
/Symbol SF
7741 16785 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Cluster information)SH
/Symbol SF
7741 18022 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(General service information \050service location, /etc/services\051)SH
/Symbol SF
7741 19259 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(File system information \050NFS partitions, logical filesystems\051)SH
/Symbol SF
7741 20496 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Printcap information)SH
/Symbol SF
7741 21733 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Post office information)SH
/Symbol SF
7741 22970 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Lists \050mail, acl, groups\051)SH
/Symbol SF
7741 24207 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Aliases)SH
6931 26434 MT
(The database fields are described in section starting on page 27 of this document.)SH
6931 28661 MT
(The database is a completely independent entity from the)
234 W( Moira system.  The Ingres)233 W
6120 29898 MT
(query bindings and database specific routines are layered)
98 W( at the lower levels of the Moira)99 W
6120 31135 MT
(server.)SH
/NewCenturySchlbk-Italic SF
11336 XM
(All applications are independent of the)
561 W( database specific routines.)560 W
/NewCenturySchlbk-Roman SF
50656 XM
(This)SH
6120 32372 MT
(independence is acheived through the use of query handles,)
324 W( Moira specifice functions)325 W
6120 33609 MT
(providing data access and updating.  An application passes query)
207 W( handles to the Moira)206 W
6120 34846 MT
(server which then resolves the request.  This request)
271 W( is passed to the database via a)272 W
6120 36083 MT
(database specific call.  Allowing for additional data and future expansions, Moira can use)112 W
6120 37320 MT
(other databases for information.  This mechanism, although not functional at this)
86 W( time, is)87 W
6120 38557 MT
(achieved by having a set)
357 W( of query handles for each accessable database.  Then, the)356 W
6120 39794 MT
(application merely passes a query handle to a function,)
118 W( which then resolves the database)119 W
6120 41031 MT
(and query.)SH
6931 43258 MT
(The current database supports all activities inherent)
63 W( to operation and data requirements)62 W
6120 44495 MT
(of the previously listed Moira-supported services.  No attempt is)
36 W( made to circumvent Moira)37 W
6120 45732 MT
(as the central)
126 W( point of contact.  When needed and where applicable, as more services are)125 W
6120 46969 MT
(required, new fields and query handles will be provided for support.)SH
10 /Helvetica-BoldOblique AF
6120 49796 MT
(5.2.1. Input Data Checking)SH
11 /NewCenturySchlbk-Roman AF
6931 51756 MT
(Without proper checks on input values, a user could easily enter data of)
14 W( the wrong type or)15 W
6120 52993 MT
(of a nonsensical value for that type into Moira.  For example, consider the case)
43 W( of updating)42 W
6120 54230 MT
(a user's)
16 W( mail address.  If, instead of typing e40-po \050a valid post office server\051, the user typed)17 W
6120 55467 MT
(in e40-p0 \050a nonexistant)
204 W( machine\051, all the user's mail would be "returned to sender" as)203 W
6120 56704 MT
(undelivereable.)SH
6931 58931 MT
(Input checking is done by both the Moira server and by applications)
99 W( using Moira.  Each)100 W
6120 60168 MT
(query supported by the server may)
143 W( have a validation routine supplied which checks that)142 W
6120 61405 MT
(the arguments to the query are legitimate.  Queries which do not)
101 W( have side effects on the)102 W
6120 62642 MT
(database do not need a validation routine.)SH
6931 64869 MT
(Some checks are better done in applications)
133 W( programs; for example, the Moira server is)132 W
6120 66106 MT
(not in a)
80 W( good position to tell if a user's new choice for a login shell exists.  However, other)81 W
6120 67343 MT
(checks, such as verifying that a user's)
277 W( home directory is a valid filesystem name, are)276 W
6120 68580 MT
(conducted by the server.  An)
271 W( error condition will be returned if the value specified is)272 W
6120 69817 MT
(incorrect. The)
836 W( list of predefined queries \050Section 7\051 defines those)
265 W( fields which require)264 W
6120 71054 MT
(explicit data checking.)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 7 7
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45965 XM
(Section E.1, page 7)SH
/Helvetica-BoldOblique SF
8280 7929 MT
(5.2.2. Backup)SH
11 /NewCenturySchlbk-Roman AF
9091 9889 MT
(It is not absolutely critical that the Moira database be)
90 W( available 24 hours a day; what is)91 W
8280 11126 MT
(important is that the database remain internally consistant, and that the bulk)
77 W( of the data)76 W
8280 12363 MT
(not be lost.  With that in mind, the database)
103 W( backup system for Moira has been set up to)104 W
8280 13600 MT
(maximize recoverability in the event of damage to the database.)SH
9091 15827 MT
(Two programs \050)191 W
/Courier SF
(mrbackup)SH
/NewCenturySchlbk-Roman SF
23215 XM
(and)SH
/Courier SF
25628 XM
(mrrestore)SH
/NewCenturySchlbk-Roman SF
(\051 are generated automatically)
191 W( \050using an)190 W
/Courier SF
53100 XM
(awk)SH
9 /NewCenturySchlbk-Roman AF
34683 16718 MT
(1)SH
11 SS 
8280 17088 MT
(script\051 from the database description file)28 W
/Courier SF
29403 XM
(db/newdb)SH
/NewCenturySchlbk-Roman SF
35183 XM
(.)SH
/Courier SF
36159 XM
(mrbackup)SH
/NewCenturySchlbk-Roman SF
41774 XM
(copies each relation of the)29 W
8280 18325 MT
(current Moira database)
133 W( into an ASCII file.  Each row of the database is converted into a)132 W
8280 19562 MT
(single line of text; each line consists of several colon separated fields followed by a)
56 W( newline)57 W
8280 20799 MT
(character \050ASCII code 10 decimal\051.  Colons and backslashes inside fields)
52 W( are replaced by \134:)51 W
8280 22036 MT
(and \134\134, respectively.)
25 W( Non-printing)
358 W( characters are replaced by \134nnn, where nnn is the octal)26 W
8280 23273 MT
(value of the ASCII code for the non-printing character.  The full)
230 W( database dump takes)229 W
8280 24510 MT
(roughly 12 minutes)
179 W( with the current \050albeit partially-populated\051 database; the ascii files)180 W
8280 25747 MT
(take up about 3.2 MB of space.  It is intended that mrbackup be)
95 W( invoked by a shell script)94 W
8280 26984 MT
(run periodically by the)323 W
/Courier SF
21418 XM
(cron)SH
/NewCenturySchlbk-Roman SF
24687 XM
(daemon; this shell script \050currently)
323 W( called)324 W
/Courier SF
48114 XM
(nightly.sh)SH
/NewCenturySchlbk-Roman SF
(\051)SH
8280 28221 MT
(maintains the last three backups)
152 W( on line.  It is intended that these backups be put on a)151 W
8280 29458 MT
(separate physical)
232 W( disk drive from the drive containing the actual database.  Also, they)233 W
8280 30695 MT
(should be dumped to tape using)200 W
/Courier SF
25950 XM
(tar)SH
/NewCenturySchlbk-Roman SF
(, or copied to another machine, on a regular basis.)199 W
8280 31932 MT
(Whether they should be dumped to TK50 or reel-to-reel tape is open to discussion at)
118 W( this)119 W
8280 33169 MT
(point.)SH
/Courier SF
9091 35396 MT
(mrrestore)SH
/NewCenturySchlbk-Roman SF
15401 XM
(does the inverse of)64 W
/Courier SF
25399 XM
(mrbackup)SH
/NewCenturySchlbk-Roman SF
(. It)
434 W( requires the existance of a empty database)63 W
9 SS 
17470 36287 MT
(2)SH
11 SS 
8280 36657 MT
(named "smstemp")SH
17970 XM
(, created as follows:)SH
10 /Courier AF
10152 38063 MT
(# createdb smstemp)SH
10152 39094 MT
(# quel smstemp)SH
10152 40125 MT
(* \134i /mit/moira/src/db/newdb)SH
/NewCenturySchlbk-Italic SF
34152 XM
(load DB definition)SH
/Courier SF
10152 41156 MT
(* \134g)SH
/NewCenturySchlbk-Italic SF
34152 XM
(execute DB definition)SH
/Courier SF
10152 42187 MT
(* \134q)SH
/NewCenturySchlbk-Italic SF
34152 XM
(quit)SH
/Courier SF
10152 43218 MT
(# mrrestore)SH
10152 44249 MT
(Do you *REALLY* want to wipe the Moira database? \050yes or no\051: yes)SH
10152 45280 MT
(Have you initialized an empty database named smstemp? \050yes or no\051: yes)SH
10152 46311 MT
(Opening database...done)SH
10152 47342 MT
(Prefix of backup to restore: /site/sms/backup_1/)SH
10152 48373 MT
(Are you sure? \050yes or no\051: yes)SH
10152 49404 MT
(Working on /site/sms/backup_1/users)SH
14952 50435 MT
(...)SH
11 /NewCenturySchlbk-Roman AF
9091 52662 MT
(This system by itself provides recovery with the loss of no more)
211 W( than roughly a day's)210 W
8280 53899 MT
(transactions. To)
404 W( improve this,)
49 W( the journal file kept by the Moira server daemon contains a)50 W
8280 55136 MT
(listing of all successful changes to the database.)SH
9091 57363 MT
(RTI Ingres provides some checkpointing and journalling facilities.)
453 W( However,)
1210 W( past)452 W
8280 58600 MT
(experience with them has shown that they are not particularly reliable.  Also,)
133 W( a common)134 W
8280 59837 MT
(failure mode,)
257 W( at least with version 3 of RTI ingres, has been corruption in the binary)256 W
8280 61074 MT
(structure of the database.  Since the checkpointing mechanism)
28 W( used is simply a)29 W
/Courier SF
49341 XM
(tar)SH
/NewCenturySchlbk-Roman SF
51656 XM
(format)SH
8280 62311 MT
(copy of the database directory, restoring from)
198 W( the checkpoint will probably not cure the)197 W
8280 63548 MT
(corruption, particularly since they)
51 W( may go for days without being noticed.  The only known)52 W
10800 50 8280 66490 UL
8 SS 
9017 68223 MT
(1)SH
10 SS 
9462 68574 MT
(All pathnames are relative to the root of the Moira source tree)SH
8 SS 
9017 70507 MT
(2)SH
10 SS 
9462 70858 MT
(The eventual)
192 W( production version will work on a database named "sms"; however, for test use,)193 W
8280 72000 MT
("smstemp" is used instead)SH
/Helvetica-Bold SF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 8 8
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 8, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(cure is to dump the entire database to text files, and recreate it from scratch from)
61 W( the text)60 W
6120 9248 MT
(files. Because)
1076 W( of this dubious history, it was decided that)
385 W( the RTI checkpoint and)386 W
6120 10485 MT
(journalling mechanism was not sufficiently reliable for use with Moira.)SH
/Helvetica-Bold SF
6120 13575 MT
(5.3. The Moira Protocol)SH
/NewCenturySchlbk-Roman SF
6931 15943 MT
(The Moira protocol is a remote procedure call protocol layered on top of TCP/IP.)
2 W( Clients)
308 W( of)1 W
6120 17180 MT
(Moira make a connection to a well known port \050T.B.S.\051, send requests over that)
12 W( stream, and)13 W
6120 18417 MT
(received replies.  Note:  the precise byte-level encoding)
120 W( of the protocol is not yet specified)119 W
6120 19654 MT
(here.)SH
6931 21881 MT
(Each request consists of a)
155 W( major request number, and several counted strings of bytes.)156 W
6120 23118 MT
(Each reply consists of a single number \050an error code\051 followed by zero or more)
16 W( "tuples" \050the)15 W
6120 24355 MT
(result of a query\051 each of)
77 W( which consists of several counted strings of bytes.  Requests and)78 W
6120 25592 MT
(replies also contain a version number, to allow clean handling of version skew.)SH
6931 27819 MT
(The following major requests are defined for Moira.  It)
22 W( should be noted that each "handle")21 W
6120 29056 MT
(\050named database action\051)
215 W( defines its own signature of arguments and results.  Also, the)216 W
6120 30293 MT
(server may refuse to perform any of these actions based on the authenticated identity)
8 W( of the)7 W
6120 31530 MT
(user making the request.)SH
6120 33578 MT
(Noop)SH
15912 XM
(Do nothing.  This is useful for testing and)
17 W( profiling of the RPC layer and)18 W
15912 34815 MT
(the server in general.)SH
6120 36671 MT
(Authenticate)SH
15912 XM
(There is)
378 W( one argument, a Kerberos)
377 W( [2])
SH( authenticator.  All requests)377 W
15912 37908 MT
(received after this request should be performed on)
480 W( behalf of the)481 W
15912 39145 MT
(principal identified by the authenticator.)SH
6120 41001 MT
(Query)SH
15912 XM
(There are a variable number of)
119 W( arguments.  The first is the name of a)118 W
15912 42238 MT
(pre-defined query \050a "query)
19 W( handle"\051, and the rest are arguments to that)20 W
15912 43475 MT
(query. If)
616 W( the query is allowed, any)
155 W( retrieved data are passed back as)154 W
15912 44712 MT
(several return)
278 W( values, each with an error code of MR_MORE_DATA)279 W
15912 45949 MT
(indicating that there are more tuples coming.)SH
6120 47805 MT
(Access)SH
15912 XM
(There are a variable number of)
119 W( arguments.  The first is the name of a)118 W
15912 49042 MT
(pre-defined query useable for the "query" request, and)
3 W( the rest are query)4 W
15912 50279 MT
(arguments. The)
748 W( server returns a reply with a zero error code if the)221 W
15912 51516 MT
(query would have)
167 W( been allowed, or a reply with a non-zero error code)168 W
15912 52753 MT
(explaining the reason why the query was rejected.)SH
6120 54609 MT
(Trigger_DCM)SH
15912 XM
(This takes no arguments.)
561 W( It)
1426 W( will request the Moira server to)560 W
15912 55846 MT
(immediately spawn a)
470 W( DCM process.  Access checking is done by)471 W
15912 57083 MT
(checking permissions for the pseudo-query "trigger_dcm" \050tdcm\051.)SH
/Helvetica-Bold SF
6120 60173 MT
(5.4. The Moira Server)SH
9 /NewCenturySchlbk-Roman AF
12432 62393 MT
(3)SH
11 SS 
6931 62763 MT
(All remote)160 W
13398 XM
(communication with the Moira database is)
160 W( done through the Moira server,)161 W
6120 64000 MT
(using a remote procedure call protocol built on top of GDB)
53 W( [1].)
SH( The)
412 W( Moira server runs as a)53 W
6120 65237 MT
(single UNIX process on the Moira database machine.  It listens for TCP/IP connections on a)12 W
6120 66474 MT
(well known service port \050T.B.D.\051,)
226 W( and processes remote procedure call requests on each)225 W
10800 50 6120 68774 UL
8 SS 
6857 70507 MT
(3)SH
10 SS 
7302 70858 MT
(The DCM and the Moira backup programs, which run on the host where the Moira database is)118 W
6120 72000 MT
(located, do go through the server, both for performance reasons and to avoid clogging the server)SH
/Helvetica-Bold SF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 9 9
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45965 XM
(Section E.1, page 9)SH
11 /NewCenturySchlbk-Roman AF
8280 8011 MT
(connection it accepts.)SH
9091 10238 MT
(One of the major concerns for efficiency in Moira is the)
244 W( time it takes to start up an)245 W
8280 11475 MT
(application's connection to the server. One of the limiting factors for Athenareg, Moira's)183 W
8280 12712 MT
(predecessor, is the time it takes to)
33 W( start up the Ingres back end subprocess which it uses to)34 W
8280 13949 MT
(access the database.)
17 W( This)
339 W( was done for every client connection to the database.  As starting)16 W
8280 15186 MT
(up a backend process is a rather heavyweight operation, the Moira server will do this only)65 W
8280 16423 MT
(once, at the start up time of the daemon.)SH
9091 18650 MT
(GDB, through the)
54 W( use of BSD UNIX non-blocking I/O, allows the programmer to set up a)53 W
8280 19887 MT
(single process server which handles multiple simultaneous)
166 W( TCP connections.  The Moira)167 W
8280 21124 MT
(server will be able to make progress reading)
187 W( new RPC requests and sending old replies)186 W
8280 22361 MT
(simultaneously, which is important if a reasonably large amount of data is to be sent back.)SH
9091 24588 MT
(SUN RPC was)
244 W( also considered for use in the RPC layer, but was rejected because it)245 W
8280 25825 MT
(cannot handle large return values, such as might be returned by a complex query.)SH
/Helvetica-Bold SF
8280 28915 MT
(5.5. Access control)SH
/NewCenturySchlbk-Roman SF
9091 31283 MT
(The server performs access control on all queries which might side-effect the database.  As)2 W
8280 32520 MT
(most information in the database will)
452 W( be loaded into the nameserver and/or other)453 W
8280 33757 MT
(configuration files, placing access control on read-only queries is unnecessary.)SH
9091 35984 MT
(Because one of the requests that the server supports is a request to check access to)
188 W( a)187 W
8280 37221 MT
(particular query, it is expected that many access checks will have to)
138 W( be performed twice:)139 W
8280 38458 MT
(once to allow the client to find out that)
9 W( it should prompt the user for information, and again)8 W
8280 39695 MT
(when the query is actually executed.  It is expected that some form of)
109 W( access caching will)110 W
8280 40932 MT
(eventually be worked into the server for performance reasons.)SH
/Helvetica-Bold SF
8280 44022 MT
(5.6. The Application Library)SH
/NewCenturySchlbk-Roman SF
9091 46390 MT
(The Moira application library provides access to Moira through a simple)
184 W( set of remote)183 W
8280 47627 MT
(procedure calls to the Moira server.  The library is)
148 W( layered on top of Noah Mendohlson's)149 W
8280 48864 MT
(GDB library,)
170 W( and also uses Ken Raeburn's com_err library to provide a coherant way to)169 W
8280 50101 MT
(return error status codes to applications.)SH
9091 52328 MT
(For use)
116 W( by the DCM and other utilities, there exists a version of the library which does)117 W
8280 53565 MT
(direct calls to Ingres, rather than going through the server.  Use of this)
209 W( library should)208 W
8280 54802 MT
(result in significantly higher throughput, and will also reduce)
58 W( the load on the server itself.)59 W
8280 56039 MT
(The direct "glue" library provides the exact same interface as the RPC library,)
77 W( except that)76 W
8280 57276 MT
(it does not use Kerberos authentication.)SH
10 /Helvetica-BoldOblique AF
8280 60103 MT
(5.6.1. Error Handling)SH
11 /NewCenturySchlbk-Roman AF
9091 62063 MT
(Because of all the possible failure points in)
152 W( a networked application, we decided to use)153 W
8280 63300 MT
(Ken Raeburn's)28 W
/Courier SF
16162 XM
(libcom_err)SH
/NewCenturySchlbk-Roman SF
23096 XM
(library. Com_err)
362 W( allows several)
28 W( different sets of error codes to)27 W
8280 64537 MT
(be used in a program simultaneously - every error code is an integer, and)
79 W( each error table)80 W
8280 65774 MT
(reserves a subrange of the integers \050based on a hash function of the table name\051.)
140 W( UNIX)584 W
8280 67011 MT
(system call error codes are included in this system.  By convention, zero indicates)
76 W( success,)77 W
8280 68248 MT
(or no error.  The following routines may be useful to applications programmers who)
23 W( wish to)22 W
8280 69485 MT
(display the reasons for failure of a routine.)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 10 10
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 10, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /Courier AF
8178 7886 MT
(char *error_message\050code\051)SH
8178 9000 MT
(int code;)SH
/NewCenturySchlbk-Roman SF
6120 10651 MT
(Returns the error message string associated with)SH
/Courier SF
31475 XM
(code)SH
/NewCenturySchlbk-Roman SF
(.)SH
/Courier SF
8178 12177 MT
(void com_err\050whoami, code, message\051)SH
11970 13291 MT
(char *whoami;)SH
23670 XM
(/* what routine encountered the error */)SH
11970 14405 MT
(int code;/* An error code */)SH
11970 15519 MT
(char *message; /* printed after the error message */)SH
11970 16633 MT
(int code;)SH
/NewCenturySchlbk-Roman SF
6120 18284 MT
(By default, prints a message of the form)SH
/NewCenturySchlbk-Italic SF
8553 20021 MT
(whoami)SH
/NewCenturySchlbk-Roman SF
(:)SH
/NewCenturySchlbk-Italic SF
13220 XM
(error_message\050code\051 message newline)SH
/NewCenturySchlbk-Roman SF
6120 21758 MT
(If)SH
/Courier SF
7241 XM
(code)SH
/NewCenturySchlbk-Roman SF
10187 XM
(is zero, nothing is printed for the error message.)SH
/Courier SF
8178 23284 MT
(void set_com_err_hook\050hook\051)SH
11970 24398 MT
(void \050*hook\051\050\051;)SH
23670 XM
(/* Function)SH
18480 25512 MT
(* to call instead of printing to stderr */)SH
/NewCenturySchlbk-Roman SF
6931 27739 MT
(If this routine is called with)
49 W( a non-NULL argument, it will cause future calls to)50 W
/Courier SF
48300 XM
(com_err)SH
/NewCenturySchlbk-Roman SF
6120 28976 MT
(to be directed into the hook function instead.  This can be used to, for example, route)
55 W( error)54 W
6120 30213 MT
(messages to)447 W
/Courier SF
13413 XM
(syslog)SH
/NewCenturySchlbk-Roman SF
18126 XM
(or to display them using)
447 W( a dialogue box in a window-system)448 W
6120 31450 MT
(environment.)SH
10 /Helvetica-BoldOblique AF
6120 34277 MT
(5.6.2. Moira application library calls)SH
11 /NewCenturySchlbk-Roman AF
6931 36237 MT
(The Moira library contains the following routines:)SH
/Courier SF
8178 37763 MT
(int mr_connect\050\051;)SH
/NewCenturySchlbk-Roman SF
6931 39990 MT
(Connects to the Moira server.  This returns an error code, or zero)
95 W( on success.  This does)94 W
6120 41227 MT
(not attempt to authenticate the user, since for simple read-only queries)
2 W( which may not need)3 W
6120 42464 MT
(authentication, the)
4 W( overhead of authentication can be comparable to that of the query.  This)3 W
6120 43701 MT
(can return a)
603 W( number of operational error conditions, such as ECONNREFUSED)604 W
6120 44938 MT
(\050Connection refused\051,)
2482 W( ETIMEDOUT \050Connection timed out\051, or)2481 W
6120 46175 MT
(MR_ALREADY_CONNECTED if a connection already exists.)SH
/Courier SF
8178 47701 MT
(int mr_auth\050clientname\051;)SH
8178 48815 MT
(char *clientname)SH
/NewCenturySchlbk-Roman SF
6120 50466 MT
(Attempts to authenticate the user to the system.)54 W
/Courier SF
31929 XM
(Clientname)SH
/NewCenturySchlbk-Roman SF
38889 XM
(is the name of)
54 W( the program)55 W
6120 51703 MT
(acting on behalf)
103 W( of the user.)102 W
/Courier SF
21191 XM
(mr_auth)SH
/NewCenturySchlbk-Roman SF
26219 XM
(can return Kerberos failures, either local or remote)102 W
6120 52940 MT
(\050for example, "can't find)
745 W( ticket" or "ticket expired"\051, MR_NOT_CONNECTED if)746 W
/Courier SF
6120 54177 MT
(mr_connect)SH
/NewCenturySchlbk-Roman SF
13056 XM
(was not called or was not successful, or)
30 W( MR_ABORTED if the attempt to send)29 W
6120 55414 MT
(or recieve data failed \050and the connection is now closed\051.)SH
/Courier SF
8178 56940 MT
(int mr_disconnect\050\051;)SH
/NewCenturySchlbk-Roman SF
6120 58591 MT
(This drops the connection to Moira.  The only error code it)
360 W( currently can return is)361 W
6120 59828 MT
(MR_NOT_CONNECTED, if no connection was there in the first place.)SH
/Courier SF
8178 61354 MT
(int mr_noop\050\051;)SH
/NewCenturySchlbk-Roman SF
6120 63005 MT
(This attempts)
113 W( to do a handshake with Moira \050for testing and performance measurement\051.)112 W
6120 64242 MT
(It can return MR_NOT_CONNECTED or MR_ABORTED if not successful.)SH
/Courier SF
8178 65768 MT
(int mr_access\050name, argc, argv\051)SH
11970 66882 MT
(char *name;)SH
29520 XM
(/* Name of query */)SH
11970 67996 MT
(int argc;)SH
23670 XM
(/* Number of arguments provided */)SH
11970 69110 MT
(char *argv[];)SH
29520 XM
(/* Argument vector */)SH
/NewCenturySchlbk-Roman SF
6931 71337 MT
(This routine checks the user's access to an)
192 W( Moira query named)193 W
/Courier SF
41167 XM
(name)SH
/NewCenturySchlbk-Roman SF
(, with arguments)193 W
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 11 11
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 11)SH
11 /Courier AF
8280 8011 MT
(argv[0])SH
/NewCenturySchlbk-Roman SF
(...)SH
/Courier SF
(argv[argc-1])SH
/NewCenturySchlbk-Roman SF
(. It)
416 W( does not actually process the)
55 W( query.  This is included to give)54 W
8280 9248 MT
(applications a "hint" as to whether or not the particular query will succeed,)
147 W( so that they)148 W
8280 10485 MT
(won't bother to prompt the user for a large number of arguments if the)
59 W( query is doomed to)58 W
8280 11722 MT
(failure.)SH
/Courier SF
10338 13248 MT
(int mr_query\050name, argc, argv, callproc, callarg\051)SH
14130 14362 MT
(char *name;)SH
31680 XM
(/* Name of query */)SH
14130 15476 MT
(int argc;)SH
25830 XM
(/* Number of arguments provided */)SH
14130 16590 MT
(char *argv[];)SH
31680 XM
(/* Argument vector */)SH
14130 17704 MT
(int \050*callproc\051\050\051;)SH
31680 XM
(Routine to call on each reply */)SH
14130 18818 MT
(caddr_t callarg;)SH
25830 XM
(/* Additional argument)SH
20640 19932 MT
(* to callback routine */)SH
/NewCenturySchlbk-Roman SF
8280 21583 MT
(This runs an)
184 W( Moira query named)185 W
/NewCenturySchlbk-Italic SF
26510 XM
(name)SH
/NewCenturySchlbk-Roman SF
29771 XM
(with arguments)185 W
/Courier SF
38562 XM
(argv[0])SH
/NewCenturySchlbk-Roman SF
(...)SH
/Courier SF
(argv[argc-1])SH
/NewCenturySchlbk-Roman SF
(. For)676 W
8280 22820 MT
(each returned tuple of data,)263 W
/Courier SF
24068 XM
(callproc)SH
/NewCenturySchlbk-Roman SF
29917 XM
(is called with three arguments: the)
263 W( number of)262 W
8280 24057 MT
(elements in the tuple, a pointer to an array of characters \050the data\051, and)SH
/Courier SF
45241 XM
(callarg)SH
/NewCenturySchlbk-Roman SF
(.)SH
10 /Helvetica-BoldOblique AF
8280 26884 MT
(5.6.3. Other provided routines)SH
11 /NewCenturySchlbk-Roman AF
9091 28844 MT
(The Moira library also contains a)
135 W( number of other routines which are used both by the)136 W
8280 30081 MT
(servers and some of the clients.  These include)SH
/Symbol SF
9901 31680 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(convert between flags integer and human-readable string)SH
/Symbol SF
9901 32917 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(canonicalize hostname)SH
/Symbol SF
9901 34154 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(string utility routines - trim whitespace, save a copy)SH
/Symbol SF
9901 35391 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(hash table abstraction)SH
/Symbol SF
9901 36628 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(simple queue abstraction)SH
/Symbol SF
9901 37865 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(a menu package used for some of the clients)SH
8280 39395 MT
(These routines are documented in the provided manualpage)SH
/Courier SF
39140 XM
(moira.3)SH
/NewCenturySchlbk-Roman SF
(.)SH
/Helvetica-Bold SF
8280 42485 MT
(5.7. The Data Control Manager)SH
/NewCenturySchlbk-Roman SF
9091 44853 MT
(The data control manager, or DCM, is a program responsible)
53 W( for distributing information)52 W
8280 46090 MT
(to servers.  Basically, the DCM is invoked regularly by cron at)
66 W( intervals which become the)67 W
8280 47327 MT
(minimum update time for)
111 W( any service.  Whenever the DCM runs, it will determine which)110 W
8280 48564 MT
(services and hosts should be updated)
153 W( now.  The update frequency is stored in the Moira)154 W
8280 49801 MT
(database. A)
614 W( server/host relationship is unique to each update time.)
154 W( Through)
612 W( the Moira)153 W
8280 51038 MT
(query mechanism, the DCM extracts Moira data)
69 W( and converts it to server dependent form.)70 W
8280 52275 MT
(The conversion of the Moira data to the server-specific format is done by)
168 W( a sub-program)167 W
8280 53512 MT
(specific to that service.)SH
10 /Helvetica-BoldOblique AF
8280 56339 MT
(5.7.1. DCM Operation)SH
11 /NewCenturySchlbk-Roman AF
9091 58299 MT
(On startup, the DCM first checks for the)
87 W( existance of the disable file)88 W
/NewCenturySchlbk-Italic SF
45252 XM
(/etc/nodcm)SH
/NewCenturySchlbk-Roman SF
(; if this)88 W
8280 59536 MT
(file exists, it exits quietly.  Next it connects to the database and)
186 W( authenticates as)185 W
/NewCenturySchlbk-Bold SF
52387 XM
(root)SH
/NewCenturySchlbk-Roman SF
(.)SH
8280 60773 MT
(Then it retrieves the value)
51 W( of)52 W
/NewCenturySchlbk-Bold SF
23677 XM
(dcm_enable)SH
/NewCenturySchlbk-Roman SF
30784 XM
(from the values relation of the database; if this)52 W
8280 62010 MT
(value is zero, it will exit, logging this action.)SH
9091 64237 MT
(Next, the DCM scans the services table.  This table contains:)SH
8280 66285 MT
(Name)SH
18072 XM
(The name of each service.)SH
8280 68141 MT
(Type)SH
18072 XM
(The type)
195 W( of service.  Currently defined service types are)194 W
/NewCenturySchlbk-Bold SF
48646 XM
(unique)SH
/NewCenturySchlbk-Roman SF
53164 XM
(and)SH
/NewCenturySchlbk-Bold SF
18072 69378 MT
(replicat)SH
/NewCenturySchlbk-Roman SF
(ed. This)
959 W( type affects some parts of the update algorythm,)327 W
18072 70615 MT
(described below.)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 12 12
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 12, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(ACE type and ACE name)SH
15912 9248 MT
(These specify the access control entity which owns the service.  The type)18 W
15912 10485 MT
(may be)65 W
/NewCenturySchlbk-Bold SF
19997 XM
(list)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
22490 XM
(user)SH
/NewCenturySchlbk-Roman SF
(, or)65 W
/NewCenturySchlbk-Bold SF
27083 XM
(none)SH
/NewCenturySchlbk-Roman SF
(. The)
436 W( name)
65 W( will then be a list name, a login)64 W
15912 11722 MT
(name, or)152 W
/NewCenturySchlbk-Bold SF
20985 XM
(none)SH
/NewCenturySchlbk-Roman SF
(, respectively.  The owner is allowed)
152 W( to manipulate the)153 W
15912 12959 MT
(service or service/host tuples supporting that service.)SH
6120 14815 MT
(Interval)SH
15912 XM
(Gives the minimum time between updates of this service, in minutes.)SH
6120 16671 MT
(Target)SH
15912 XM
(The name)
189 W( of the target file on the servers.  This is where Moira will)188 W
15912 17908 MT
(deposit the new configuration files.)SH
6120 19764 MT
(Script)SH
15912 XM
(This is the name of the script file on Moira which will be executed on)
4 W( the)5 W
15912 21001 MT
(server to install the new configuration files.)SH
6120 22857 MT
(DFGen)SH
15912 XM
(This is the time that the data files were last generated)
88 W( for this service.)87 W
15912 24094 MT
(It is stored as a)
113 W( unix format time \050number of seconds since January 1,)114 W
15912 25331 MT
(1970 GMT\051.)SH
6120 27187 MT
(DFCheck)SH
15912 XM
(This is the time that the data files were last checked to)
252 W( see if they)251 W
15912 28424 MT
(needed to be regenerated.  It is stored as a unix format time.)SH
6120 30280 MT
(Enable)SH
15912 XM
(This boolean flag indicates if updates should be performed)
357 W( on this)358 W
15912 31517 MT
(service. It)
306 W( may be set and cleared by the user.)SH
6120 33373 MT
(InProgress)SH
15912 XM
(This boolean flag)
155 W( indicates that an update is currently in progress for)154 W
15912 34610 MT
(this service.  It is set and cleared by only by the DCM.  It is)71 W
/NewCenturySchlbk-Bold SF
47486 XM
(not)SH
/NewCenturySchlbk-Roman SF
49762 XM
(relyed)SH
15912 35847 MT
(upon for locking.)SH
6120 37703 MT
(Harderror)SH
15912 XM
(This field records the error number of any hard errors that)
36 W( occur during)35 W
15912 38940 MT
(an update.)SH
6120 40796 MT
(Errmsg)SH
15912 XM
(This is a textual representation of the error reported in)SH
/NewCenturySchlbk-Italic SF
44288 XM
(harderror)SH
/NewCenturySchlbk-Roman SF
(.)SH
6120 42652 MT
(ModTime)SH
15912 XM
(The time this data was created or last modified.  This)
215 W( refers only to)216 W
15912 43889 MT
(modification by a user, not by the DCM.)SH
6120 45745 MT
(ModBy)SH
15912 XM
(The user name of who last modified this record.)SH
6120 47601 MT
(ModWith)SH
15912 XM
(The name of the application that was used for the last modification.)SH
6931 49828 MT
(Each time the DCM is invoked, a search through this table will indicate which servers)151 W
6120 51065 MT
(need updating.  It will first identify those services which are)180 W
/NewCenturySchlbk-Italic SF
39052 XM
(enable)SH
/NewCenturySchlbk-Roman SF
(d, do not have)181 W
/NewCenturySchlbk-Italic SF
50455 XM
(hard)SH
6120 52302 MT
(errors)SH
/NewCenturySchlbk-Roman SF
(, have a non-zero)293 W
/NewCenturySchlbk-Italic SF
19229 XM
(interval)SH
/NewCenturySchlbk-Roman SF
(, and do have a generator module.  For each)
293 W( of these)292 W
6120 53539 MT
(services, it compares)34 W
/NewCenturySchlbk-Italic SF
17062 XM
(dfcheck)SH
/NewCenturySchlbk-Roman SF
21191 XM
(and the update)34 W
/NewCenturySchlbk-Italic SF
29305 XM
(interval)SH
/NewCenturySchlbk-Roman SF
33618 XM
(against the current time.  If it)
34 W( is time)35 W
6120 54776 MT
(for another update, it will obtain)
121 W( an exclusive lock on the service, set the)120 W
/NewCenturySchlbk-Italic SF
45018 XM
(inprogress)SH
/NewCenturySchlbk-Roman SF
50696 XM
(flag,)SH
6120 56013 MT
(then run the generator.)SH
6931 58240 MT
(The generator is a)
206 W( sub-program that does the actual extract.  Each generator lives in)207 W
/NewCenturySchlbk-Italic SF
6120 59477 MT
(/u1/sms/bin/)SH
/NewCenturySchlbk-BoldItalic SF
(service)SH
/NewCenturySchlbk-Italic SF
(.gen)SH
/NewCenturySchlbk-Roman SF
(. A)
312 W( generator takes as)
3 W( an argument the name of the output file it)2 W
6120 60714 MT
(should generate.  It's exit status will be zero on success,)
25 W( otherwise the number of any error.)26 W
6120 61951 MT
(Note that)
131 W( a common ``error'' for a generator is)130 W
/Courier SF
30708 XM
(MR_NO_CHANGE)SH
/NewCenturySchlbk-Roman SF
(, indicating that nothing in)130 W
6120 63188 MT
(the database has changed and the data files were not re-built.)SH
6931 65415 MT
(If the)
11 W( generator finishes without error,)12 W
/NewCenturySchlbk-Italic SF
27041 XM
(dfgen)SH
/NewCenturySchlbk-Roman SF
30151 XM
(and)SH
/NewCenturySchlbk-Italic SF
32385 XM
(dfcheck)SH
/NewCenturySchlbk-Roman SF
36492 XM
(are updated to the current time.)12 W
6120 66652 MT
(If the generator)
112 W( exits indicating that nothing has changed, only)111 W
/NewCenturySchlbk-Italic SF
39818 XM
(dfcheck)SH
/NewCenturySchlbk-Roman SF
44024 XM
(is updated to the)111 W
6120 67889 MT
(current time.)
58 W( If)
423 W( there is a soft error \050an expected error that might go away if we try again)59 W
6120 69126 MT
(later\051 then the)28 W
/NewCenturySchlbk-Italic SF
13892 XM
(error_message)SH
/NewCenturySchlbk-Roman SF
21430 XM
(is updated to reflect this,)
28 W( but)27 W
/NewCenturySchlbk-Italic SF
36624 XM
(hard error)27 W
/NewCenturySchlbk-Roman SF
42257 XM
(is not set.  If there is)27 W
6120 70363 MT
(a hard error, the)153 W
/NewCenturySchlbk-Italic SF
15494 XM
(hard_error)SH
/NewCenturySchlbk-Roman SF
21470 XM
(and)SH
/NewCenturySchlbk-Italic SF
23846 XM
(error_message)SH
/NewCenturySchlbk-Roman SF
31510 XM
(are set, and a zephyr message is sent to)154 W
6120 71600 MT
(class)SH
/NewCenturySchlbk-Bold SF
9122 XM
(MOIRA)SH
/NewCenturySchlbk-Roman SF
13873 XM
(instance)SH
/NewCenturySchlbk-Bold SF
18691 XM
(DCM)SH
/NewCenturySchlbk-Roman SF
22078 XM
(indicating this error.  After this attempt,)
230 W( the lock on the)229 W
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 13 13
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 13)SH
11 /NewCenturySchlbk-Roman AF
8280 8011 MT
(service is released.)SH
9091 10238 MT
(For each of the services which passed)
175 W( the initial check above \050)176 W
/NewCenturySchlbk-Italic SF
(enable)SH
/NewCenturySchlbk-Roman SF
(d, no)176 W
/NewCenturySchlbk-Italic SF
48837 XM
(hard errors)176 W
/NewCenturySchlbk-Roman SF
(,)SH
8280 11475 MT
(non-zero)SH
/NewCenturySchlbk-Italic SF
13149 XM
(interval)SH
/NewCenturySchlbk-Roman SF
(, and a generator)
184 W( exists\051 regardless of the result of attempting to build)183 W
8280 12712 MT
(data files, or even if it was time to build data)
295 W( files, the hosts will be scanned.  The)296 W
8280 13949 MT
(serverhost table contains:)SH
8280 15997 MT
(Service)SH
18072 XM
(The name of the service.)SH
8280 17853 MT
(Machine)SH
18072 XM
(The name of the machine supporting this service.)SH
8280 19709 MT
(Enable)SH
18072 XM
(A boolean indicating that this host should be updated.)SH
8280 21565 MT
(Override)SH
18072 XM
(A boolean indicating that this host should be updated as soon)
393 W( as)392 W
18072 22802 MT
(possible, disregarding the service time interval.)SH
8280 24658 MT
(Success)SH
18072 XM
(A boolean indicating that the last attempted update was successful.)SH
8280 26514 MT
(InProgress)SH
18072 XM
(A boolean indicating that this host is currently being udpated.)SH
8280 28370 MT
(HostError)SH
18072 XM
(This field recrods)
35 W( the error number of any hard errors that occur during)36 W
18072 29607 MT
(an update.)SH
8280 31463 MT
(Errmsg)SH
18072 XM
(This is a textual representation of the error report in)SH
/NewCenturySchlbk-Italic SF
45267 XM
(hosterror)SH
/NewCenturySchlbk-Roman SF
(.)SH
8280 33319 MT
(LastTry)SH
18072 XM
(This is the time that the)
71 W( DCM last attempted to update this host.  It is)70 W
18072 34556 MT
(stored as a unix format time.)SH
8280 36412 MT
(LastSuccess)SH
18072 XM
(This is the time of the last successful)
164 W( DCM update of this host.  It is)165 W
18072 37649 MT
(stored as a unix format time.)SH
8280 39505 MT
(Value1)SH
18072 XM
(This is service specific information, stored as an integer.)
305 W( For)
914 W( POP)304 W
18072 40742 MT
(servers, it is the number of poboxes assigned to this server.)SH
8280 42598 MT
(Value2)SH
18072 XM
(This is service specific)
304 W( information, stored as an integer.  For POP)305 W
18072 43835 MT
(servers, it)
95 W( is the maximum number of poboxes that may be assigned to)94 W
18072 45072 MT
(this server.)SH
8280 46928 MT
(Value3)SH
18072 XM
(This is service specific information, stored as)
26 W( a string.  For NFS servers,)27 W
18072 48165 MT
(it indicates who should be in the credentials file.)SH
8280 50021 MT
(ModTime)SH
18072 XM
(The time this data)
216 W( was created or last modified.  This refers only to)215 W
18072 51258 MT
(modification by a user, not by the DCM.)SH
8280 53114 MT
(ModBy)SH
18072 XM
(The user name of who last modified this record.)SH
8280 54970 MT
(ModWith)SH
18072 XM
(The name of the application that was used for the last modification.)SH
9091 57197 MT
(During the host)
158 W( scan, the DCM first locks the service.  It will lock it exclusively if the)159 W
8280 58434 MT
(service)SH
/NewCenturySchlbk-Italic SF
12148 XM
(type)SH
/NewCenturySchlbk-Roman SF
14549 XM
(is)SH
/NewCenturySchlbk-Bold SF
15750 XM
(replicated)SH
/NewCenturySchlbk-Roman SF
(, otherwise it will acquire a shared lock.)
38 W( Then)
381 W( the DCM makes a)37 W
8280 59671 MT
(list of hosts which are)174 W
/NewCenturySchlbk-Italic SF
20589 XM
(enabled)SH
/NewCenturySchlbk-Roman SF
(, do not have)174 W
/NewCenturySchlbk-Italic SF
32006 XM
(hard errors)174 W
/NewCenturySchlbk-Roman SF
(, and have not been)
174 W( successfully)175 W
8280 60908 MT
(updated sine the data)
75 W( files were generated for this service \050or)74 W
/NewCenturySchlbk-Italic SF
40568 XM
(override)SH
/NewCenturySchlbk-Roman SF
45061 XM
(is set\051.  It will then)74 W
8280 62145 MT
(step through these hosts, updating them.  The first part of)
260 W( an update is to obtain an)261 W
8280 63382 MT
(exclusive lock on the host and set the)18 W
/NewCenturySchlbk-Italic SF
27650 XM
(inprogress)SH
/NewCenturySchlbk-Roman SF
33226 XM
(bit. Then)
342 W( it)
18 W( sends the generated file to the)17 W
/NewCenturySchlbk-Italic SF
8280 64619 MT
(target)SH
/NewCenturySchlbk-Roman SF
11577 XM
(file on the host and then)
17 W( executes the)18 W
/NewCenturySchlbk-Italic SF
31046 XM
(script)SH
/NewCenturySchlbk-Roman SF
34220 XM
(on that host.  The exit value of the script)18 W
8280 65856 MT
(is reported back, with zero being success and anything else)
59 W( being the error number.  If the)58 W
8280 67093 MT
(update is successful, the)15 W
/NewCenturySchlbk-Italic SF
21019 XM
(last_time_tried)SH
/NewCenturySchlbk-Roman SF
28939 XM
(and)SH
/NewCenturySchlbk-Italic SF
31176 XM
(last_time_successfull)SH
/NewCenturySchlbk-Roman SF
42067 XM
(are updated.  If there is a)15 W
8280 68330 MT
(soft fail, then just the)195 W
/NewCenturySchlbk-Italic SF
20535 XM
(last_time_tried)SH
/NewCenturySchlbk-Roman SF
28634 XM
(is updated, and the)194 W
/NewCenturySchlbk-Italic SF
39522 XM
(error_message)SH
/NewCenturySchlbk-Roman SF
47226 XM
(is recorded.  If)194 W
8280 69567 MT
(there is a hard failure, then a soft fail is taken,)
124 W( plus)125 W
/NewCenturySchlbk-Italic SF
36404 XM
(hard_error)SH
/NewCenturySchlbk-Roman SF
42352 XM
(is set and a zephyrgram)125 W
8280 70804 MT
(and mail are sent about it.  If)
19 W( there is a hard failure and the service is)18 W
/NewCenturySchlbk-Bold SF
44480 XM
(replicat)SH
/NewCenturySchlbk-Roman SF
(ed, then the)18 W
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 14 14
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 14, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(error code & message are also set in the service record)
175 W( so that no more updates will be)176 W
6120 9248 MT
(attempted to hosts supporting this service.  Then the host lock is freed.)SH
6931 11475 MT
(When the host)
95 W( scan is complete, the service lock is freed, and the service scan continues)94 W
6120 12712 MT
(with the next service.)SH
/Helvetica-Bold SF
6120 15802 MT
(5.8. Server Arrangement)SH
/NewCenturySchlbk-Roman SF
6931 18170 MT
(Currently, Moira acts to update a variety)
68 W( of servers.  Although the data control manager)69 W
6120 19407 MT
(performs this update task, each server requires a different set of update parameters.  To)133 W
6120 20644 MT
(date, the DCM uses c programs, not SDFs, to implement the construction of the server)204 W
6120 21881 MT
(specific files.  Each c)
122 W( program is checked in via the dcm_maint program.  The DCM then)121 W
6120 23118 MT
(calls the appropriate module when the update interval is reached.)SH
6931 25345 MT
(For each server file propagated,)
59 W( there is at least one application interface which provides)60 W
6120 26582 MT
(the capability to)
24 W( manipulate the Moira database.  Since the Moira database acts as a single)23 W
6120 27819 MT
(point of contact,)
34 W( the changes made to the database are reflected in the contents of recipient)35 W
6120 29056 MT
(servers.)SH
6931 31283 MT
(The services which Moira now supports are:)SH
/Symbol SF
7741 32882 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Hesiod - The athena nameserver.)SH
/Symbol SF
7741 34738 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(NFS - Network file system.)SH
/Symbol SF
7741 36594 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(/usr/lib/aliases - Mail Service.)SH
/Symbol SF
7741 38450 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Zephyr - The athena notification service.)SH
10 /Helvetica-BoldOblique AF
6120 41277 MT
(5.8.1. Server Assumptions)SH
11 /NewCenturySchlbk-Roman AF
6931 43237 MT
(The requirements of each server suggests a level of detail describing the following:)SH
/Symbol SF
7741 45354 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Service name.)SH
/Symbol SF
7741 47210 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Service description.)SH
/Symbol SF
7741 49066 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Propagation interval.)SH
/Symbol SF
7741 50922 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Data format.)SH
/Symbol SF
7741 52778 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Target location.)SH
/Symbol SF
7741 54634 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Generated files.)SH
/Symbol SF
7741 56490 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(File description.)SH
/Symbol SF
7741 58346 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Queries used to generate the file \050including fields queried\051.)SH
/Symbol SF
7741 60202 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(How the file is modified \050application interface\051.)SH
/Symbol SF
7741 62058 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Example of file contents.)SH
10 /Helvetica-BoldOblique AF
6120 64885 MT
(5.8.2. Server Descriptions)SH
11 /NewCenturySchlbk-Roman AF
6120 66933 MT
(Service:)SH
15912 XM
(Hesiod)SH
3504 50 15912 67133 UL
6120 69407 MT
(Description:)SH
15912 XM
(The hesiod server is a primary source of contact for)
363 W( many athena)362 W
15912 70644 MT
(operations. It)
1090 W( is reponsible for providing information)
392 W( reliably and)393 W
15912 71881 MT
(quickly. Moira's)
314 W( responsibility to hesiod is to provide authoritative data.)4 W
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 15 15
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 15)SH
11 /NewCenturySchlbk-Roman AF
18072 8011 MT
(Hesiod uses a)
232 W( BIND data format in all of it's data files.  Moira will)233 W
18072 9248 MT
(provide BIND format to hesiod.  There are)
198 W( several files which hesiod)197 W
18072 10485 MT
(uses. To)
306 W( date, they are known to include the following:)SH
/Symbol SF
19693 12602 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20505 XM
(cluster.db)SH
/Symbol SF
19693 13839 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20505 XM
(filsys.db)SH
/Symbol SF
19693 15076 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20505 XM
(gid.db)SH
/Symbol SF
19693 16313 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20505 XM
(group.db)SH
/Symbol SF
19693 17550 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20505 XM
(grplist.db)SH
/Symbol SF
19693 18787 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20505 XM
(passwd.db)SH
/Symbol SF
19693 20024 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20505 XM
(pobox.db)SH
/Symbol SF
19693 21261 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20505 XM
(printcap.db)SH
/Symbol SF
19693 22498 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20505 XM
(service.db)SH
/Symbol SF
19693 23735 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20505 XM
(sloc.db)SH
/Symbol SF
19693 24972 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20505 XM
(uid.db)SH
18072 27446 MT
(Each of these files are described in detail below.)
35 W( The)
378 W( hesiod server uses)36 W
18072 28683 MT
(these files from virtual memory on the target machine.)
279 W( The)
863 W( server)278 W
18072 29920 MT
(automatically loads the files from disk into memory when)
109 W( it is started.)110 W
18072 31157 MT
(Moira will propagate hesiod files to)
101 W( the target disk and the run a shell)100 W
18072 32394 MT
(script which will kill the running)
40 W( server and then restart it, causing the)41 W
18072 33631 MT
(newly updated files to be read into memory.)SH
18072 36105 MT
(With hesiod, all target machines receive identical files.)
301 W( Practically,)907 W
18072 37342 MT
(therefore, the DCM will prepare only one set of)
299 W( files and then will)300 W
18072 38579 MT
(propagate to several target hosts.)SH
18072 41053 MT
(For additional technical information on)404 W
/NewCenturySchlbk-Italic SF
40424 XM
(hesiod)SH
/NewCenturySchlbk-Roman SF
(, please)
404 W( refer to the)403 W
18072 42290 MT
(Hesiod technical plan.)SH
8280 44764 MT
(Propagation interval:)SH
18072 46001 MT
(6 Hours)SH
8280 48475 MT
(Data format:)SH
18072 XM
(tar file of several BIND files)SH
8280 50949 MT
(Target locations:)SH
18072 52186 MT
(SUOMI.MIT.EDU: /tmp/hesiod.out)SH
8280 54660 MT
(Files:)SH
/NewCenturySchlbk-Bold SF
8280 56708 MT
(CLUSTER.DB)SH
/NewCenturySchlbk-Roman SF
18072 XM
(Cluster data)SH
8280 58564 MT
(Description:)SH
18072 XM
(Cluster.db holds the relationships)
418 W( between machines, clusters, and)417 W
18072 59801 MT
(services to service clusters.  It must)
108 W( be possible to look up a cluster by)109 W
18072 61038 MT
(name, and find all)
2 W( of the cluster data.  It must also be possible to look up)1 W
18072 62275 MT
(a machine by name, and get the union of all)
54 W( of the cluster data for each)55 W
18072 63512 MT
(cluster the machine is a member of.)SH
8280 65368 MT
(Queries used:)SH
8280 67224 MT
(Client\050s\051:)SH
18072 XM
(save_cluster_info)SH
8280 69080 MT
(Example contents:)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 16 16
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 16, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
9 /Courier-Bold AF
8712 7807 MT
(; lines for per-cluster info \050both vs and rt\051 \050type UNSPECA\051)SH
8712 8845 MT
(; and a line for each machine \050CNAME referring to one of the lines)SH
8712 9883 MT
(; above\051)SH
8712 10921 MT
(;)SH
8712 11959 MT
(bldge40-vs.cluster HS UNSPECA "zephyr neskaya.mit.edu")SH
8712 12997 MT
(bldge40-rt.cluster HS UNSPECA "zephyr neskaya.mit.edu")SH
8712 14035 MT
(bldge40-vs.cluster HS UNSPECA "lpr e40")SH
8712 15073 MT
(bldge40-rt.cluster HS UNSPECA "lpr e40")SH
8712 16111 MT
(TOTO.cluster HS)
3240 W( CNAME bldge40-vs.cluster)SH
8712 17149 MT
(SCARECROW.cluster HS)
540 W( CNAME bldge40-rt.cluster)SH
11 /NewCenturySchlbk-Roman AF
15912 18998 MT
(Note that a)
126 W( machine may be in more than one cluster.  In this case, a)125 W
15912 20235 MT
(pseudo-cluster will be made by Moira which has as its)
75 W( cluster data, the)76 W
15912 21472 MT
(union of the data of each of the other clusters this)
71 W( machine is in.  Then)70 W
15912 22709 MT
(the machine in question will be CNAME'd into this pseudo-cluster.)SH
/NewCenturySchlbk-Bold SF
6120 24565 MT
(FILSYS.DB)SH
/NewCenturySchlbk-Roman SF
15912 XM
(filesystems)SH
6120 26421 MT
(Description)SH
15912 XM
(These are all of the)
166 W( filesystem entries needed to find and attach NFS)167 W
15912 27658 MT
(lockers and RVDs by name.  Each entry contains the name)
329 W( of the)328 W
15912 28895 MT
(filesystem, its)
614 W( name on the fileserver \050directory name for NFS)615 W
15912 30132 MT
(filesystems, or)
56 W( packname for RVDs\051, the name of the server, the default)55 W
15912 31369 MT
(attach mode \050r = read-only, w = read/write\051, and the default)
326 W( client)327 W
15912 32606 MT
(mount point.)SH
6120 34462 MT
(Queries used:)SH
6120 36318 MT
(Clients\050s\051:)SH
15912 XM
(attach)SH
6120 38174 MT
(Example contents:)SH
9 /Courier-Bold AF
8712 39819 MT
(aab.filsys HS)
2700 W( UNSPECA "NFS /mit/aab charon w /mit/aab")SH
8712 40857 MT
(aabiyaba.filsys HS UNSPECA "NFS /mit/aabiyaba eurydice w /mit/aabiyaba")SH
8712 41895 MT
(ade.filsys HS)
2700 W( UNSPECA "RVD ade helen r /mnt/ade")SH
11 /NewCenturySchlbk-Bold AF
6120 43751 MT
(GID.DB)SH
/NewCenturySchlbk-Roman SF
15912 XM
(group IDs)SH
6120 45607 MT
(Description:)SH
15912 XM
(This file)
25 W( maps group ID numbers to the group names.  There is an entry)24 W
15912 46844 MT
(in this file for each)
614 W( entry in the group.db file, pointing to a)615 W
15912 48081 MT
(corresponding entry in the group.db file.)SH
6120 49937 MT
(Queries used:)SH
6120 51793 MT
(Clients\050s\051:)SH
6120 53649 MT
(Example contents:)SH
9 /Courier-Bold AF
8712 55294 MT
(10914.gid HS)
3240 W( CNAME babette.group)SH
8712 56332 MT
(10915.gid HS)
3240 W( CNAME 14.31.group)SH
8712 57370 MT
(10916.gid HS)
3240 W( CNAME abarba.group)SH
8712 58408 MT
(10917.gid HS)
3240 W( CNAME mga.group)SH
8712 59446 MT
(10918.gid HS)
3240 W( CNAME rs1maint.group)SH
8712 60484 MT
(10919.gid HS)
3240 W( CNAME pjd.group)SH
11 /NewCenturySchlbk-Bold AF
6120 62340 MT
(GROUP.DB)SH
/NewCenturySchlbk-Roman SF
15912 XM
(unix groups)SH
6120 64196 MT
(Description:)SH
15912 XM
(This file maps group names to their unix)
312 W( group ID numbers.  The)311 W
15912 65433 MT
(returned entries are of the same form)
272 W( as lines in an /etc/group file,)273 W
15912 66670 MT
(although none of the)
148 W( members are actually filled in.  An entry is only)147 W
15912 67907 MT
(placed in this file if the group is marked)SH
/NewCenturySchlbk-Italic SF
36587 XM
(active)SH
/NewCenturySchlbk-Roman SF
39826 XM
(in the Moira database.)SH
6120 69763 MT
(Queries used:)SH
6120 71619 MT
(Clients\050s\051:)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 17 17
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 17)SH
11 /NewCenturySchlbk-Roman AF
8280 8011 MT
(Example contents:)SH
9 /Courier-Bold AF
10872 9656 MT
(babette.group HS)
1080 W( UNSPECA "babette:*:10914:")SH
10872 10694 MT
(14.31.group HS)
2160 W( UNSPECA "14.31:*:10915:")SH
10872 11732 MT
(abarba.group HS)
1620 W( UNSPECA "abarba:*:10916:")SH
10872 12770 MT
(mga.group HS)
3240 W( UNSPECA "mga:*:10917:")SH
10872 13808 MT
(rs1maint.group HS)
540 W( UNSPECA "rs1maint:*:10918:")SH
10872 14846 MT
(pjd.group HS)
3240 W( UNSPECA "pjd:*:10919:")SH
11 /NewCenturySchlbk-Bold AF
8280 16702 MT
(GRPLIST.DB)SH
/NewCenturySchlbk-Roman SF
18072 XM
(group lists)SH
8280 18558 MT
(Description:)SH
18072 XM
(This file lists the groups that each user is)
198 W( a member of.  Each entry)199 W
18072 19795 MT
(consists of a colon-separated list of colon-separated pairs)
70 W( of groupname,)69 W
18072 21032 MT
(group id.  No meaning is placed)
68 W( on the order of the groups listed.  Only)69 W
18072 22269 MT
(users whose)7 W
/NewCenturySchlbk-Italic SF
24565 XM
(status)SH
/NewCenturySchlbk-Roman SF
27934 XM
(is active will)
7 W( have entries generated, and only groups)6 W
18072 23506 MT
(that are marked)SH
/NewCenturySchlbk-Italic SF
26694 XM
(active)SH
/NewCenturySchlbk-Roman SF
29933 XM
(in Moira will be output.)SH
8280 25362 MT
(Queries used:)SH
8280 27218 MT
(Clients\050s\051:)SH
18072 XM
(login)SH
8280 29074 MT
(Example contents:)SH
9 /Courier-Bold AF
10872 30719 MT
(mtalford.grplist HS)
540 W( UNSPECA "mtalford:5904:3_d0004:689")SH
10872 31757 MT
(mswelsh.grplist HS)
1080 W( UNSPECA "mswelsh:5901:13_461t:867:13_461sa:868:13_012t:800")SH
10872 32795 MT
(mstai.grplist HS)
2160 W( UNSPECA "mstai:5899")SH
11 /NewCenturySchlbk-Bold AF
8280 34651 MT
(PASSWD.DB)SH
/NewCenturySchlbk-Roman SF
18072 XM
(password entries)SH
8280 36507 MT
(Description:)SH
18072 XM
(This file contains)
205 W( lines similar to those found in /etc/passwd for each)206 W
18072 37744 MT
(active user of Athena.  Only users whose)296 W
/NewCenturySchlbk-Italic SF
41415 XM
(status)SH
/NewCenturySchlbk-Roman SF
45073 XM
(is active will have)296 W
18072 38981 MT
(entries generated.)SH
8280 40837 MT
(Queries used:)SH
8280 42693 MT
(Clients\050s\051:)SH
18072 XM
(login)SH
8280 44549 MT
(Example contents:)SH
9 /Courier-Bold AF
10872 46194 MT
(babette.passwd HS)
540 W( UNSPECA "babette:*:6530:101:Harmon C Fowler,,,,:/mit/babette)SH
10872 47232 MT
(:/bin/csh")SH
10872 48270 MT
(abarba.passwd HS)
1080 W( UNSPECA "abarba:*:6531:101:Angela Barba,,,,:/mit/abarba:/bin)SH
10872 49308 MT
(/csh")SH
10872 50346 MT
(mga.passwd HS)
2700 W( UNSPECA "mga:*:6532:101:Gerhard Messmer,,,,:/mit/mga:/bin/cs)SH
10872 51384 MT
(h")SH
10872 52422 MT
(kazimi.passwd HS)
1080 W( UNSPECA "kazimi:*:6533:101:Martin Zimmermann,,,,:/mit/kazimi)SH
10872 53460 MT
(:/bin/csh")SH
10872 54498 MT
(pjd.passwd HS)
2700 W( UNSPECA "pjd:*:6535:101:Peter J Delaney,,,,:/mit/pjd:/bin/cs)SH
10872 55536 MT
(h")SH
11 /NewCenturySchlbk-Bold AF
8280 57392 MT
(POBOX.DB)SH
/NewCenturySchlbk-Roman SF
18072 XM
(Post Office Box locations)SH
8280 59248 MT
(Description:)SH
18072 XM
(This file locates each user's post office box.  Only active users whose)208 W
18072 60485 MT
(pobox type is "POP" will have entries output.)SH
8280 62341 MT
(Queries used:)SH
8280 64197 MT
(Clients\050s\051:)SH
18072 XM
(inc, movemail)SH
8280 66053 MT
(Example contents:)SH
9 /Courier-Bold AF
10872 67698 MT
(babette.pobox HS)
1080 W( UNSPECA "POP ATHENA-PO-2.MIT.EDU babette")SH
10872 68736 MT
(abarba.pobox HS)
1620 W( UNSPECA "POP ATHENA-PO-1.MIT.EDU abarba")SH
10872 69774 MT
(mga.pobox HS)
3240 W( UNSPECA "POP ATHENA-PO-1.MIT.EDU mga")SH
10872 70812 MT
(kazimi.pobox HS)
1620 W( UNSPECA "POP ATHENA-PO-2.MIT.EDU kazimi")SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 18 18
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 18, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Bold AF
6120 8011 MT
(PRINTCAP.DB)SH
/NewCenturySchlbk-Roman SF
15912 XM
(printer capability entries)SH
6120 9867 MT
(Description:)SH
15912 XM
(This file contains the information from the standard /etc/printcap file.)SH
6120 11723 MT
(Queries used:)SH
6120 13579 MT
(Clients\050s\051:)SH
15912 XM
(lpr, lpq, lprm)SH
6120 15435 MT
(Example contents:)SH
9 /Courier-Bold AF
8712 17080 MT
(linus.pcap HS)
2700 W( UNSPECA "linus:rp=linus:rm=BLANKET.MIT.EDU:sd=/usr/spool/pri)SH
8712 18118 MT
(nter/linus")SH
8712 19156 MT
(la-pika.pcap HS)
1620 W( UNSPECA "la-pika:rp=la-pika:rm=EVE.PIKA.MIT.EDU:sd=/usr/spoo)SH
8712 20194 MT
(l/printer/la-pika")SH
8712 21232 MT
(ln03-pika.pcap HS)
540 W( UNSPECA "ln03-pika:rp=ln03-pika:rm=EVE.PIKA.MIT.EDU:sd=/usr/)SH
8712 22270 MT
(spool/printer/ln03-pika")SH
8712 23308 MT
(helios.pcap HS)
2160 W( UNSPECA "helios:rp=helios:rm=M16-034-P.MIT.EDU:sd=/usr/spool)SH
8712 24346 MT
(/printer/helios")SH
11 /NewCenturySchlbk-Bold AF
6120 26202 MT
(SERVICE.DB)SH
/NewCenturySchlbk-Roman SF
15912 XM
(network service map)SH
6120 28058 MT
(Description:)SH
15912 XM
(This file)
27 W( contains the information from the standard /etc/services file.  It)26 W
15912 29295 MT
(comes from the services relation of the database, and the aliases.)SH
6120 31151 MT
(Queries used:)SH
6120 33007 MT
(Clients\050s\051:)SH
6120 34863 MT
(Example contents:)SH
9 /Courier-Bold AF
8712 36508 MT
(gdb_test3.service HS)
3240 W( UNSPECA "gdb_test3 tcp 2253")SH
8712 37546 MT
(qotd.service HS)
1620 W( UNSPECA "qotd tcp 17")SH
8712 38584 MT
(rpc_ns.service HS)
540 W( UNSPECA "rpc_ns udp 32767")SH
8712 39622 MT
(smtp.service HS)
1620 W( UNSPECA "smtp tcp 25")SH
8712 40660 MT
(X1.service HS)
2700 W( UNSPECA "X1 tcp 5801")SH
11 /NewCenturySchlbk-Bold AF
6120 42516 MT
(SLOC.DB)SH
/NewCenturySchlbk-Roman SF
15912 XM
(service location information)SH
6120 44372 MT
(Description:)SH
15912 XM
(This file identifies)
68 W( which hosts support which services.  It is a listing of)69 W
15912 45609 MT
(DCM service/host tuples, indexed by service.)SH
6120 47465 MT
(Queries used:)SH
6120 49321 MT
(Clients\050s\051:)SH
15912 XM
(zhm, chpobox, get_message)SH
6120 51177 MT
(Example contents:)SH
9 /Courier-Bold AF
8712 52822 MT
(ATHENA_MESSAGE.sloc HS)
2160 W( UNSPECA BITSY.MIT.EDU)SH
8712 53860 MT
(FOO.sloc HS)
3780 W( UNSPECA TOTO.MIT.EDU)SH
8712 54898 MT
(GMOTD.sloc HS)
2700 W( UNSPECA BITSY.MIT.EDU)SH
8712 55936 MT
(HESIOD.sloc HS)
2160 W( UNSPECA KIWI.MIT.EDU)SH
8712 56974 MT
(HESIOD.sloc HS)
2160 W( UNSPECA SUOMI.MIT.EDU)SH
8712 58012 MT
(LOCAL.sloc HS)
2700 W( UNSPECA HACTAR.MIT.EDU)SH
11 /NewCenturySchlbk-Bold AF
6120 59868 MT
(UID.DB)SH
/NewCenturySchlbk-Roman SF
15912 XM
(user ID mappings)SH
6120 61724 MT
(Description:)SH
15912 XM
(This file maps unix user IDs to the user password entries.)
132 W( There)
569 W( is a)131 W
15912 62961 MT
(corresponding entry in this file for every entry in the passwd.db file.)SH
6120 64817 MT
(Queries used:)SH
6120 66673 MT
(Clients\050s\051:)SH
6120 68529 MT
(Example contents:)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 19 19
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 19)SH
9 /Courier-Bold AF
10872 7807 MT
(6530.uid HS)
3780 W( CNAME babette.passwd)SH
10872 8845 MT
(6531.uid HS)
3780 W( CNAME abarba.passwd)SH
10872 9883 MT
(6532.uid HS)
3780 W( CNAME mga.passwd)SH
10872 10921 MT
(6533.uid HS)
3780 W( CNAME kazimi.passwd)SH
10872 11959 MT
(6535.uid HS)
3780 W( CNAME pjd.passwd)SH
11 /NewCenturySchlbk-Roman AF
8280 14433 MT
(Service:)SH
18072 XM
(NFS)SH
2325 50 18072 14633 UL
8280 16907 MT
(Description:)SH
18072 XM
(Moira supports three files which are)
339 W( necessary components of NFS)340 W
18072 18144 MT
(operation. These)
306 W( files are:)SH
/Symbol SF
19693 19743 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20505 XM
(/usr/etc/credentials)SH
/Symbol SF
19693 20980 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20505 XM
(The quotas file)SH
/Symbol SF
19693 22217 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20505 XM
(The directories file)SH
18072 24691 MT
(The credentials file determines access permissions to)
150 W( files on the NFS)149 W
18072 25928 MT
(server. It)
470 W( contains mappings from)
82 W( user name to unix UID and a group)83 W
18072 27165 MT
(list. This)
328 W( file can be generated from a list in the Moira)
11 W( database, or may)10 W
18072 28402 MT
(contain all active users.  Which)
47 W( credentials file is loaded on a particular)48 W
18072 29639 MT
(server is determined by the value3 field of the serverhost)
164 W( relation.  If)163 W
18072 30876 MT
(this field is non-blank, it specifies)
370 W( the list whose membership will)371 W
18072 32113 MT
(appear in the credentials file.)
60 W( If)
425 W( the field is blank, then all active users)59 W
18072 33350 MT
(will appear in the credentials file.)SH
18072 35824 MT
(The quotas and)
71 W( directories files are in a private format to Moira, which)72 W
18072 37061 MT
(is understood)
324 W( by the shell script which updates quotas and creates)323 W
18072 38298 MT
(directories. The)
458 W( quotas file contains many tuples matching a unix UID)76 W
18072 39535 MT
(with a quota.  The directories file lists directory name, owning)
232 W( user,)231 W
18072 40772 MT
(owning group, and directory)
323 W( type.  The type is used to control the)324 W
18072 42009 MT
(directory mode and which init files are loaded into it.)SH
18072 44483 MT
(These files reside on the NFS target machine and are used to allocate)138 W
18072 45720 MT
(NFS directories on a per user)
41 W( basis.  The mechanism employed is for all)42 W
18072 46957 MT
(programs to communicate to)
102 W( the Moira database, and then for the dcm)101 W
18072 48194 MT
(to handle)
374 W( the propagation and creating of NFS lockers.  The best)375 W
18072 49431 MT
(illustration of this process is indicated by the following example:)SH
18072 51905 MT
(During new user registration, a)
164 W( person will sit down to a workstation)163 W
18072 53142 MT
(and type 'userreg' for his login name.  When validated the user will)
27 W( type)28 W
18072 54379 MT
(a 'real' login name and a password.  In addition, the userreg)
154 W( program)153 W
18072 55616 MT
(will allocate, automatically, for the user a post office and an NFS)361 W
18072 56853 MT
(directory. However,)
538 W( the user will not benefit from this allocation)
116 W( for a)115 W
18072 58090 MT
(maximum of six hours.  This lag time is)
125 W( due to the operation of Moira)126 W
18072 59327 MT
(and its creation of NFS)
403 W( lockers.  During registration, the userreg)402 W
18072 60564 MT
(program communicates exclusively with the)
258 W( Moira database for NFS)259 W
18072 61801 MT
(allocation. Since)
388 W( the NFS file generation is started by)
41 W( the DCM every 6)40 W
18072 63038 MT
(hours, the real change is not noticed for a)
121 W( period of time.  When the 6)122 W
18072 64275 MT
(hour time is reached the DCM will)
103 W( create the above two files and send)102 W
18072 65512 MT
(them to the appropriate target servers.  Once on the target)
16 W( machine, the)17 W
18072 66749 MT
(dcm will)
123 W( invoke a shell script which reads the /mit/quota file and then)122 W
18072 67986 MT
(creates the NFS directory.  The basic operation of the script is:)SH
20520 70034 MT
(mkdir <username>, chown, chgrp, chmod - using directories file)SH
20520 71271 MT
(setquota <quota> - using quotas file)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 20 20
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 20, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(Propagation interval:)SH
15912 9248 MT
(12 hours)SH
6120 11722 MT
(Data Format:)SH
15912 XM
(ASCII)SH
6120 14196 MT
(Client\050s\051:)SH
15912 16037 MT
(NFS server)SH
15912 17274 MT
(Moira shell script for creating directories and user quotas.)SH
6120 19748 MT
(Files updated:)SH
/NewCenturySchlbk-Bold SF
6120 21796 MT
(CREDENTIALS)SH
/NewCenturySchlbk-Roman SF
15912 XM
(username to uid/gid mapping.)SH
6120 23652 MT
(Description:)SH
16274 XM
(This file is used for both the NFS server information)
56 W( and for the Moira)55 W
15912 24889 MT
(shell script.  It provides a username to uid/gid mapping.  A master)271 W
15912 26126 MT
(credentials file is generated which contains all active users.  In)
13 W( addition,)12 W
15912 27363 MT
(smaller credentials files may)
433 W( be produced if necessary, with their)434 W
15912 28600 MT
(membership taken from an Moira list.  Each line is an)
82 W( entry consisting)81 W
15912 29837 MT
(of the username, uid, and the gid of each group the user is)
4 W( in.  Each field)5 W
15912 31074 MT
(is separated by a colon.)SH
6120 32930 MT
(Queries used:)SH
6120 34786 MT
(Contents example:)SH
9 /Courier-Bold AF
8712 36431 MT
(mtarriol:15786:5905)SH
8712 37469 MT
(mtalford:14956:5904:689)SH
8712 38507 MT
(mswelsh:13764:5901:867:868:800)SH
8712 39545 MT
(mstai:9296:5899)SH
11 /NewCenturySchlbk-Bold AF
6120 41401 MT
(QUOTAS)SH
/NewCenturySchlbk-Roman SF
15912 XM
(file containing user to quota mapping.)SH
6120 43257 MT
(Description:)SH
16313 XM
(This file contains the mapping between username and quota.  The file)95 W
15912 44494 MT
(is distributed to each)
122 W( filesystem on the recipient machine.  Each entry)123 W
15912 45731 MT
(contains a unix uid and a quota.  Each of)
49 W( the file's contents is unique to)48 W
15912 46968 MT
(the filesystem which it represents.)SH
6120 48824 MT
(Queries used:)SH
6120 50680 MT
(Contents example:)SH
9 /Courier-Bold AF
8712 52325 MT
(219 600)SH
8712 53363 MT
(567 600)SH
8712 54401 MT
(1251 600)SH
8712 55439 MT
(1282 600)SH
8712 56477 MT
(1312 600)SH
11 /NewCenturySchlbk-Bold AF
6120 58333 MT
(DIRECTORIES)SH
/NewCenturySchlbk-Roman SF
15912 XM
(file containing info for creating NFS lockers)SH
6120 60189 MT
(Description:)SH
15912 XM
(This file contains the info necessary)
22 W( to create lockers.  Only lockers with)23 W
15912 61426 MT
(the)SH
/NewCenturySchlbk-Italic SF
18073 XM
(autocreate)SH
/NewCenturySchlbk-Roman SF
23795 XM
(flag set)
203 W( will be output.  The file is distributed to each)202 W
15912 62663 MT
(filesystem on the recipient machine.)
200 W( Each)
708 W( entry contains a directory)201 W
15912 63900 MT
(name, owning uid and gid, and a locker type.)
103 W( If)
511 W( the directory does not)102 W
15912 65137 MT
(already exist,)
18 W( it will be created with the specified ownership.  If the type)19 W
15912 66374 MT
(is "HOMEDIR", it will be loaded with the default init files as well.)SH
6120 68230 MT
(Queries used:)SH
6120 70086 MT
(Contents example:)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 21 21
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 21)SH
9 /Courier-Bold AF
10872 7807 MT
(/mit/lockers/test1 6526 10912 HOMEDIR)SH
10872 8845 MT
(/mit/lockers/babette 6530 10914 HOMEDIR)SH
10872 9883 MT
(/mit/lockers/kazimi 6533 10923 HOMEDIR)SH
10872 10921 MT
(/mit/lockers/mastein 14489 10928 HOMEDIR)SH
11 /NewCenturySchlbk-Roman AF
8280 13395 MT
(Service:)SH
18072 XM
(Mail)SH
2346 50 18072 13595 UL
8280 15869 MT
(Description:)SH
18601 XM
(The /usr/lib/aliases file is created and propagated to athena.mit.edu.)222 W
18072 17106 MT
(Only one file and one propagation is required.)
482 W( This)
1272 W( file is not)483 W
18072 18343 MT
(automatically installed on)
110 W( the mailhub because the mail spool must be)109 W
18072 19580 MT
(disabled during)
122 W( the switchover.  A second file is also propigated to the)123 W
18072 20817 MT
(mail hub.)
90 W( This)
485 W( is a complete password file so that the finger server on)89 W
18072 22054 MT
(the mailhub will know about everybody.)SH
8280 24528 MT
(Data Type:)SH
18072 XM
(ASCII \050sendmail aliases format\051)SH
8280 27002 MT
(Propagation interval:)SH
18072 28239 MT
(24 hours)SH
8280 30713 MT
(Target:)SH
18072 XM
(ATHENA.MIT.EDU)SH
8280 33187 MT
(File\050s\051:)SH
/NewCenturySchlbk-Bold SF
8280 35235 MT
(/USR/LIB/ALIASES)SH
/NewCenturySchlbk-Roman SF
18072 36472 MT
(mail forwarding information)SH
8280 38328 MT
(Description:)SH
18072 XM
(This file contains both mailing lists and post office boxes.  Mailing lists)79 W
18072 39565 MT
(are output only if)
322 W( the list is marked)321 W
/NewCenturySchlbk-Italic SF
39057 XM
(active)SH
/NewCenturySchlbk-Roman SF
42617 XM
(in the Moira database.)321 W
18072 40802 MT
(Poboxes are only output if the user's account is active.)SH
8280 42658 MT
(Queries Used:)SH
8280 44514 MT
(Contents example:)SH
9 /Courier-Bold AF
10872 46159 MT
(# Video)
540 W( Users)SH
10872 47197 MT
(owner-video-users: paul)SH
10872 48235 MT
(video-users: smyser, paul, mwsmith, davis, rubin@media-lab.mit.edu,)SH
15192 49273 MT
(gid@media-lab.mit.edu, danapple, agarvin)SH
10872 51349 MT
(babette: babette@ATHENA-PO-2.LOCAL)SH
10872 52387 MT
(yvette: yvette@ATHENA-PO-2.LOCAL)SH
10872 53425 MT
(test1: test1@ATHENA-PO-2.LOCAL)SH
11 /NewCenturySchlbk-Bold AF
8280 55281 MT
(/ETC/PASSWD)SH
/NewCenturySchlbk-Roman SF
18072 XM
(user account file)SH
8280 57137 MT
(Description:)SH
18072 XM
(This is a standard format unix password file.  It contains an)
132 W( entry for)133 W
18072 58374 MT
(every active account at Athena.)SH
8280 60230 MT
(Queries Used:)SH
8280 62086 MT
(Contents example:)SH
9 /Courier-Bold AF
10872 63731 MT
(test1:*:6526:101:Test One,,,:/mit/test1:/bin/csh)SH
10872 64769 MT
(babette:*:6530:101:Harmon C Fowler,,,:/mit/babette:/bin/csh)SH
10872 65807 MT
(abarba:*:6531:101:Angela Barba,,,:/mit/abarba:/bin/csh)SH
10872 66845 MT
(mga:*:6532:101:Gerhard Messmer,,,:/mit/mga:/bin/csh)SH
10872 67883 MT
(kazimi:*:6533:101:Martin Zimmermann,,,:/mit/kazimi:/bin/csh)SH
10872 68921 MT
(pjd:*:6535:101:Peter J Delaney,,,:/mit/pjd:/bin/csh)SH
11 /NewCenturySchlbk-Roman AF
8280 71395 MT
(Service:)SH
18072 XM
(ZEPHYR)SH
4684 50 18072 71595 UL
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 22 22
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 22, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(Description:)SH
15912 XM
(The zephyr system has access)
61 W( control lists associated with some actions)60 W
15912 9248 MT
(on some classes of message.  Moira updates these access control lists)
54 W( on)55 W
15912 10485 MT
(the zephyr servers from lists stored in Moira.)SH
6120 12959 MT
(Data Type:)SH
15912 XM
(A tar file of ASCII acl files.)SH
6120 15433 MT
(Propagation interval:)SH
15912 16670 MT
(24 hours)SH
6120 19144 MT
(Target:each of the zephyr servers.)SH
6120 21618 MT
(File\050s\051:)SH
/NewCenturySchlbk-Bold SF
6120 23666 MT
(*.ACL)SH
/NewCenturySchlbk-Roman SF
15912 XM
(zephyr ACL file)SH
6120 25522 MT
(Description:)SH
15912 XM
(For each existing ACE \050even if it is empty\051, the)
238 W( membership will be)239 W
15912 26759 MT
(output, one entry per line.  Recursive lists will be expanded.)SH
6120 28615 MT
(Queries Used:)SH
6120 30471 MT
(Contents example:)SH
9 /Courier-Bold AF
8712 32116 MT
(*.*@*)SH
11 /Helvetica-Bold AF
6120 35206 MT
(5.9. Moira-to-Server Update Protocol)SH
/NewCenturySchlbk-Roman SF
6931 37574 MT
(Moira provides a reliable mechanism for updating the servers it manages.  The use of)
64 W( an)63 W
6120 38811 MT
(update protocol allows the servers to be reliably managed.  The goals of the server)
84 W( update)85 W
6120 40048 MT
(protocol are:)SH
/Symbol SF
7741 41647 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Completely automatic update for normal cases and expected kinds of failures.)SH
/Symbol SF
7741 43603 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Survives clean server crashes.)SH
/Symbol SF
7741 45559 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Survives clean Moira crashes.)SH
/Symbol SF
7741 47515 MT
(\267)SH
/NewCenturySchlbk-Roman SF
8553 XM
(Easy to understand state and recovery by hand.)SH
6931 49742 MT
(General approach: perform updates using)
91 W( atomic operations only.  All updates should be)90 W
6120 50979 MT
(of a nature such that a reboot)
145 W( will fix an inconsistent database.  \050For example, the RVD)146 W
6120 52216 MT
(database is sent to the server upon booting, so)
62 W( if the machine crashes between installation)61 W
6120 53453 MT
(of the file and)
169 W( delivery of the information to the server, no harm is done.\051  Updates not)170 W
6120 54690 MT
(received will be retried at a later)
75 W( point until they succeed.  All actions are initiated by the)74 W
6120 55927 MT
(DCM.)SH
10 /Helvetica-BoldOblique AF
6120 58754 MT
(Strategy)SH
11 /NewCenturySchlbk-Roman AF
8554 60284 MT
(A.)SH
9960 XM
(Transfer phase.  This step puts all of the files on the server.)SH
10987 61814 MT
(1.)SH
12211 XM
(Connect to the server host and send authentication.)SH
10987 63770 MT
(2.)SH
12211 XM
(Transfer the data files to be installed)
SH( to the server.  These are stored in the)1 W
/NewCenturySchlbk-Italic SF
10986 65007 MT
(target)SH
/NewCenturySchlbk-Roman SF
14436 XM
(as recorded for the service in)
170 W( the Moira database.  The file transfer)169 W
10986 66244 MT
(includes a checksum to insure data)
160 W( integrity.  Only one file is transferred,)161 W
10986 67481 MT
(although it may be a tar file containing many more.)SH
10987 69437 MT
(3.)SH
12211 XM
(Transfer the installation instruction sequence to the server.  This is the)169 W
/NewCenturySchlbk-Italic SF
10986 70674 MT
(script)SH
/NewCenturySchlbk-Roman SF
14164 XM
(as recorded)
22 W( for the service in the Moira database.  It will be stored in a)23 W
10986 71911 MT
(temporary file on the server.)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 23 23
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 23)SH
11 /NewCenturySchlbk-Roman AF
13147 8011 MT
(4.)SH
14371 XM
(Flush all data on the server to disk.)SH
10714 9967 MT
(B.)SH
12120 XM
(Execution phase.  If all portions of the preparation)
375 W( phase are completed)374 W
10713 11204 MT
(without error, the execution phase is initiated by the DCM.  On)
14 W( a single command)15 W
10713 12441 MT
(from the Moira, the server begins)
75 W( execution of the instruction sequence supplied.)74 W
10713 13678 MT
(These can include the following:)SH
13147 15208 MT
(1.)SH
14371 XM
(Extract data files from the)
93 W( tar file.  Rather than extract all of the files at)94 W
13146 16445 MT
(once, only the ones that are needed are extracted one at a time.)SH
13147 18401 MT
(2.)SH
14371 XM
(Swap new data files in.)
262 W( This)
828 W( is done using atomic filesystem)261 W
/Courier SF
48687 XM
(rename)SH
/NewCenturySchlbk-Roman SF
13146 19638 MT
(operations. The)
420 W( cost of this step is kept to)
57 W( an absolute minimum by keeping)58 W
13146 20875 MT
(both files in the same partition and by not)
143 W( changing the link count on any)142 W
13146 22112 MT
(files during the rename.)SH
13147 24068 MT
(3.)SH
14371 XM
(Revert the file)
170 W( -- identical to swapping in the new data file, but instead)171 W
13146 25305 MT
(puts the old file back.  May be useful in the case of an erroneous installation.)SH
13147 27261 MT
(4.)SH
14371 XM
(Send a)
258 W( signal to a specified process.  The process_id is assumed to be)257 W
13146 28498 MT
(recorded in a file; the pathname)
23 W( of this file is a parameter to this instruction.)24 W
13146 29735 MT
(The process_id)
386 W( is read out of the file at the time of execution of this)385 W
13146 30972 MT
(instruction.)SH
13147 32928 MT
(5.)SH
14371 XM
(Execute a supplied command.)SH
10714 34884 MT
(C.)SH
12120 XM
(Confirm installation.  The server)
386 W( sends back a reply indicating that the)387 W
10713 36121 MT
(installation was successful, or what error occurred.)
127 W( The)
559 W( DCM then records this)126 W
10713 37358 MT
(information in the database.)SH
10 /Helvetica-BoldOblique AF
8280 40185 MT
(Trouble Recovery Procedures)SH
11 /NewCenturySchlbk-Roman AF
10714 41715 MT
(A.)SH
12120 XM
(Server fails to perform action.)SH
10713 43671 MT
(If an error is detected in the update)
48 W( procedure, the information is relayed back to)49 W
10713 44908 MT
(the DCM.  The)
280 W( 'success' flag is cleared, and the error code and message are)279 W
10713 46145 MT
(recorded in the update table.  The error value)
461 W( returned is logged to the)462 W
10713 47382 MT
(appropriate file; zephyr is used to notify the system maintainers a failure occured.)SH
10713 49338 MT
(A timeout is used in both sides)
140 W( of the connection during the preparation phase,)139 W
10713 50575 MT
(and during the actual installation on the Moira.  If any single)
187 W( operation takes)188 W
10713 51812 MT
(longer than a reasonable amount of time, the connection is closed, and)
353 W( the)352 W
10713 53049 MT
(installation assumed to have failed.)
296 W( This)
899 W( is to prevent network lossage and)297 W
10713 54286 MT
(machine crashes from)
171 W( causing arbitrarily long delays, and instead falls back to)170 W
10713 55523 MT
(the error condition, so that the)
78 W( installation will be attempted again later.  \050Since)79 W
10713 56760 MT
(the all the data)
421 W( files being prepared are valid, extra installations are not)420 W
10713 57997 MT
(harmful.\051)SH
10714 59953 MT
(B.)SH
12120 XM
(Server crashes.)SH
10713 61909 MT
(If a server crashes, it may fail)
34 W( to respond to the next attempted Moira update.  In)35 W
10713 63146 MT
(this case, it is \050generally\051 tagged for)
272 W( retry at a later time, say ten or fifteen)271 W
10713 64383 MT
(minutes later.  This retry interval will be repeated until an attempt to update the)31 W
10713 65620 MT
(server succeeds \050or fails due to another error\051.)SH
10713 67576 MT
(If a server crashes while it)
117 W( is receiving an update, either the file will have been)116 W
10713 68813 MT
(installed or)
14 W( it will not have been installed.  If it has been installed, normal system)15 W
10713 70050 MT
(startup procedures should take care of)
127 W( any followup operations that would have)126 W
10713 71287 MT
(been performed as part of the update)
154 W( \050such as [re]starting the server using the)155 W
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 24 24
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 24, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
8553 8011 MT
(data file\051.  If the file has not been installed,)
184 W( it will be updated again from the)183 W
8553 9248 MT
(Moira, and the existing)86 W
/Courier SF
21070 XM
(filename.moira_update)SH
/NewCenturySchlbk-Roman SF
35322 XM
(file will be)
86 W( deleted \050as it may)87 W
8553 10485 MT
(be incomplete\051 when the next update starts.)SH
8554 12441 MT
(C.)SH
9960 XM
(Moira crashes.)SH
8553 14397 MT
(Since the Moira update table is driven by absolute times)
135 W( and offsets, crashes of)134 W
8553 15634 MT
(the Moira machine will result in \050at worst\051)
59 W( delays in updates.  If updates were in)60 W
8553 16871 MT
(progress when the Moira crashed, those that)
157 W( did not have the install command)156 W
8553 18108 MT
(sent will have a few extra files on the)
32 W( servers, which will be deleted in the update)33 W
8553 19345 MT
(that will be started)
94 W( the first time the update table is scanned for updates due to)93 W
8553 20582 MT
(be performed.  Updates for)
111 W( which the install command had been issued may get)112 W
8553 21819 MT
(repeated if notification of completion was not returned to the Moira.)SH
10 /Helvetica-BoldOblique AF
6120 24646 MT
(Considerations)SH
11 /NewCenturySchlbk-Roman AF
6931 26132 MT
(What happens if)
20 W( the Moira broadcasts an invalid data file to servers?  In the case of name)19 W
6120 27369 MT
(service, the Moira may not be able to locate the servers again)
125 W( if the name service is lost.)126 W
6120 28606 MT
(Also, if the server machine)
260 W( crashes, it may not be able to come up to full operational)259 W
6120 29843 MT
(capacity if it relies on the databases which have been corrupted; in this case, it)
78 W( is possible)79 W
6120 31080 MT
(that the database may not be easily replaceable.)
123 W( Manual)
551 W( intervention would be required)122 W
6120 32317 MT
(for recovery.)SH
10 /Helvetica-BoldOblique AF
6120 35144 MT
(5.9.1. Catastrophic Crashes - Robustness Engineering)SH
11 /NewCenturySchlbk-Roman AF
6931 37104 MT
(In the event of a catostrophic system crash, Moira must have the capability)
39 W( to be brought)40 W
6120 38341 MT
(up with consistent data.)
54 W( There)
412 W( are a list of scenarios which indicate that a complete set of)53 W
6120 39578 MT
(recovery tools are needed to address this isssue.  Thought will)
128 W( be given in order that the)129 W
6120 40815 MT
(system reliably is restored.  In many cases, the answer to a catastrophic crash will be)228 W
6120 42052 MT
(manual intervention.)SH
10 /Helvetica-BoldOblique AF
6120 44879 MT
(5.9.2. Data Transport Security)SH
11 /NewCenturySchlbk-Roman AF
6931 46839 MT
(Kerberos is used to verify the identity of both)
105 W( ends at connection set-up time.  The data)106 W
6120 48076 MT
(will not)
118 W( be encrypted.  Since a TCP stream is used, the connection should be secure from)117 W
6120 49313 MT
(tampering. This)
652 W( will allow detection of lost or damaged packets, as well as detection)
173 W( of)174 W
6120 50550 MT
(deliberate attempts to damage or change data while it is in transit.)SH
/Helvetica-Bold SF
6120 53640 MT
(5.10. New User Registration)SH
/NewCenturySchlbk-Roman SF
6931 56008 MT
(A new student)
233 W( must be able to get an athena account without any intervention from)232 W
6120 57245 MT
(Athena user accounts staff.  This is important,)
37 W( because otherwise, the user accounts people)38 W
6120 58482 MT
(would be faced with having to give out ~1000 accounts or more at the)
150 W( beginning of each)149 W
6120 59719 MT
(term.)SH
6931 61946 MT
(With athenareg, a special program \050userreg\051 was run on certain)
143 W( terminals connected to)144 W
6120 63183 MT
(timesharing systems in several of the terminal)
101 W( rooms.  It prompted the user for his name)100 W
6120 64420 MT
(and ID number, looked him up in the athenareg database, and gave)
106 W( him an account if he)107 W
6120 65657 MT
(did not have one already.  Userreg)
8 W( has been rewritten to work with Moira; in appearance, it)7 W
6120 66894 MT
(is virtually identical to the athenareg version \050except in speed\051.)SH
6931 69121 MT
(Athena obtains a copy of the Registrar's list of registered students shortly)
423 W( before)424 W
6120 70358 MT
(registration day each term.)
350 W( Each)
1004 W( student on the registrar's tape who has not been)349 W
6120 71595 MT
(registered for an Athena account is added)
254 W( to the "users" relation of the database, and)255 W
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 25 25
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 25)SH
11 /NewCenturySchlbk-Roman AF
8280 8011 MT
(assigned a unique userid; the)
145 W( student is not assigned a login name, and is not known to)144 W
8280 9248 MT
(kerberos. An)
346 W( encrypted form of the student's ID number)
20 W( is stored along with the name; the)21 W
8280 10485 MT
(encryption algorithm)
197 W( is the UNIX C library crypt\050\051 function \050also used for passwords in)196 W
8280 11722 MT
(/etc/passwd\051; the last)
24 W( seven characters of the ID number are encrypted using the first letter)25 W
8280 12959 MT
(of the first name and the first letter of the last name)
192 W( as the "salt".  No other database)191 W
8280 14196 MT
(resources are allocated at that time.)SH
9091 16423 MT
(The Moira database server machine runs)
182 W( a special "registration server" process, which)183 W
8280 17660 MT
(listens on a well known)
40 W( UDP port for user registration requests.  There are currently three)39 W
8280 18897 MT
(defined requests:)SH
8280 20945 MT
(Verify User)SH
18072 XM
(This operation take)
85 W( the user's first name, last name, and authenticator)86 W
18072 22182 MT
(as arguments.)
56 W( The)
417 W( return value will indicate if the user is found in the)55 W
18072 23419 MT
(database, and if so the user's current status.)SH
8280 25275 MT
(Grab Login)SH
18072 XM
(This operation)
34 W( takes the user's first name, last name, and authenticator)35 W
18072 26512 MT
(with desired login name as arguments.  It will attempt to)
197 W( assign the)196 W
18072 27749 MT
(user that login name, and reserve the name in)
145 W( the kerberos database.)146 W
18072 28986 MT
(Expected results are success or login name already taken.)SH
8280 30842 MT
(Set Password)SH
18072 XM
(This operation takes the user's first name, last name, and)
35 W( authenticator)34 W
18072 32079 MT
(with desired password as arguments.)
141 W( It)
590 W( will attempt to set the user's)142 W
18072 33316 MT
(password in kerberos.)SH
9091 35543 MT
(The authenticator used in)
149 W( the protocol is an encrypted form of the ID number and any)148 W
8280 36780 MT
(additional arguments.  The simple authenticator)
317 W( is the ID in plaintext with hyphens)318 W
8280 38017 MT
(removed, with the encrypted ID number appended to it, and this)
260 W( whole quantity DES)259 W
8280 39254 MT
(encrypted using the encrypted ID number)
232 W( as a key.  This DES encryption is the error)233 W
8280 40491 MT
(propagating cypher-block-chaining mode of DES, as described in the Kerberos document.)SH
8280 42332 MT
({IDnumber, hashIDnumber})SH
9 SS 
22649 42702 MT
(hashIDnumber)SH
11 SS 
8280 43698 MT
(where)SH
10728 44935 MT
(IDnumber is the student's id number \050for example: 123456789\051)SH
10728 46172 MT
(hashIDnumber is the encrypted ID number \050for example: lfIenQqC/O/OE\051)SH
8280 48013 MT
(For the second and third request types, the login or password is also encrypted:)SH
8280 49854 MT
({IDnumber, hashIDnumber, login})SH
9 SS 
25771 50224 MT
(hashIDnumber)SH
11 SS 
8280 51220 MT
({IDnumber, hashIDnumber, password})SH
9 SS 
28047 51590 MT
(hashIDnumber)SH
11 SS 
9091 53447 MT
(The registration server communicates with the kerberos admin_server, and sets up a)249 W
8280 54684 MT
(secure communication channel using "srvtab-srvtab" authentication.  In all cases,)
333 W( the)334 W
8280 55921 MT
(server first verifies the request by decrypting the ID number.)SH
9091 58148 MT
(When the student decides to register with athena, he walks up to a workstation)
65 W( and logs)64 W
8280 59385 MT
(in using the username of "register", password "athena".  This pops up)
23 W( a forms-like interface)24 W
8280 60622 MT
(which prompts him for his first name, middle initial, last name, and student ID number.)
17 W( It)338 W
8280 61859 MT
(calculates the hashed id number)
269 W( using crypt\050\051, and sends a verify_user request to the)270 W
8280 63096 MT
(registration server.  The server responds with one of already_registered, not_found, or OK.)SH
9091 65323 MT
(If the user has been validated, userreg then prompts him for his choice in login names.)
24 W( It)352 W
8280 66560 MT
(then goes through a two-step process to verify the login)
140 W( name: first, it tries to get initial)141 W
8280 67797 MT
(tickets for the user name from Kerberos; if this)
95 W( fails \050indicating that the username is free)94 W
8280 69034 MT
(and may be registered\051, it then sends a grab_login)
232 W( request.  On receiving a grab_login)233 W
8280 70271 MT
(request, the)
272 W( registration server then proceeds to register the login name in the Moira)271 W
8280 71508 MT
(database. If)
306 W( this succeeds, it then reserves the name with kerberos as well.)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 26 26
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 26, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6931 8011 MT
(Userreg then prompts the user for an initial password, and)
46 W( sends a set_password request)47 W
6120 9248 MT
(to the registration server, which)
184 W( decrypts it and forwards it to Kerberos.  At this point,)183 W
6120 10485 MT
(pending propagation of information to hesiod, the mail hub, and the)
43 W( user's home fileserver,)44 W
6120 11722 MT
(the user has been established.)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 27 27
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 27)SH
12 SS 
8280 8075 MT
(6. Data Fields and Relationships)SH
11 /NewCenturySchlbk-Roman AF
9091 10225 MT
(The knowledge base of)
213 W( Moira enables system services and servers to be updated with)212 W
8280 11462 MT
(correct information.  The database has the reponsibility of storing information)
SH( which will be)1 W
8280 12699 MT
(transmitted to the services.  The database will not, however, be responsible for)
14 W( knowing the)13 W
8280 13936 MT
(format of)
68 W( data to be sent.  This information will be inherent to the Data Control Manager.)69 W
8280 15173 MT
(Specific fields of the database are organized to represent the needs of system.)
56 W( The)
417 W( current)55 W
8280 16410 MT
(Moira database is comprised of the following tables:)SH
8280 18458 MT
(Table)SH
18072 XM
(Fields and Description)SH
2856 50 8280 18658 UL
11518 50 18072 18658 UL
9 SS 
8280 20314 MT
(USERS)SH
11 SS 
18072 XM
(User Information.  There are two types of)
209 W( user required information:)210 W
18072 21551 MT
(information necessary to)
142 W( identify a user and enable a user to obtain a)141 W
18072 22788 MT
(service \050e.g. to login\051, and personal information about the user \050finger\051.)SH
/NewCenturySchlbk-Italic SF
18072 24836 MT
(login)SH
/NewCenturySchlbk-Roman SF
27864 XM
(a unique username, equivalent to the user's Kerberos)3 W
27864 26073 MT
(principal name.)SH
/NewCenturySchlbk-Italic SF
18072 27929 MT
(users_id)SH
/NewCenturySchlbk-Roman SF
27864 XM
(an internal)
132 W( database indentifier for the user record.)131 W
27864 29166 MT
(This is not the same as the Unix uid.)SH
/NewCenturySchlbk-Italic SF
18072 31022 MT
(uid)SH
/NewCenturySchlbk-Roman SF
27864 XM
(Unix uid.  Temporarily necessary due)
127 W( to NFS client)128 W
27864 32259 MT
(code problems.)
18 W( Ultimately,)
341 W( this field will be removed)17 W
27864 33496 MT
(and uids will be assigned arbitrarily for each client-)114 W
27864 34733 MT
(server connection.)SH
/NewCenturySchlbk-Italic SF
18072 36589 MT
(shell)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the user's default shell.)SH
/NewCenturySchlbk-Italic SF
18072 38445 MT
(last, first, middle)SH
/NewCenturySchlbk-Roman SF
27864 XM
(The user's full)
307 W( name, broken down for convenient)306 W
27864 39682 MT
(indexing.)SH
/NewCenturySchlbk-Italic SF
18072 41538 MT
(status)SH
/NewCenturySchlbk-Roman SF
27864 XM
(contains the user's account status.)
3 W( Currently)
313 W( defined)4 W
27864 42775 MT
(statuses are:)SH
27864 44616 MT
(0 - Not registered, but registerable)SH
27864 45853 MT
(1 - Active account)SH
27864 47090 MT
(2 - Half-registered)SH
27864 48327 MT
(3 - Marked for deletion)SH
27864 49564 MT
(4 - Not registerable)SH
27864 51405 MT
(Only accounts in state 1 will have)
111 W( their information)110 W
27864 52642 MT
(show up in database extracts for system services.)SH
/NewCenturySchlbk-Italic SF
18072 54498 MT
(mit_id)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the user's encrypted MIT id.)SH
/NewCenturySchlbk-Italic SF
18072 56354 MT
(mit_year)SH
/NewCenturySchlbk-Roman SF
27864 XM
(a student's academic year, not modifiable by the)390 W
27864 57591 MT
(student. Used)
306 W( for Athena administrative purposes.)SH
/NewCenturySchlbk-Italic SF
18072 59447 MT
(modtime)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the time that this record was last modified \050or)479 W
27864 60684 MT
(created\051.)SH
/NewCenturySchlbk-Italic SF
18072 62540 MT
(modby)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the person who modified this record last.)SH
/NewCenturySchlbk-Italic SF
18072 64396 MT
(modwith)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the service that modified this record last.)SH
/NewCenturySchlbk-Italic SF
18072 66252 MT
(fullname)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the user's full name.)SH
/NewCenturySchlbk-Italic SF
18072 68108 MT
(nickname)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the user's nickname.)SH
/NewCenturySchlbk-Italic SF
18072 69964 MT
(home_addr)SH
/NewCenturySchlbk-Roman SF
27864 XM
(home address.)SH
/NewCenturySchlbk-Italic SF
18072 71820 MT
(home_phone)SH
/NewCenturySchlbk-Roman SF
27864 XM
(home phone.)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 28 28
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 28, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Italic AF
15912 8011 MT
(office_addr)SH
/NewCenturySchlbk-Roman SF
25704 XM
(office address.)SH
/NewCenturySchlbk-Italic SF
15912 9867 MT
(office_phone)SH
/NewCenturySchlbk-Roman SF
25704 XM
(office phone.)SH
/NewCenturySchlbk-Italic SF
15912 11723 MT
(mit_dept)SH
/NewCenturySchlbk-Roman SF
25704 XM
(MIT address; this)
198 W( is for on-campus students' living)199 W
25704 12960 MT
(addresses.)SH
/NewCenturySchlbk-Italic SF
15912 14816 MT
(mit_affil)SH
/NewCenturySchlbk-Roman SF
25704 XM
(one of undergraduate, graduate, staff, faculty, other.)SH
/NewCenturySchlbk-Italic SF
15912 16672 MT
(fmodtime)SH
/NewCenturySchlbk-Roman SF
25704 XM
(time finger record was last modified.)SH
/NewCenturySchlbk-Italic SF
15912 18528 MT
(fmodby)SH
/NewCenturySchlbk-Roman SF
25704 XM
(person who made this modification.)SH
/NewCenturySchlbk-Italic SF
15912 20384 MT
(fmodwith)SH
/NewCenturySchlbk-Roman SF
25704 XM
(service that made this modification.)SH
/NewCenturySchlbk-Italic SF
15912 22240 MT
(potype)SH
/NewCenturySchlbk-Roman SF
25704 XM
(mailbox type: one of POP, SMTP, or NONE.)SH
/NewCenturySchlbk-Italic SF
15912 24096 MT
(pop_id)SH
/NewCenturySchlbk-Roman SF
25704 XM
(Machine ID of current or last known POP server.)SH
/NewCenturySchlbk-Italic SF
15912 25952 MT
(box_id)SH
/NewCenturySchlbk-Roman SF
25704 XM
(String ID of box name if type is SMTP.)SH
/NewCenturySchlbk-Italic SF
15912 27808 MT
(pmodtime)SH
/NewCenturySchlbk-Roman SF
25704 XM
(time pobox record was last modified.)SH
/NewCenturySchlbk-Italic SF
15912 29664 MT
(pmodby)SH
/NewCenturySchlbk-Roman SF
25704 XM
(person who made this modification.)SH
/NewCenturySchlbk-Italic SF
15912 31520 MT
(pmodwith)SH
/NewCenturySchlbk-Roman SF
25704 XM
(service that made this modification.)SH
/NewCenturySchlbk-Italic SF
15912 33376 MT
(gid)SH
25704 XM
([unused])SH
/NewCenturySchlbk-Roman SF
30813 XM
(intended for)
403 W( optimized user groups, but)402 W
25704 34613 MT
(never implemented.)SH
/NewCenturySchlbk-Italic SF
15912 36469 MT
(uglist_id)SH
25704 XM
([unused])SH
/NewCenturySchlbk-Roman SF
30812 XM
(intended for optimized user)
402 W( groups, but)403 W
25704 37706 MT
(never implemented.)SH
/NewCenturySchlbk-Italic SF
15912 39562 MT
(ugdefault)SH
25704 XM
([unused])SH
/NewCenturySchlbk-Roman SF
30813 XM
(intended for)
403 W( optimized user groups, but)402 W
25704 40799 MT
(never implemented.)SH
15912 42847 MT
(See Section 7.0.1 for the list of queries associated with this table.)SH
15912 44703 MT
(There is no entry for a password because it is)
332 W( being subsumed by)333 W
15912 45940 MT
(another service \050Kerberos\051.)SH
9 SS 
6120 47796 MT
(MACHINE)SH
11 SS 
15912 XM
(Machine Information.)SH
/NewCenturySchlbk-Italic SF
15912 49844 MT
(name)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the canonical hostname.)SH
/NewCenturySchlbk-Italic SF
15912 51700 MT
(mach_id)SH
/NewCenturySchlbk-Roman SF
25704 XM
(an internal database id for this record.)SH
/NewCenturySchlbk-Italic SF
15912 53556 MT
(type)SH
/NewCenturySchlbk-Roman SF
25704 XM
(machine type: VAX, RT)SH
/NewCenturySchlbk-Italic SF
15912 55412 MT
(modtime)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the time that this record was last modified \050or)479 W
25704 56649 MT
(created\051.)SH
/NewCenturySchlbk-Italic SF
15912 58505 MT
(modby)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the person who modified this record last.)SH
/NewCenturySchlbk-Italic SF
15912 60361 MT
(modwith)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the service that modified this record last.)SH
15912 62409 MT
(See Section 7.0.2 for the list of queries associated with this table.)SH
9 SS 
6120 64265 MT
(CLUSTER)SH
11 SS 
15912 XM
(Cluster Infomation.)
525 W( There are several named clusters throughout)526 W
15912 65502 MT
(Athena that correspond roughly to subnets and/or geographical areas.)SH
/NewCenturySchlbk-Italic SF
15912 67550 MT
(name)SH
/NewCenturySchlbk-Roman SF
25704 XM
(cluster name.)SH
/NewCenturySchlbk-Italic SF
15912 69406 MT
(clu_id)SH
/NewCenturySchlbk-Roman SF
25704 XM
(internal database identifier for this record.)SH
/NewCenturySchlbk-Italic SF
15912 71262 MT
(desc)SH
/NewCenturySchlbk-Roman SF
25704 XM
(cluster description.)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 29 29
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 29)SH
11 /NewCenturySchlbk-Italic AF
18072 8011 MT
(location)SH
/NewCenturySchlbk-Roman SF
27864 XM
(cluster location.)SH
/NewCenturySchlbk-Italic SF
18072 9867 MT
(modtime)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the time that this record was last modified \050or)479 W
27864 11104 MT
(created\051.)SH
/NewCenturySchlbk-Italic SF
18072 12960 MT
(modby)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the person who modified this record last.)SH
/NewCenturySchlbk-Italic SF
18072 14816 MT
(modwith)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the service that modified this record last.)SH
18072 16864 MT
(See Section 7.0.2 for the list of queries associated with this table.)SH
9 SS 
8280 18720 MT
(MCMAP)SH
11 SS 
18072 XM
(Machine-Cluster Map.)
505 W( This tables is used to assign machines to)506 W
18072 19957 MT
(clusters.)SH
/NewCenturySchlbk-Italic SF
18072 22005 MT
(mach_id)SH
/NewCenturySchlbk-Roman SF
27864 XM
(machine id.)SH
/NewCenturySchlbk-Italic SF
18072 23861 MT
(clu_id)SH
/NewCenturySchlbk-Roman SF
27864 XM
(cluster id.)SH
18072 25909 MT
(See Section 7.0.2 for the list of queries associated with this table.)SH
9 SS 
8280 27765 MT
(SVC)SH
11 SS 
18072 XM
(For each cluster there is a set of services that serve the machines in)
5 W( that)4 W
18072 29002 MT
(cluster. These)
430 W( services are described by an)
62 W( environment variable \050to be)63 W
18072 30239 MT
(set on client workstations at login\051 and)
130 W( a)129 W
/NewCenturySchlbk-Italic SF
40155 XM
(service cluster)129 W
/NewCenturySchlbk-Roman SF
47783 XM
(name. Use)
564 W( of)129 W
18072 31476 MT
(the service cluster name is service dependent but)
89 W( in general refers to a)90 W
18072 32713 MT
(group of entities that provide the named service in the particular)392 W
18072 33950 MT
(cluster.)SH
/NewCenturySchlbk-Italic SF
18072 35998 MT
(clu_id)SH
/NewCenturySchlbk-Roman SF
27864 XM
(references an entry in the cluster table.)SH
/NewCenturySchlbk-Italic SF
18072 37854 MT
(serv_label)SH
/NewCenturySchlbk-Roman SF
27864 XM
(label of a service)
152 W( cluster type \050e.g. "usrlib", "syslib",)153 W
27864 39091 MT
("zephyr"\051)SH
/NewCenturySchlbk-Italic SF
18072 40947 MT
(serv_cluster)SH
/NewCenturySchlbk-Roman SF
27864 XM
(specific service cluster data \050e.g. "bldgw20-vssys"\051)SH
18072 42995 MT
(See Section 7.0.2 for the list of queries associated with this table.)SH
9 SS 
8280 44851 MT
(LIST)SH
11 SS 
18072 XM
(Lists are used as a general)
104 W( purpose means of grouping serveral objects)103 W
18072 46088 MT
(togther. This)
692 W( table contains)
193 W( descriptive information for each list; the)194 W
9 SS 
18072 47325 MT
(MEMBERS)SH
11 SS 
23342 XM
(table contains the the list of objects that are in)
96 W( the list.  The)95 W
18072 48562 MT
(ability to add or delete objects in a list is controlled by an access)
48 W( control)49 W
18072 49799 MT
(entity associated with)
298 W( the list.  The access control entity may be a)297 W
18072 51036 MT
(USER, a LIST, or NONE.)
140 W( An)
587 W( access control entity names the user or)141 W
18072 52273 MT
(list of users who have the capability to manipulate the object specifying)59 W
18072 53510 MT
(the access control list.)SH
/NewCenturySchlbk-Italic SF
18072 55558 MT
(name)SH
/NewCenturySchlbk-Roman SF
27864 XM
(list name.)SH
/NewCenturySchlbk-Italic SF
18072 57414 MT
(list_id)SH
/NewCenturySchlbk-Roman SF
27864 XM
(internal database id for this list.)SH
/NewCenturySchlbk-Italic SF
18072 59270 MT
(active)SH
/NewCenturySchlbk-Roman SF
27864 XM
(Indicates this list should be extracted in)
419 W( service)420 W
27864 60507 MT
(updates.)SH
/NewCenturySchlbk-Italic SF
18072 62363 MT
(public)SH
/NewCenturySchlbk-Roman SF
27864 XM
(Indicates any)
129 W( user may add or delete themselves as)128 W
27864 63600 MT
(members of this list.)SH
/NewCenturySchlbk-Italic SF
18072 65456 MT
(hidden)SH
/NewCenturySchlbk-Roman SF
27864 XM
(Indicates that neither)
749 W( the list information or)750 W
27864 66693 MT
(membership may)
192 W( be divulged to anyone who is not)191 W
27864 67930 MT
(an administrator of this list.)SH
/NewCenturySchlbk-Italic SF
18072 69786 MT
(maillist)SH
/NewCenturySchlbk-Roman SF
27864 XM
(Indicates that this list is a maillist.)SH
/NewCenturySchlbk-Italic SF
18072 71642 MT
(group)SH
/NewCenturySchlbk-Roman SF
27864 XM
(Indicates that this list is a unix group.)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 30 30
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 30, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Italic AF
15912 8011 MT
(gid)SH
/NewCenturySchlbk-Roman SF
25704 XM
(Unix GID, if this list is a)
56 W( unix group.  This will have)57 W
25704 9248 MT
(value -1 to indicate: assign)
3 W( a unique GID if this list is)2 W
25704 10485 MT
(ever made a unix group.)SH
/NewCenturySchlbk-Italic SF
15912 12341 MT
(desc)SH
/NewCenturySchlbk-Roman SF
25704 XM
(description of list.)SH
/NewCenturySchlbk-Italic SF
15912 14197 MT
(acl_type)SH
/NewCenturySchlbk-Roman SF
25704 XM
(Type of access control entity: LIST, USER, or NONE.)SH
/NewCenturySchlbk-Italic SF
15912 16053 MT
(acl_id)SH
/NewCenturySchlbk-Roman SF
25704 XM
(Access control entity identifier;)
90 W( a list ID, user ID, or)91 W
25704 17290 MT
(ignored if type is NONE.)SH
/NewCenturySchlbk-Italic SF
15912 19146 MT
(modtime)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the time that this record was last modified \050or)479 W
25704 20383 MT
(created\051.)SH
/NewCenturySchlbk-Italic SF
15912 22239 MT
(modby)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the person who modified this record last.)SH
/NewCenturySchlbk-Italic SF
15912 24095 MT
(modwith)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the service that modified this record last.)SH
15912 26143 MT
(See Section 7.0.3 for the list of queries associated with this table.)SH
9 SS 
6120 27999 MT
(MEMBERS)SH
11 SS 
15912 XM
(List members.  Members are)
57 W( specified by a member type and a member)58 W
15912 29236 MT
(id pair.)SH
/NewCenturySchlbk-Italic SF
15912 31284 MT
(list_id)SH
/NewCenturySchlbk-Roman SF
25704 XM
(id of a list.)SH
/NewCenturySchlbk-Italic SF
15912 33140 MT
(member_type)SH
/NewCenturySchlbk-Roman SF
25704 XM
(member type: one of USER, LIST, STRING.)SH
/NewCenturySchlbk-Italic SF
15912 34996 MT
(member_id)SH
/NewCenturySchlbk-Roman SF
25704 XM
(id of a member \050a)SH
9 SS 
34876 XM
(USERS)SH
11 SS 
38352 XM
(id,)SH
9 SS 
39943 XM
(LIST)SH
11 SS 
42383 XM
(id, or)SH
9 SS 
45318 XM
(STRING)SH
11 SS 
49242 XM
(id.\051)SH
15912 37044 MT
(See Section 7.0.3 for the list of queries associated with this table.)SH
9 SS 
6120 38900 MT
(SERVERS)SH
11 SS 
15912 XM
(Server Information. This table contains)
46 W( information needed by the Data)45 W
15912 40137 MT
(Control Manager or applications for each known service to be updated.)SH
/NewCenturySchlbk-Italic SF
15912 42185 MT
(name)SH
/NewCenturySchlbk-Roman SF
25704 XM
(name of service.)SH
/NewCenturySchlbk-Italic SF
15912 44041 MT
(update_int)SH
/NewCenturySchlbk-Roman SF
25704 XM
(server update interval in minutes \050for DCM\051.)SH
/NewCenturySchlbk-Italic SF
15912 45897 MT
(target_file)SH
/NewCenturySchlbk-Roman SF
25704 XM
(where on the server being updated to put the)
265 W( file)266 W
25704 47134 MT
(generated by the DCM.)SH
/NewCenturySchlbk-Italic SF
15912 48990 MT
(script)SH
/NewCenturySchlbk-Roman SF
25704 XM
(where on Moira to find the shell script which)
242 W( will)241 W
25704 50227 MT
(install new configuration files on a server.)SH
/NewCenturySchlbk-Italic SF
15912 52083 MT
(dfgen)SH
/NewCenturySchlbk-Roman SF
25704 XM
(time of last server file generation.)SH
/NewCenturySchlbk-Italic SF
15912 53939 MT
(dfcheck)SH
/NewCenturySchlbk-Roman SF
25704 XM
(time of last check to see if server files needed to)
141 W( be)142 W
25704 55176 MT
(generated.)SH
/NewCenturySchlbk-Italic SF
15912 57032 MT
(type)SH
/NewCenturySchlbk-Roman SF
25704 XM
(service type: UNIQUE or REPLICAT\050ed\051.)SH
/NewCenturySchlbk-Italic SF
15912 58888 MT
(enable)SH
/NewCenturySchlbk-Roman SF
25704 XM
(Enable switch for DCM. This switch)
748 W( controls)747 W
25704 60125 MT
(whether or not the DCM generates files for)
385 W( this)386 W
25704 61362 MT
(service. \0500 - Do not Update, 1 - Update\051)SH
/NewCenturySchlbk-Italic SF
15912 63218 MT
(inprogress)SH
/NewCenturySchlbk-Roman SF
25704 XM
(indicator that a DCM is generating)
1155 W( new)1154 W
25704 64455 MT
(configuration files for this service right now.)SH
/NewCenturySchlbk-Italic SF
15912 66311 MT
(harderror)SH
/NewCenturySchlbk-Roman SF
25704 XM
(indication that an)
5 W( error has occured while generating)6 W
25704 67548 MT
(files \050or while propogating files)
352 W( is service type is)351 W
25704 68785 MT
(replicated\051. This)
884 W( is not a boolean, but the actual)289 W
25704 70022 MT
(error number.)SH
/NewCenturySchlbk-Italic SF
15912 71878 MT
(errmsg)SH
/NewCenturySchlbk-Roman SF
25704 XM
(a text description of the)SH
/NewCenturySchlbk-Italic SF
38059 XM
(harderror)SH
/NewCenturySchlbk-Roman SF
43332 XM
(reported above.)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 31 31
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 31)SH
11 /NewCenturySchlbk-Italic AF
18072 8011 MT
(acl_type)SH
/NewCenturySchlbk-Roman SF
27864 XM
(type of access control entity for this service.)SH
/NewCenturySchlbk-Italic SF
18072 9867 MT
(acl_id)SH
/NewCenturySchlbk-Roman SF
27864 XM
(id of access control entity for this service.)SH
/NewCenturySchlbk-Italic SF
18072 11723 MT
(modtime)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the time that this record was last modified \050or)479 W
27864 12960 MT
(created\051.)SH
/NewCenturySchlbk-Italic SF
18072 14816 MT
(modby)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the person who modified this record last.)SH
/NewCenturySchlbk-Italic SF
18072 16672 MT
(modwith)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the service that modified this record last.)SH
18072 18720 MT
(See Section 7.0.4 for the list of queries associated with this table.)SH
9 SS 
8280 20576 MT
(SERVERHOSTS)SH
11 SS 
18072 XM
(Server to Host mapping table.)
204 W( Used by the Data Control Manager to)205 W
18072 21813 MT
(map a server to a list of server hosts.)SH
/NewCenturySchlbk-Italic SF
18072 23861 MT
(service)SH
/NewCenturySchlbk-Roman SF
27864 XM
(name of service.)SH
/NewCenturySchlbk-Italic SF
18072 25717 MT
(mach_id)SH
/NewCenturySchlbk-Roman SF
27864 XM
(Machine id for a host containing the service.)SH
/NewCenturySchlbk-Italic SF
18072 27573 MT
(success)SH
/NewCenturySchlbk-Roman SF
27864 XM
(Flag indicating successful)
123 W( completion of most recent)122 W
27864 28810 MT
(server update.)SH
/NewCenturySchlbk-Italic SF
18072 30666 MT
(enable)SH
/NewCenturySchlbk-Roman SF
27864 XM
(Enable switch)
747 W( for DCM. This switch controls)748 W
27864 31903 MT
(whether or not the DCM)
7 W( updates a server. \0500 - Do not)6 W
27864 33140 MT
(Update, 1 - Update\051)SH
/NewCenturySchlbk-Italic SF
18072 34996 MT
(override)SH
/NewCenturySchlbk-Roman SF
27864 XM
(Override flag.  Used by DCM and update)
39 W( mechanism)40 W
27864 36233 MT
(to indicate that it)
13 W( should attempt to update this host,)12 W
27864 37470 MT
(even if the necessary time interval has not elapsed.)SH
/NewCenturySchlbk-Italic SF
18072 39326 MT
(inprogress)SH
/NewCenturySchlbk-Roman SF
27864 XM
(indicator that a DCM is updating this host right)333 W
27864 40563 MT
(now.)SH
/NewCenturySchlbk-Italic SF
18072 42419 MT
(hosterror)SH
/NewCenturySchlbk-Roman SF
27864 XM
(indication that an error has occured)
137 W( while updating)136 W
27864 43656 MT
(this host.)
67 W( This)
441 W( is not a boolean, but the actual error)68 W
27864 44893 MT
(number.)SH
/NewCenturySchlbk-Italic SF
18072 46749 MT
(hosterrmsg)SH
/NewCenturySchlbk-Roman SF
27864 XM
(a text description of the)SH
/NewCenturySchlbk-Italic SF
40219 XM
(hosterror)SH
/NewCenturySchlbk-Roman SF
45126 XM
(reported above.)SH
/NewCenturySchlbk-Italic SF
18072 48605 MT
(ltt)SH
/NewCenturySchlbk-Roman SF
27864 XM
(Last time tried.  Used by the DCM, this field)
332 W( is)331 W
27864 49842 MT
(adjusted each time a service)
504 W( is attemted to be)505 W
27864 51079 MT
(updated, regardless of success or failure.)SH
/NewCenturySchlbk-Italic SF
18072 52935 MT
(lts)SH
/NewCenturySchlbk-Roman SF
27864 XM
(Last time successful.  This records the)
109 W( last time the)108 W
27864 54172 MT
(DCM successfully updated the server.)SH
/NewCenturySchlbk-Italic SF
18072 56028 MT
(value1)SH
/NewCenturySchlbk-Roman SF
27864 XM
(server-specific integer)
44 W( data used by applications \050i.e.,)45 W
27864 57265 MT
(number of servers permitted per machine\051.)SH
/NewCenturySchlbk-Italic SF
18072 59121 MT
(value2)SH
/NewCenturySchlbk-Roman SF
27864 XM
(additional server-specific integer data.)SH
/NewCenturySchlbk-Italic SF
18072 60977 MT
(value3)SH
/NewCenturySchlbk-Roman SF
27864 XM
(additional server-specific string data.)SH
/NewCenturySchlbk-Italic SF
18072 62833 MT
(modtime)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the time that this record was last modified \050or)479 W
27864 64070 MT
(created\051.)SH
/NewCenturySchlbk-Italic SF
18072 65926 MT
(modby)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the person who modified this record last.)SH
/NewCenturySchlbk-Italic SF
18072 67782 MT
(modwith)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the service that modified this record last.)SH
18072 69830 MT
(See Section 7.0.4 for the list of queries associated with this table.)SH
9 SS 
8280 71686 MT
(FILESYS)SH
11 SS 
18072 XM
(File System Information.)
584 W( This)
1475 W( section desribes the file system)585 W
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 32 32
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 32, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
15912 8011 MT
(information necessary for a workstation to attach a file system.)SH
/NewCenturySchlbk-Italic SF
15912 10059 MT
(label)SH
/NewCenturySchlbk-Roman SF
25704 XM
(a name for an attachable file system.  This)
242 W( is not)241 W
25704 11296 MT
(necessarily unique.)SH
/NewCenturySchlbk-Italic SF
15912 13152 MT
(order)SH
/NewCenturySchlbk-Roman SF
25704 XM
(an integer)
282 W( used to indicate sort-order for multiple)283 W
25704 14389 MT
(filesystems with the same label.  Also, \050)125 W
/NewCenturySchlbk-Italic SF
(label, order)125 W
/NewCenturySchlbk-Roman SF
(\051)SH
25704 15626 MT
(tuples are unique among filesystems.)SH
/NewCenturySchlbk-Italic SF
15912 17482 MT
(filsys_id)SH
/NewCenturySchlbk-Roman SF
25704 XM
(internal database identifier for the filesystem record.)SH
/NewCenturySchlbk-Italic SF
15912 19338 MT
(phys_id)SH
/NewCenturySchlbk-Roman SF
25704 XM
(internal database identifier for the phsical partition)131 W
25704 20575 MT
(containing the)
128 W( logical filesystem.  For filesystems of)127 W
25704 21812 MT
(type NFS this is an nfsphys_id.  For)
29 W( other types, it is)30 W
25704 23049 MT
(unused.)SH
/NewCenturySchlbk-Italic SF
15912 24905 MT
(type)SH
/NewCenturySchlbk-Roman SF
25704 XM
(currently one of RVD, NFS, or ERR.)SH
/NewCenturySchlbk-Italic SF
15912 26761 MT
(mach_id)SH
/NewCenturySchlbk-Roman SF
25704 XM
(file server machine.)SH
/NewCenturySchlbk-Italic SF
15912 28617 MT
(name)SH
/NewCenturySchlbk-Roman SF
25704 XM
(name of file system on the server.)
217 W( For)
739 W( type RVD,)216 W
25704 29854 MT
(this is the pack name.  For type NFS,)
255 W( this is the)256 W
25704 31091 MT
(directory name on the server.)SH
/NewCenturySchlbk-Italic SF
15912 32947 MT
(mount)SH
/NewCenturySchlbk-Roman SF
25704 XM
(default mount point for file system.)SH
/NewCenturySchlbk-Italic SF
15912 34803 MT
(access)SH
/NewCenturySchlbk-Roman SF
25704 XM
(default access mode for file system.)SH
/NewCenturySchlbk-Italic SF
15912 36659 MT
(comments)SH
/NewCenturySchlbk-Roman SF
25704 XM
(any special notes about the filesystem.)SH
/NewCenturySchlbk-Italic SF
15912 38515 MT
(owner)SH
/NewCenturySchlbk-Roman SF
25704 XM
(this is the users_id of the owner of the)
52 W( filesystem.  If)51 W
25704 39752 MT
(the filesystem is automatically)
33 W( created, this user will)34 W
25704 40989 MT
(own it.)SH
/NewCenturySchlbk-Italic SF
15912 42845 MT
(owners)SH
/NewCenturySchlbk-Roman SF
25704 XM
(this is the)
564 W( list_id of the owning group of the)563 W
25704 44082 MT
(filesystem. If)
310 W( the filesystem is automatically created,)2 W
25704 45319 MT
(this group will own it.)SH
/NewCenturySchlbk-Italic SF
15912 47175 MT
(createflg)SH
/NewCenturySchlbk-Roman SF
25704 XM
(indicates that the)
43 W( filesystem should be automatically)42 W
25704 48412 MT
(created if it does not already exist.)SH
/NewCenturySchlbk-Italic SF
15912 50268 MT
(lockertype)SH
/NewCenturySchlbk-Roman SF
25704 XM
(one of HOMEDIR, PROJECT, COURSE, SYSTEM,)239 W
25704 51505 MT
(etc. This)
457 W( may affect what is done when a filesystem)75 W
25704 52742 MT
(is automatically created.)SH
/NewCenturySchlbk-Italic SF
15912 54598 MT
(modtime)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the time that this record was last modified \050or)479 W
25704 55835 MT
(created\051.)SH
/NewCenturySchlbk-Italic SF
15912 57691 MT
(modby)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the person who modified this record last.)SH
/NewCenturySchlbk-Italic SF
15912 59547 MT
(modwith)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the service that modified this record last.)SH
15912 61595 MT
(See Section 7.0.5 for the list of queries associated with this table.)SH
9 SS 
6120 63451 MT
(NFSPHYS)SH
11 SS 
15912 XM
(NFS Server Information.  This table contains for each nfs server)429 W
15912 64688 MT
(machine a list of the)
163 W( physical device partitions from which directories)164 W
15912 65925 MT
(may be exported.  For each such partition an access control list)
322 W( is)321 W
15912 67162 MT
(provided.)SH
/NewCenturySchlbk-Italic SF
15912 69210 MT
(nfsphys_id)SH
/NewCenturySchlbk-Roman SF
25704 XM
(internal database identifier of this parition.)SH
/NewCenturySchlbk-Italic SF
15912 71066 MT
(mach_id)SH
/NewCenturySchlbk-Roman SF
25704 XM
(server machine.)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 33 33
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 33)SH
11 /NewCenturySchlbk-Italic AF
18072 8011 MT
(dir)SH
/NewCenturySchlbk-Roman SF
27864 XM
(top-level directory of device.)SH
/NewCenturySchlbk-Italic SF
18072 9867 MT
(device)SH
/NewCenturySchlbk-Roman SF
27864 XM
(partition name.)SH
/NewCenturySchlbk-Italic SF
18072 11723 MT
(status)SH
/NewCenturySchlbk-Roman SF
27864 XM
(a bit field encoding)
275 W( what the parition is used for.)276 W
27864 12960 MT
(Current assignments are:)SH
27864 15434 MT
(bit 0 \050LSB\051 - Student lockers)SH
27864 16671 MT
(bit 1 -)
SH( Faculty)
1836 W( lockers)SH
27864 17908 MT
(bit 2 -)
SH( Staff)
1836 W( lockers)SH
27864 19145 MT
(bit 3 -)
SH( Miscellaneous)1836 W
/NewCenturySchlbk-Italic SF
18072 21001 MT
(allocated)SH
/NewCenturySchlbk-Roman SF
27864 XM
(number of quota units allocated to this device.)SH
/NewCenturySchlbk-Italic SF
18072 22857 MT
(size)SH
/NewCenturySchlbk-Roman SF
27864 XM
(capacity of this device in quota units.)SH
/NewCenturySchlbk-Italic SF
18072 24713 MT
(modtime)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the time that this record was last modified \050or)479 W
27864 25950 MT
(created\051.)SH
/NewCenturySchlbk-Italic SF
18072 27806 MT
(modby)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the person who modified this record last.)SH
/NewCenturySchlbk-Italic SF
18072 29662 MT
(modwith)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the service that modified this record last.)SH
18072 31710 MT
(See Section 7.0.5 for the list of queries associated with this table.)SH
9 SS 
8280 33566 MT
(NFSQUOTA)SH
11 SS 
18072 XM
(NFS Server Quota Information.  This table contains per user per server)53 W
18072 34803 MT
(quota information.)SH
/NewCenturySchlbk-Italic SF
18072 36851 MT
(users_id)SH
/NewCenturySchlbk-Roman SF
27864 XM
(user id of account this quota belongs to.)SH
/NewCenturySchlbk-Italic SF
18072 38707 MT
(filsys_id)SH
/NewCenturySchlbk-Roman SF
27864 XM
(filesys_id of logical filesystem this quota applies to.)SH
/NewCenturySchlbk-Italic SF
18072 40563 MT
(phys_id)SH
/NewCenturySchlbk-Roman SF
27864 XM
(nfsphys_id of partition that)
340 W( filesystem resides on.)339 W
27864 41800 MT
(This is redundant information, here)
89 W( for performance)90 W
27864 43037 MT
(reasons.)SH
/NewCenturySchlbk-Italic SF
18072 44893 MT
(quota)SH
/NewCenturySchlbk-Roman SF
27864 XM
(user quota in quota units.)SH
/NewCenturySchlbk-Italic SF
18072 46749 MT
(modtime)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the time that this record was last modified \050or)479 W
27864 47986 MT
(created\051.)SH
/NewCenturySchlbk-Italic SF
18072 49842 MT
(modby)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the person who modified this record last.)SH
/NewCenturySchlbk-Italic SF
18072 51698 MT
(modwith)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the service that modified this record last.)SH
18072 53746 MT
(See Section 7.0.5 for the list of queries associated with this table.)SH
9 SS 
8280 55602 MT
(ZEPHYR)SH
11 SS 
18072 XM
(Zephyr class access control)
285 W( list information.  This table contains an)286 W
18072 56839 MT
(entry for each controlled class.  Each)
129 W( records records an access control)128 W
18072 58076 MT
(entity for each of the four functions of that class.)SH
/NewCenturySchlbk-Italic SF
18072 60124 MT
(class)SH
/NewCenturySchlbk-Roman SF
27864 XM
(name of the zephyr class.)SH
/NewCenturySchlbk-Italic SF
18072 61980 MT
(xmt_type)SH
/NewCenturySchlbk-Roman SF
27864 XM
(access control entity type for transmit)SH
/NewCenturySchlbk-Italic SF
18072 63836 MT
(xmt_id)SH
/NewCenturySchlbk-Roman SF
27864 XM
(access control entity id for transmit)SH
/NewCenturySchlbk-Italic SF
18072 65692 MT
(sub_type)SH
/NewCenturySchlbk-Roman SF
27864 XM
(access control entity type for subscriptions)SH
/NewCenturySchlbk-Italic SF
18072 67548 MT
(sub_id)SH
/NewCenturySchlbk-Roman SF
27864 XM
(access control entity id for subscriptions)SH
/NewCenturySchlbk-Italic SF
18072 69404 MT
(iws_type)SH
/NewCenturySchlbk-Roman SF
27864 XM
(access control entity)
564 W( type for instance wildcard)565 W
27864 70641 MT
(specification)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 34 34
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 34, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Italic AF
15912 8011 MT
(iws_id)SH
/NewCenturySchlbk-Roman SF
25704 XM
(access control entity)
769 W( id for instance wildcard)768 W
25704 9248 MT
(specification)SH
/NewCenturySchlbk-Italic SF
15912 11104 MT
(iui_type)SH
/NewCenturySchlbk-Roman SF
25704 XM
(access control entity type for instance UID identity)SH
/NewCenturySchlbk-Italic SF
15912 12960 MT
(iui_id)SH
/NewCenturySchlbk-Roman SF
25704 XM
(access control entity id for instance UID identity)SH
/NewCenturySchlbk-Italic SF
15912 14816 MT
(modtime)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the time that this record was last modified \050or)479 W
25704 16053 MT
(created\051.)SH
/NewCenturySchlbk-Italic SF
15912 17909 MT
(modby)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the person who modified this record last.)SH
/NewCenturySchlbk-Italic SF
15912 19765 MT
(modwith)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the service that modified this record last.)SH
15912 21813 MT
(See Section 7.0.6 for the list of queries associated with this table.)SH
9 SS 
6120 23669 MT
(HOSTACCESS)SH
11 SS 
15912 XM
(This table contains the necessary information for)
13 W( Moira to be generating)12 W
15912 24906 MT
(/.klogin or)
30 W( /etc/passwd files.  It associates an access control entity with a)31 W
15912 26143 MT
(machine.)SH
/NewCenturySchlbk-Italic SF
15912 28191 MT
(mach_id)SH
/NewCenturySchlbk-Roman SF
25704 XM
(machine.)SH
/NewCenturySchlbk-Italic SF
15912 30047 MT
(acl_type)SH
/NewCenturySchlbk-Roman SF
25704 XM
(access control entity type)SH
/NewCenturySchlbk-Italic SF
15912 31903 MT
(acl_id)SH
/NewCenturySchlbk-Roman SF
25704 XM
(access control entity id)SH
/NewCenturySchlbk-Italic SF
15912 33759 MT
(modtime)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the time that this record was last modified \050or)479 W
25704 34996 MT
(created\051.)SH
/NewCenturySchlbk-Italic SF
15912 36852 MT
(modby)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the person who modified this record last.)SH
/NewCenturySchlbk-Italic SF
15912 38708 MT
(modwith)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the service that modified this record last.)SH
15912 40756 MT
(See Section 7.0.7 for the list of queries associated with this table.)SH
9 SS 
6120 42612 MT
(STRINGS)SH
11 SS 
15912 XM
(Used for list)
105 W( members of)106 W
/NewCenturySchlbk-Italic SF
29178 XM
(string)SH
/NewCenturySchlbk-Roman SF
32585 XM
(type. An)
518 W( optimization for dealing with)106 W
15912 43849 MT
(foreign mail addresses in poboxes or as list members.)SH
/NewCenturySchlbk-Italic SF
15912 45897 MT
(string_id)SH
/NewCenturySchlbk-Roman SF
25704 XM
(member id.)SH
/NewCenturySchlbk-Italic SF
15912 47753 MT
(string)SH
/NewCenturySchlbk-Roman SF
25704 XM
(string.)SH
15912 49801 MT
(See Section 7.0.7 for the list of queries associated with this table.)SH
9 SS 
6120 51657 MT
(SERVICES)SH
11 SS 
15912 XM
(TCP/UDP Port Information.  This is the)
449 W( information currently in)448 W
15912 52894 MT
(/etc/services. In)
462 W( a workstation environment with)
78 W( Moira and the Hesiod)79 W
15912 54131 MT
(name server, service information will be obtained from the name server.)SH
/NewCenturySchlbk-Italic SF
15912 56179 MT
(name)SH
/NewCenturySchlbk-Roman SF
25704 XM
(service name.)SH
/NewCenturySchlbk-Italic SF
15912 58035 MT
(protocol)SH
/NewCenturySchlbk-Roman SF
25704 XM
(protocol: one of TCP, UDP.)SH
/NewCenturySchlbk-Italic SF
15912 59891 MT
(port)SH
/NewCenturySchlbk-Roman SF
25704 XM
(port number.)SH
/NewCenturySchlbk-Italic SF
15912 61747 MT
(desc)SH
/NewCenturySchlbk-Roman SF
25704 XM
(description of service.)SH
/NewCenturySchlbk-Italic SF
15912 63603 MT
(modtime)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the time that this record was last modified \050or)479 W
25704 64840 MT
(created\051.)SH
/NewCenturySchlbk-Italic SF
15912 66696 MT
(modby)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the person who modified this record last.)SH
/NewCenturySchlbk-Italic SF
15912 68552 MT
(modwith)SH
/NewCenturySchlbk-Roman SF
25704 XM
(the service that modified this record last.)SH
15912 70600 MT
(See Section 7.0.7 for the list of queries associated with this table.)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 35 35
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 35)SH
9 /NewCenturySchlbk-Roman AF
8280 8011 MT
(PRINTCAP)SH
11 SS 
18072 XM
(Printer capability table.  This)
300 W( contains the information currently in)301 W
18072 9248 MT
(/etc/printcap.)SH
/NewCenturySchlbk-Italic SF
18072 11296 MT
(name)SH
/NewCenturySchlbk-Roman SF
27864 XM
(a unique printer name.)SH
/NewCenturySchlbk-Italic SF
18072 13152 MT
(mach_id)SH
/NewCenturySchlbk-Roman SF
27864 XM
(server machine.)SH
/NewCenturySchlbk-Italic SF
18072 15008 MT
(dir)SH
/NewCenturySchlbk-Roman SF
27864 XM
(spooling directory)SH
/NewCenturySchlbk-Italic SF
18072 16864 MT
(rp)SH
/NewCenturySchlbk-Roman SF
27864 XM
(remote printer name)SH
/NewCenturySchlbk-Italic SF
18072 18720 MT
(comments)SH
/NewCenturySchlbk-Roman SF
27864 XM
(description of service.)SH
/NewCenturySchlbk-Italic SF
18072 20576 MT
(modtime)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the time that this record was last modified \050or)479 W
27864 21813 MT
(created\051.)SH
/NewCenturySchlbk-Italic SF
18072 23669 MT
(modby)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the person who modified this record last.)SH
/NewCenturySchlbk-Italic SF
18072 25525 MT
(modwith)SH
/NewCenturySchlbk-Roman SF
27864 XM
(the service that modified this record last.)SH
18072 27573 MT
(See Section 7.0.7 for the list of queries associated with this table.)SH
9 SS 
8280 29429 MT
(CAPACLS)SH
11 SS 
18072 XM
(This table associates access control lists with particular capabilities.)
16 W( An)339 W
18072 30666 MT
(important use of this table is for defining the access)
436 W( allowed for)435 W
18072 31903 MT
(executing each of)
337 W( the Moira predefined queries.  Each query name)338 W
18072 33140 MT
(appears as a capability name in this list.)SH
/NewCenturySchlbk-Italic SF
18072 35188 MT
(capability)SH
/NewCenturySchlbk-Roman SF
27864 XM
(a string, usually the full name of a query.)SH
/NewCenturySchlbk-Italic SF
18072 37044 MT
(tag)SH
/NewCenturySchlbk-Roman SF
27864 XM
(four character tag name for this capability,)
183 W( usually)182 W
27864 38281 MT
(the short name of a query.)SH
/NewCenturySchlbk-Italic SF
18072 40137 MT
(list_id)SH
/NewCenturySchlbk-Roman SF
27864 XM
(a list id.)SH
18072 42185 MT
(See Section 7.0.7 for the list of queries associated with this table.)SH
9 SS 
8280 44041 MT
(ALIAS)SH
11 SS 
18072 XM
(Aliases are used by)
320 W( several different services to provide alternative)321 W
18072 45278 MT
(names for objects or a mapping one type of)
13 W( object and another.  They are)12 W
18072 46515 MT
(also used to record legal values for type-checked fields, and type)448 W
18072 47752 MT
(translations of some type fields.)SH
18072 49608 MT
(Some examples of alias usage are)
219 W( file system aliases, service aliases,)218 W
18072 50845 MT
(and printer aliases.)
140 W( Each)
588 W( alias of this form will have the alias as the)141 W
/NewCenturySchlbk-Italic SF
18072 52082 MT
(name)SH
/NewCenturySchlbk-Roman SF
(, a)148 W
/NewCenturySchlbk-Italic SF
22668 XM
(type)SH
/NewCenturySchlbk-Roman SF
25179 XM
(of PRINTER, SERVICE, or FILESYS, and a)148 W
/NewCenturySchlbk-Italic SF
48937 XM
(trans)SH
/NewCenturySchlbk-Roman SF
52058 XM
(of the)147 W
18072 53319 MT
(real name of the object.)SH
18072 55175 MT
(All type-checking aliases are of)9 W
/NewCenturySchlbk-Italic SF
34222 XM
(type)SH
/NewCenturySchlbk-Roman SF
36594 XM
(TYPE. The)324 W
/NewCenturySchlbk-Italic SF
42839 XM
(name)SH
/NewCenturySchlbk-Roman SF
45925 XM
(is the name of the)10 W
18072 56412 MT
(type-checked field, and the)37 W
/NewCenturySchlbk-Italic SF
32161 XM
(trans)SH
/NewCenturySchlbk-Roman SF
35172 XM
(is a possible)
37 W( value for that field.  Some)36 W
18072 57649 MT
(type-checked fields are "alias", "boolean",)
338 W( "class", "filesys", etc.  For)339 W
18072 58886 MT
(example, alias types themselves are typechecked,)
253 W( so that one cannot)252 W
18072 60123 MT
(store an alias of type)203 W
/NewCenturySchlbk-Bold SF
29976 XM
(aliastype)SH
/NewCenturySchlbk-Roman SF
35687 XM
(unless there is an alias entry of the)204 W
18072 61360 MT
(form \050alias, TYPE, aliastype\051.)SH
18072 63216 MT
(Type translations are used to record things like the data stored)
55 W( with an)54 W
18072 64453 MT
(SMTP pobox is)
100 W( of type string.  These aliases have a)101 W
/NewCenturySchlbk-Italic SF
45542 XM
(name)SH
/NewCenturySchlbk-Roman SF
48719 XM
(which is the)101 W
18072 65690 MT
(type string the user enters, a)196 W
/NewCenturySchlbk-Italic SF
34312 XM
(type)SH
/NewCenturySchlbk-Roman SF
36871 XM
(of TYPEDATA,)
196 W( and a)195 W
/NewCenturySchlbk-Italic SF
48841 XM
(trans)SH
/NewCenturySchlbk-Roman SF
52010 XM
(of the)195 W
18072 66927 MT
(actual data type, i.e. user, list, string, machine, etc.)SH
/NewCenturySchlbk-Italic SF
18072 68975 MT
(name)SH
/NewCenturySchlbk-Roman SF
27864 XM
(alias name.)SH
/NewCenturySchlbk-Italic SF
18072 70831 MT
(type)SH
/NewCenturySchlbk-Roman SF
27864 XM
(alias type: currently one of TYPE,)
697 W( PRINTER,)698 W
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 36 36
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 36, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
25704 8011 MT
(SERVICE, FILESYS, TYPEDATA.)SH
/NewCenturySchlbk-Italic SF
15912 9867 MT
(trans)SH
/NewCenturySchlbk-Roman SF
25704 XM
(alias translation.)SH
15912 11915 MT
(See Section 7.0.7 for the list of queries associated with this table.)SH
9 SS 
6120 13771 MT
(VALUES)SH
11 SS 
15912 XM
(Values needed by the server or application)
126 W( programs.  These are hints)125 W
15912 15008 MT
(for the next ID number to assign, some state variables such)
71 W( as the dcm)72 W
15912 16245 MT
(enable flag, and values such as the default quota for new users.)SH
/NewCenturySchlbk-Italic SF
15912 18293 MT
(name)SH
/NewCenturySchlbk-Roman SF
25704 XM
(value name.)SH
/NewCenturySchlbk-Italic SF
15912 20149 MT
(value)SH
/NewCenturySchlbk-Roman SF
25704 XM
(value.)SH
15912 22197 MT
(See Section 7.0.7 for the list of queries associated with this table.)SH
9 SS 
6120 24053 MT
(TBLSTATS)SH
11 SS 
15912 XM
(Table Statistics.  For each table in)
228 W( the Moira database statistics are)227 W
15912 25290 MT
(kept for the number of appends, updates, and deletes performed on the)87 W
15912 26527 MT
(table. In)
306 W( addition, the last modification time of the table is kept.)SH
/NewCenturySchlbk-Italic SF
15912 28575 MT
(table)SH
/NewCenturySchlbk-Roman SF
25704 XM
(table name.)SH
/NewCenturySchlbk-Italic SF
15912 30431 MT
(modtime)SH
/NewCenturySchlbk-Roman SF
25704 XM
(time of last modification \050append, update, or delete\051.)SH
/NewCenturySchlbk-Italic SF
15912 32287 MT
(retrieves)SH
25704 XM
(obsolete)SH
/NewCenturySchlbk-Roman SF
30245 XM
(count of retrievals on this table.  This is)303 W
25704 33524 MT
(unused now for performance reasons.)SH
/NewCenturySchlbk-Italic SF
15912 35380 MT
(appends)SH
/NewCenturySchlbk-Roman SF
25704 XM
(count of additions to this table.)SH
/NewCenturySchlbk-Italic SF
15912 37236 MT
(updates)SH
/NewCenturySchlbk-Roman SF
25704 XM
(count of updates to this table.)SH
/NewCenturySchlbk-Italic SF
15912 39092 MT
(deletes)SH
/NewCenturySchlbk-Roman SF
25704 XM
(count of deletions to this table.)SH
15912 41140 MT
(See Section 7.0.7 for the list of queries associated with this table.)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 37 37
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 37)SH
12 SS 
8280 8075 MT
(7. Predefined Queries - List of Database Interfaces)SH
11 /NewCenturySchlbk-Roman AF
9091 10225 MT
(All access to the database is provided through)
233 W( the application library/database server)234 W
8280 11462 MT
(interface. This)
434 W( interface provides a limited set of predefined, named)
64 W( queries, which allows)63 W
8280 12699 MT
(for tightly controlled access to database information.)
5 W( Queries)
317 W( fall into four classes: retrieve,)6 W
8280 13936 MT
(update, delete, and append.  An attempt has been made to define a set of queries)
206 W( that)205 W
8280 15173 MT
(provide sufficient flexibility to meet all of the needs of the)
53 W( Data Control Manager and each)54 W
8280 16410 MT
(of the indivual application programs.)
182 W( However,)
669 W( since the database can be modified and)181 W
8280 17647 MT
(extended in the future, the server and application library have been designed)
104 W( to allow for)105 W
8280 18884 MT
(the easy addtion of queries.)SH
9091 21111 MT
(Providing a generallized layer of functions affords Moira the capability of being database)69 W
8280 22348 MT
(independent. Today,)
418 W( we are using INGRES; however, in the future,)
56 W( if a different database)57 W
8280 23585 MT
(is required, the application interface will not change.  The only change needed at that)
22 W( point)21 W
8280 24822 MT
(will be a new Moira server, linking the pre-defined queries to a new set of data)452 W
8280 26059 MT
(manipulation procedures.)SH
9091 28286 MT
(The following list)
124 W( of queries are a predefined list.  This list provides the mechanism for)123 W
8280 29523 MT
(reading, writing, updating, and deleting information in the database.)SH
9091 31750 MT
(In each query description below there are descriptions of the required)
211 W( arguments, the)212 W
8280 32987 MT
(return values,)
330 W( integrity constraints, possible error codes, and side effects, if any.  In)329 W
8280 34224 MT
(addition to the error codes specifically listed for each query, any query)
362 W( may return:)363 W
8280 35461 MT
(MR_PERM "Insufficient permission to perform)
188 W( requested database access" or MR_ARGS)187 W
8280 36698 MT
("Incorrect number of)
143 W( arguments".  Any retrieval query may return MR_NO_MATCH "No)144 W
8280 37935 MT
(records in database match query".)
88 W( Any)
481 W( add or update query may return MR_BAD_CHAR)87 W
8280 39172 MT
("Illegal character in argument" if a bad)
188 W( character is in an argument that has character)189 W
8280 40409 MT
(restrictions, or MR_EXISTS if the new object to be added or new name)
140 W( of existing object)139 W
8280 41646 MT
(conflicts with another object already in the database.  Other errors)
181 W( are listed with each)182 W
8280 42883 MT
(query.)SH
10 /Helvetica-BoldOblique AF
8280 45710 MT
(7.0.1. Users, Finger, and Post Office Boxes)SH
11 /NewCenturySchlbk-Bold AF
9091 47670 MT
(get_all_logins)SH
/NewCenturySchlbk-Roman SF
8280 49897 MT
(Args: none)SH
2382 50 8280 50097 UL
8280 52124 MT
(Returns: {login, uid, shell, last, first, mi})SH
4116 50 8280 52324 UL
8280 54351 MT
(Returns info on)
198 W( every account in the database.  The returned info is a summary of the)197 W
8280 55588 MT
(account info, not the complete information.)SH
/NewCenturySchlbk-Bold SF
9091 57815 MT
(get_all_active_logins)SH
/NewCenturySchlbk-Roman SF
8280 60042 MT
(Args: none)SH
2382 50 8280 60242 UL
8280 62269 MT
(Returns: {login, uid, shell, last, first, mi})SH
4116 50 8280 62469 UL
8280 64496 MT
(Returns info on every account for which the status field is non-zero.  The returned info)
44 W( is a)45 W
8280 65733 MT
(summary of the account info, not the complete information.)SH
/NewCenturySchlbk-Bold SF
9091 67960 MT
(get_user_by_login)SH
/NewCenturySchlbk-Roman SF
8280 70187 MT
(Args: login)SH
2382 50 8280 70387 UL
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 38 38
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 38, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(Returns: {login, uid, shell, last, first, mi, state, mitid, class, modtime, modby, modwith})SH
4116 50 6120 8211 UL
6120 10238 MT
(Returns complete account information on the named account.)
143 W( Wildcards)
591 W( may be used in)142 W
6120 11475 MT
(the)SH
/NewCenturySchlbk-Italic SF
8153 XM
(login)SH
/NewCenturySchlbk-Roman SF
11082 XM
(name specified.  If the person executing the query is not on)
75 W( the query ACL, then)76 W
6120 12712 MT
(the query)
223 W( only succeeds if the only retrieved information is about the user making the)222 W
6120 13949 MT
(request.)SH
/NewCenturySchlbk-Bold SF
6931 16176 MT
(get_user_by_uid)SH
/NewCenturySchlbk-Roman SF
6120 18403 MT
(Args: uid)SH
2382 50 6120 18603 UL
6120 20630 MT
(Returns: {login, uid, shell, last, first, mi, state, mitid, class, modtime, modby, modwith})SH
4116 50 6120 20830 UL
6120 22857 MT
(Returns complete account information on)
47 W( any account with the specified)48 W
/NewCenturySchlbk-Italic SF
43617 XM
(uid)SH
/NewCenturySchlbk-Roman SF
(. If)
402 W( the person)48 W
6120 24094 MT
(executing the query is)
222 W( not on the query ACL, then the query only succeeds if the only)221 W
6120 25331 MT
(retrieved information is about the user making the request.)SH
/NewCenturySchlbk-Bold SF
6931 27558 MT
(get_user_by_name)SH
/NewCenturySchlbk-Roman SF
6120 29785 MT
(Args: {first, last})SH
2382 50 6120 29985 UL
6120 32012 MT
(Returns: {login, uid, shell, last, first, mi, state, mitid, class, modtime, modby, modwith})SH
4116 50 6120 32212 UL
6120 34239 MT
(Returns complete account information on)
145 W( any account with matching)146 W
/NewCenturySchlbk-Italic SF
42863 XM
(first)SH
/NewCenturySchlbk-Roman SF
45413 XM
(and)SH
/NewCenturySchlbk-Italic SF
47781 XM
(last)SH
/NewCenturySchlbk-Roman SF
50107 XM
(name)SH
6120 35476 MT
(fields. Either)
1026 W( or both names may contain wildcards,)
360 W( so that this query can do the)359 W
6120 36713 MT
(equivalent of lookup by firstname or lookup by lastname.)SH
/NewCenturySchlbk-Bold SF
6931 38940 MT
(get_user_by_class)SH
/NewCenturySchlbk-Roman SF
6120 41167 MT
(Args: class)SH
2382 50 6120 41367 UL
6120 43394 MT
(Returns: {login, uid, shell, last, first, mi, state, mitid, class, modtime, modby, modwith})SH
4116 50 6120 43594 UL
6120 45621 MT
(Returns complete account information)
196 W( on any account with a matching class field.  The)197 W
6120 46858 MT
(given class may contain wildcards.)SH
/NewCenturySchlbk-Bold SF
6931 49085 MT
(get_user_by_mitid)SH
/NewCenturySchlbk-Roman SF
6120 51312 MT
(Args: crypt\050id\051)SH
2382 50 6120 51512 UL
6120 53539 MT
(Returns: {login, uid, shell, last, first, mi, state, mitid, class, modtime, modby, modwith})SH
4116 50 6120 53739 UL
6120 55766 MT
(Returns complete account information on)
86 W( any account with a matching MIT ID field.  The)85 W
6120 57003 MT
(given id may contain wildcards.)SH
/NewCenturySchlbk-Bold SF
6931 59230 MT
(add_user)SH
/NewCenturySchlbk-Roman SF
6120 61457 MT
(Args: {login, uid, shell, last, first, mi, state, mitid, class})SH
2382 50 6120 61657 UL
6120 63684 MT
(Returns: none)SH
4116 50 6120 63884 UL
6120 65911 MT
(Adds a new user to the database.)58 W
/NewCenturySchlbk-Italic SF
24012 XM
(login)SH
/NewCenturySchlbk-Roman SF
26924 XM
(must not match any existing)59 W
/NewCenturySchlbk-Italic SF
42085 XM
(login)SH
/NewCenturySchlbk-Roman SF
(s.)SH
/NewCenturySchlbk-Italic SF
46178 XM
(uid)SH
/NewCenturySchlbk-Roman SF
48256 XM
(and)SH
/NewCenturySchlbk-Italic SF
50537 XM
(state)SH
/NewCenturySchlbk-Roman SF
6120 67148 MT
(must be integers.  If the given uid is)201 W
/NewCenturySchlbk-Bold SF
26607 XM
(UNIQUE_UID)SH
/NewCenturySchlbk-Roman SF
34970 XM
(as defined in)200 W
/NewCenturySchlbk-Italic SF
42380 XM
(<moira.h>)SH
/NewCenturySchlbk-Roman SF
(, the next)200 W
6120 68385 MT
(unused uid will be assigned.  If)171 W
/NewCenturySchlbk-Italic SF
23426 XM
(login)SH
/NewCenturySchlbk-Roman SF
26451 XM
(is)SH
/NewCenturySchlbk-Bold SF
27786 XM
(UNIQUE_LOGIN)SH
/NewCenturySchlbk-Roman SF
37831 XM
(as defined in)172 W
/NewCenturySchlbk-Italic SF
45157 XM
(<moira.h>)SH
/NewCenturySchlbk-Roman SF
(, the)172 W
6120 69622 MT
(login name will be a "#" followed by)
113 W( the uid.  For example, when adding a person so that)112 W
6120 70859 MT
(they may register)
185 W( later, the query ausr\050UNIQUE_LOGIN, UNIQUE_UID, /bin/csh,)186 W
/NewCenturySchlbk-Italic SF
50373 XM
(Last,)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 39 39
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 39)SH
11 /NewCenturySchlbk-Italic AF
8280 8011 MT
(First, M)19 W
/NewCenturySchlbk-Roman SF
(, 0, [encrypted ID,)19 W
/NewCenturySchlbk-Italic SF
21945 XM
(class)SH
/NewCenturySchlbk-Roman SF
(\051 is used.)
19 W( The)343 W
/NewCenturySchlbk-Italic SF
31879 XM
(class)SH
/NewCenturySchlbk-Roman SF
34665 XM
(field must contain a value specified as a)18 W
/NewCenturySchlbk-Bold SF
8280 9248 MT
(TYPE)SH
/NewCenturySchlbk-Roman SF
11956 XM
(alias for)112 W
/NewCenturySchlbk-Bold SF
16626 XM
(class)SH
/NewCenturySchlbk-Roman SF
(. This)
530 W( query)
112 W( also initializes the finger record for this user with just)113 W
8280 10485 MT
(their full name, and sets their pobox to)36 W
/NewCenturySchlbk-Bold SF
28673 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(. It)
378 W( updates)
36 W( the modtime on the user, finger)35 W
8280 11722 MT
(and pobox records.  Errors: MR_NOT_UNIQUE "Arguments not)
85 W( unique" if the login name)86 W
8280 12959 MT
(is not unique, or MR_BAD_CLASS "Specified class is not known" if the)
99 W( class is not in the)98 W
8280 14196 MT
(alias database.])SH
/NewCenturySchlbk-Bold SF
9091 16423 MT
(register_user)SH
/NewCenturySchlbk-Roman SF
8280 18650 MT
(Args: {uid, login, fstype})SH
2382 50 8280 18850 UL
8280 20877 MT
(Returns: none)SH
4116 50 8280 21077 UL
8280 23104 MT
(Registers a user.  This consists of changing their username, and creating a pobox, a group)76 W
8280 24341 MT
(list, a filesystem, and a quota for them.)
111 W( The)
527 W( user is identified by)110 W
/NewCenturySchlbk-Italic SF
43006 XM
(uid)SH
/NewCenturySchlbk-Roman SF
(, which must match)110 W
8280 25578 MT
(exactly one existing user.  Further, this user must currently)
100 W( have a)101 W
/NewCenturySchlbk-Italic SF
43977 XM
(status)SH
/NewCenturySchlbk-Roman SF
47440 XM
(of 0.  The user)101 W
8280 26815 MT
(will be left with a)104 W
/NewCenturySchlbk-Italic SF
18004 XM
(status)SH
/NewCenturySchlbk-Roman SF
21469 XM
(of 2.  The pobox created will be of type)103 W
/NewCenturySchlbk-Bold SF
42213 XM
(POP)SH
/NewCenturySchlbk-Roman SF
45208 XM
(on the least loaded)103 W
8280 28052 MT
(post office.  The group list will have)
242 W( the user as an owner, and a unique GID will be)243 W
8280 29289 MT
(assigned. The)
682 W( filesystem will)
188 W( be allocated on the least loaded fileserver which supports)187 W
/NewCenturySchlbk-Italic SF
8280 30526 MT
(fstype)SH
/NewCenturySchlbk-Roman SF
(, where)446 W
/NewCenturySchlbk-Italic SF
16119 XM
(fstype)SH
/NewCenturySchlbk-Roman SF
19784 XM
(is)SH
/NewCenturySchlbk-Bold SF
21394 XM
(MR_FS_STUDENT, MR_FS_FACULTY, MR_FS_STAFF)447 W
/NewCenturySchlbk-Roman SF
(, or)447 W
/NewCenturySchlbk-Bold SF
8280 31763 MT
(MR_FS_MISC)SH
/NewCenturySchlbk-Roman SF
16625 XM
(as defined in)278 W
/NewCenturySchlbk-Italic SF
24269 XM
(<moira.h>)SH
/NewCenturySchlbk-Roman SF
(. A)
862 W( quota will be assigned)
278 W( to the user on his)277 W
8280 33000 MT
(filesystem with the value taken from)654 W
/NewCenturySchlbk-Bold SF
31250 XM
(def_quota)SH
/NewCenturySchlbk-Roman SF
37840 XM
(in the)
654 W( values table.  Errors:)655 W
8280 34237 MT
(MR_NO_MATCH, MR_NOT_UNIQUE "Arguments not unique" if the uid does)
115 W( not specify)114 W
8280 35474 MT
(exactly one user; MR_IN_USE "Object is in use" if the login name is already taken.)SH
/NewCenturySchlbk-Bold SF
9091 37701 MT
(update_user)SH
/NewCenturySchlbk-Roman SF
8280 39928 MT
(Args: {login, newlogin, uid, shell, last, first, mi, state, mitid, class})SH
2382 50 8280 40128 UL
8280 42155 MT
(Returns: none)SH
4116 50 8280 42355 UL
8280 44382 MT
(Updates the info in a user entry.)159 W
/NewCenturySchlbk-Italic SF
26739 XM
(login)SH
/NewCenturySchlbk-Roman SF
29752 XM
(specifies the)
159 W( existing login name, the remaining)160 W
8280 45619 MT
(arguments will replace the current values of)
32 W( those fields.  This is not equivalent to deleting)31 W
8280 46856 MT
(the user and adding a new one, as all references to this user will still exist, even if the)
15 W( login)16 W
8280 48093 MT
(name is changed.  All fields must be specified, even if the value is to remain unchanged.)133 W
/NewCenturySchlbk-Italic SF
8280 49330 MT
(login)SH
/NewCenturySchlbk-Roman SF
11421 XM
(must match exactly one user)
287 W( in the database.)288 W
/NewCenturySchlbk-Italic SF
37680 XM
(newlogin)SH
/NewCenturySchlbk-Roman SF
42839 XM
(must either match the)288 W
8280 50567 MT
(existing login or be unique in the database.  The)78 W
/NewCenturySchlbk-Italic SF
33901 XM
(class)SH
/NewCenturySchlbk-Roman SF
36747 XM
(field must contain a value)
78 W( specified)77 W
8280 51804 MT
(as a)3 W
/NewCenturySchlbk-Bold SF
10632 XM
(TYPE)SH
/NewCenturySchlbk-Roman SF
14200 XM
(alias for)4 W
/NewCenturySchlbk-Bold SF
18654 XM
(class)SH
/NewCenturySchlbk-Roman SF
(.)SH
/NewCenturySchlbk-Italic SF
22353 XM
(uid)SH
/NewCenturySchlbk-Roman SF
24376 XM
(and)SH
/NewCenturySchlbk-Italic SF
26602 XM
(state)SH
/NewCenturySchlbk-Roman SF
29295 XM
(must be integers.  The modtime fields in the user's)4 W
8280 53041 MT
(record will be updated.)
24 W( Errors:)
353 W( MR_USER "No such user" if the login name does not match)23 W
8280 54278 MT
(exactly one user, MR_NOT_UNIQUE "Arguments not unique" if the new)
54 W( login name is not)55 W
8280 55515 MT
(unique, or MR_BAD_CLASS "Specified class is not known" if the class is not in the alias)131 W
8280 56752 MT
(database.)SH
/NewCenturySchlbk-Bold SF
9091 58979 MT
(update_user_shell)SH
/NewCenturySchlbk-Roman SF
8280 61206 MT
(Args: {login, shell})SH
2382 50 8280 61406 UL
8280 63433 MT
(Returns: none)SH
4116 50 8280 63633 UL
8280 65660 MT
(Updates a user's)
SH( shell.)1 W
/NewCenturySchlbk-Italic SF
20371 XM
(login)SH
/NewCenturySchlbk-Roman SF
23226 XM
(must match exactly one user.  The modtime fields in the user's)1 W
8280 66897 MT
(record will be updated.  This query may be executed by)
112 W( the target user or by someone on)111 W
8280 68134 MT
(the query ACL.  Errors: MR_USER "No such user" if the login name does not match)
18 W( exactly)19 W
8280 69371 MT
(one user.)SH
/NewCenturySchlbk-Bold SF
9091 71598 MT
(update_user_status)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 40 40
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 40, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(Args: {login, status})SH
2382 50 6120 8211 UL
6120 10238 MT
(Returns: none)SH
4116 50 6120 10438 UL
6120 12465 MT
(Updates a user's)166 W
/NewCenturySchlbk-Italic SF
15360 XM
(status)SH
/NewCenturySchlbk-Roman SF
(.)SH
/NewCenturySchlbk-Italic SF
19666 XM
(login)SH
/NewCenturySchlbk-Roman SF
22686 XM
(must match exactly one user.  The modtime fields in the)165 W
6120 13702 MT
(user's record will be updated.  Errors:  MR_USER "No such user" if the)
17 W( login name does not)18 W
6120 14939 MT
(match exactly one user.)SH
/NewCenturySchlbk-Bold SF
6931 17166 MT
(delete_user)SH
/NewCenturySchlbk-Roman SF
6120 19393 MT
(Args: login)SH
2382 50 6120 19593 UL
6120 21620 MT
(Returns: none)SH
4116 50 6120 21820 UL
6120 23847 MT
(Deletes a user record.)48 W
/NewCenturySchlbk-Italic SF
18014 XM
(login)SH
/NewCenturySchlbk-Roman SF
20915 XM
(must match exactly one user.)47 W
/NewCenturySchlbk-Bold SF
36710 XM
(The user must have a status)47 W
6120 25084 MT
(of zero, or MR_IN_USE will be returned.)62 W
/NewCenturySchlbk-Roman SF
30139 XM
(This will only be allowed if the user is not a)63 W
6120 26321 MT
(member of any lists, has any quotas assigned, or is the owner of an object.  It will also)177 W
6120 27558 MT
(delete associated finger information, post office box, and any quotas the user has.)
90 W( Errors:)487 W
6120 28795 MT
(MR_USER "No)
55 W( such user" if the login name does not match exactly one user, MR_IN_USE)54 W
6120 30032 MT
("Object is in use" if the user is a member of a list, has a quota or is an ACE.)SH
/NewCenturySchlbk-Bold SF
6931 32259 MT
(delete_user_by_uid)SH
/NewCenturySchlbk-Roman SF
6120 34486 MT
(Args: uid)SH
2382 50 6120 34686 UL
6120 36713 MT
(Returns: none)SH
4116 50 6120 36913 UL
6120 38940 MT
(Deletes a user record.)112 W
/NewCenturySchlbk-Italic SF
18335 XM
(uid)SH
/NewCenturySchlbk-Roman SF
20466 XM
(must match)
112 W( exactly one user.  This will only be allowed if the)113 W
6120 40177 MT
(user is not a member of any lists)
52 W( or is the owner of an object.  It will also delete associated)51 W
6120 41414 MT
(finger information and post office box.  Errors: MR_USER "No such user" if the uid)
9 W( does not)10 W
6120 42651 MT
(match exactly one user, MR_IN_USE "Object is in use" if the)
13 W( user is a member of a list or is)12 W
6120 43888 MT
(an ACE.)SH
/NewCenturySchlbk-Bold SF
6931 46115 MT
(get_finger_by_login)SH
/NewCenturySchlbk-Roman SF
6120 48342 MT
(Args: login)SH
2382 50 6120 48542 UL
6120 50569 MT
(Returns: {login, fullname, nickname, home_addr,)
253 W( home_phone, office_addr, office_phone,)254 W
4116 50 6120 50769 UL
6120 51806 MT
(department, affiliation, modtime, modby, modwith})SH
6120 54033 MT
(Gets all of the finger)
27 W( information for the specified user.)26 W
/NewCenturySchlbk-Italic SF
35035 XM
(login)SH
/NewCenturySchlbk-Roman SF
37915 XM
(must match exactly one user.)26 W
6120 55270 MT
(The target user)
8 W( may retrieve his information.  It is safe to point the query ACL at the list of)9 W
6120 56507 MT
(all users.  Errors: MR_USER "No such user")
86 W( if the login name does not match exactly one)85 W
6120 57744 MT
(user.)SH
/NewCenturySchlbk-Bold SF
6931 59971 MT
(update_finger_by_login)SH
/NewCenturySchlbk-Roman SF
6120 62198 MT
(Args: {login, fullname, nicname, home_addr, home_phone,)
594 W( office_addr, office_phone,)595 W
2382 50 6120 62398 UL
6120 63435 MT
(department, affiliation})SH
6120 65662 MT
(Returns: none)SH
4116 50 6120 65862 UL
6120 67889 MT
(Allows any part of)
45 W( the finger information to be changed for a specified account.)44 W
/NewCenturySchlbk-Italic SF
47433 XM
(login)SH
/NewCenturySchlbk-Roman SF
50331 XM
(must)SH
6120 69126 MT
(match exactly one user.)
179 W( The)
666 W( remaining fields are free-form, and may contain anything.)180 W
6120 70363 MT
(The modtime fields in the finger record)
250 W( will be updated.  A user may update his own)249 W
6120 71600 MT
(information. Errors:)
558 W( MR_USER "No such)
126 W( user" if the login name does not match exactly)127 W
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 41 41
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 41)SH
11 /NewCenturySchlbk-Roman AF
8280 8011 MT
(one user.)SH
/NewCenturySchlbk-Bold SF
9091 10238 MT
(get_pobox)SH
/NewCenturySchlbk-Roman SF
8280 12465 MT
(Args: login)SH
2382 50 8280 12665 UL
8280 14692 MT
(Returns: {login, type, box, modtime, modby, modwith})SH
4116 50 8280 14892 UL
8280 16919 MT
(Retrieves a)
9 W( user's post office box assignment.  The)8 W
/NewCenturySchlbk-Italic SF
34158 XM
(login)SH
/NewCenturySchlbk-Roman SF
37020 XM
(name must match exactly one user.)8 W
8280 18156 MT
(See)SH
/NewCenturySchlbk-Italic SF
10476 XM
(set_pobox)SH
/NewCenturySchlbk-Roman SF
15685 XM
(for a summary of the returned fields.  The owner of the pobox may)
96 W( perform)97 W
8280 19393 MT
(this query.  Errors:)
34 W( MR_USER "No such user" if the login name does not match exactly one)33 W
8280 20630 MT
(user.)SH
/NewCenturySchlbk-Bold SF
9091 22857 MT
(get_all_poboxes)SH
/NewCenturySchlbk-Roman SF
8280 25084 MT
(Args: none)SH
2382 50 8280 25284 UL
8280 27311 MT
(Returns: {login, type, box})SH
4116 50 8280 27511 UL
8280 29538 MT
(Retrieves all of the post)
22 W( office boxes from the database.  See)23 W
/NewCenturySchlbk-Italic SF
39213 XM
(set_pobox)SH
/NewCenturySchlbk-Roman SF
44349 XM
(for a summary of the)23 W
8280 30775 MT
(returned fields.)SH
/NewCenturySchlbk-Bold SF
9091 33002 MT
(get_poboxes_pop)SH
/NewCenturySchlbk-Roman SF
8280 35229 MT
(Args: none)SH
2382 50 8280 35429 UL
8280 37456 MT
(Returns: {login, type, machine})SH
4116 50 8280 37656 UL
8280 39683 MT
(Retrieves all of the post office boxes of)
123 W( type)122 W
/NewCenturySchlbk-Bold SF
31544 XM
(POP)SH
/NewCenturySchlbk-Roman SF
34558 XM
(from the database.  See)122 W
/NewCenturySchlbk-Italic SF
47400 XM
(set_pobox)SH
/NewCenturySchlbk-Roman SF
52635 XM
(for a)122 W
8280 40920 MT
(summary of the returned fields.)SH
/NewCenturySchlbk-Bold SF
9091 43147 MT
(get_poboxes_smtp)SH
/NewCenturySchlbk-Roman SF
8280 45374 MT
(Args: none)SH
2382 50 8280 45574 UL
8280 47601 MT
(Returns: {login, type, box})SH
4116 50 8280 47801 UL
8280 49828 MT
(Retrieves all of the post office boxes of type)72 W
/NewCenturySchlbk-Bold SF
31087 XM
(SMTP)SH
/NewCenturySchlbk-Roman SF
34907 XM
(from the database.  See)72 W
/NewCenturySchlbk-Italic SF
47499 XM
(set_pobox)SH
/NewCenturySchlbk-Roman SF
52684 XM
(for a)73 W
8280 51065 MT
(summary of the returned fields.)SH
/NewCenturySchlbk-Bold SF
9091 53292 MT
(set_pobox)SH
/NewCenturySchlbk-Roman SF
8280 55519 MT
(Args: {login, type, box})SH
2382 50 8280 55719 UL
8280 57746 MT
(Returns: none)SH
4116 50 8280 57946 UL
8280 59973 MT
(Establishes a user's post)
21 W( office box.  The given)20 W
/NewCenturySchlbk-Italic SF
32233 XM
(login)SH
/NewCenturySchlbk-Roman SF
35107 XM
(must match exactly one user.  The)20 W
/NewCenturySchlbk-Italic SF
53023 XM
(type)SH
/NewCenturySchlbk-Roman SF
8280 61210 MT
(will be checked against the alias database for valid)67 W
/NewCenturySchlbk-Bold SF
35088 XM
(pobox)SH
/NewCenturySchlbk-Roman SF
38929 XM
(types. Currently)
442 W( allowed types)68 W
8280 62447 MT
(are)SH
/NewCenturySchlbk-Bold SF
10311 XM
(POP)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
13584 XM
(SMTP)SH
/NewCenturySchlbk-Roman SF
(, and)75 W
/NewCenturySchlbk-Bold SF
20010 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(. If)
456 W( the type is)75 W
/NewCenturySchlbk-Bold SF
31710 XM
(POP)SH
/NewCenturySchlbk-Roman SF
(, then box must name a machine known)74 W
8280 63684 MT
(by Moira.  If the type is)341 W
/NewCenturySchlbk-Bold SF
22879 XM
(SMTP)SH
/NewCenturySchlbk-Roman SF
(, then box)
341 W( is the user's mail address with no other)342 W
8280 64921 MT
(interpretation by Moira.)
21 W( A)
346 W( type of)20 W
/NewCenturySchlbk-Bold SF
26219 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
30128 XM
(is the same as not having a pobox.  The modtime)20 W
8280 66158 MT
(fields on the pobox record will be set.  The owner of)
183 W( the target pobox may perform this)184 W
8280 67395 MT
(query. Errors:)
680 W( MR_USER "No such user")
187 W( if the login name does not match exactly one)186 W
8280 68632 MT
(user, or MR_TYPE "Invalid type" if the type is not)SH
/NewCenturySchlbk-Bold SF
34107 XM
(POP)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
37305 XM
(SMTP)SH
/NewCenturySchlbk-Roman SF
(, or)SH
/NewCenturySchlbk-Bold SF
42703 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(.)SH
/NewCenturySchlbk-Bold SF
9091 70859 MT
(set_pobox_pop)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 42 42
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 42, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(Args: login)SH
2382 50 6120 8211 UL
6120 10238 MT
(Returns: none)SH
4116 50 6120 10438 UL
6120 12465 MT
(Forces a user's pobox)
24 W( to be type)25 W
/NewCenturySchlbk-Bold SF
22594 XM
(POP)SH
/NewCenturySchlbk-Roman SF
(. The)356 W
/NewCenturySchlbk-Italic SF
28436 XM
(login)SH
/NewCenturySchlbk-Roman SF
31315 XM
(name must match exactly one user.  If the)25 W
6120 13702 MT
(user's pobox is already)
128 W( of type)127 W
/NewCenturySchlbk-Bold SF
22415 XM
(POP)SH
/NewCenturySchlbk-Roman SF
(, nothing will be changed.  If the user has previously)127 W
6120 14939 MT
(had a pobox of type)334 W
/NewCenturySchlbk-Bold SF
17900 XM
(POP)SH
/NewCenturySchlbk-Roman SF
(, then the previous)
334 W( post office machine assignment will be)335 W
6120 16176 MT
(restored. If)
1100 W( there was no previous post office assignment, the query will)
397 W( fail with)396 W
6120 17413 MT
(MR_MACHINE "Unknown machine" since it will be unable to choose a post office)
31 W( machine.)32 W
6120 18650 MT
(The modtime fields on the)
160 W( pobox record will be set.  The owner of the target pobox may)159 W
6120 19887 MT
(perform this query.  Errors: MR_USER "No such user" if login)
83 W( does not match exactly one)84 W
6120 21124 MT
(user, or MR_MACHINE.)SH
/NewCenturySchlbk-Bold SF
6931 23351 MT
(delete_pobox)SH
/NewCenturySchlbk-Roman SF
6120 25578 MT
(Args: login)SH
2382 50 6120 25778 UL
6120 27805 MT
(Returns: none)SH
4116 50 6120 28005 UL
6120 30032 MT
(Effectively deletes a user's pobox, by setting the type to)204 W
/NewCenturySchlbk-Bold SF
36579 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(. The)712 W
/NewCenturySchlbk-Italic SF
43952 XM
(login)SH
/NewCenturySchlbk-Roman SF
47009 XM
(name must)203 W
6120 31269 MT
(match exactly one user.  The modtime fields on the)
65 W( pobox record will be set.  The owner of)66 W
6120 32506 MT
(the target pobox may perform this query.  Errors:)
107 W( MR_USER "No such user" if login does)106 W
6120 33743 MT
(not match exactly one user.)SH
10 /Helvetica-BoldOblique AF
6120 36570 MT
(7.0.2. Machines and Clusters)SH
11 /NewCenturySchlbk-Bold AF
6931 38530 MT
(get_machine)SH
/NewCenturySchlbk-Roman SF
6120 40757 MT
(Args: name)SH
2382 50 6120 40957 UL
6120 42984 MT
(Returns: {name, type, modtime, modby, modwith})SH
4116 50 6120 43184 UL
6120 45211 MT
(Get all the information on the specified machine\050s\051.  Wildcarding may be)
280 W( used in the)281 W
6120 46448 MT
(machine)SH
/NewCenturySchlbk-Italic SF
10792 XM
(name)SH
/NewCenturySchlbk-Roman SF
(. All)
394 W( machine names are)
44 W( case insensitive, and are returned in uppercase.  It)43 W
6120 47685 MT
(is safe for the query ACL to be the list containing everybody.)SH
/NewCenturySchlbk-Bold SF
6931 49912 MT
(add_machine)SH
/NewCenturySchlbk-Roman SF
6120 52139 MT
(Args: {name, type})SH
2382 50 6120 52339 UL
6120 54366 MT
(Returns: none)SH
4116 50 6120 54566 UL
6120 56593 MT
(Enters a new machine into the database.  The given)88 W
/NewCenturySchlbk-Italic SF
33751 XM
(name)SH
/NewCenturySchlbk-Roman SF
36915 XM
(will be converted to uppercase.)88 W
6120 57830 MT
(Then it will)
209 W( be checked for uniqueness in the database.  The)208 W
/NewCenturySchlbk-Italic SF
39469 XM
(type)SH
/NewCenturySchlbk-Roman SF
42040 XM
(field will be checked)208 W
6120 59067 MT
(against the aliases)
172 W( database for valid)173 W
/NewCenturySchlbk-Bold SF
26408 XM
(mach_type)SH
/NewCenturySchlbk-Roman SF
(s. Currently)
652 W( defined)173 W
/NewCenturySchlbk-Bold SF
44082 XM
(mach_types)SH
/NewCenturySchlbk-Roman SF
51270 XM
(are)SH
/NewCenturySchlbk-Bold SF
6120 60304 MT
(RT)SH
/NewCenturySchlbk-Roman SF
8131 XM
(and)SH
/NewCenturySchlbk-Bold SF
10367 XM
(VAX)SH
/NewCenturySchlbk-Roman SF
(. The)
334 W( modtime fields will be set.  Errors:)
14 W( MR_NOT_UNIQUE)
333 W( "Arguments not)13 W
6120 61541 MT
(unique" if a machine with the given)34 W
/NewCenturySchlbk-Italic SF
24817 XM
(name)SH
/NewCenturySchlbk-Roman SF
27928 XM
(already exists, or MR_TYPE "Invalid type" if the)35 W
6120 62778 MT
(given)SH
/NewCenturySchlbk-Italic SF
9179 XM
(type)SH
/NewCenturySchlbk-Roman SF
11542 XM
(is not in the alias database.)SH
/NewCenturySchlbk-Bold SF
6931 65005 MT
(update_machine)SH
/NewCenturySchlbk-Roman SF
6120 67232 MT
(Args: {name, newname, type})SH
2382 50 6120 67432 UL
6120 69459 MT
(Returns: none)SH
4116 50 6120 69659 UL
6120 71686 MT
(Update the information on a machine.)
125 W( The)555 W
/NewCenturySchlbk-Italic SF
29404 XM
(name)SH
/NewCenturySchlbk-Roman SF
32604 XM
(must match exactly one machine.  The)124 W
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 43 43
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 43)SH
11 /NewCenturySchlbk-Italic AF
8280 8011 MT
(newname)SH
/NewCenturySchlbk-Roman SF
13564 XM
(must either be the same as the old name, or must be)
191 W( unique among machine)192 W
8280 9248 MT
(names in the database after being)
105 W( converted to uppercase.  The type field will be checked)104 W
8280 10485 MT
(against the aliases database for valid)11 W
/NewCenturySchlbk-Bold SF
27598 XM
(mach_type)SH
/NewCenturySchlbk-Roman SF
(s. The)
328 W( modtime fields will be set.)
11 W( Errors:)330 W
8280 11722 MT
(MR_MACHINE "No such)
158 W( machine" if the old)157 W
/NewCenturySchlbk-Italic SF
32450 XM
(name)SH
/NewCenturySchlbk-Roman SF
35683 XM
(does not match exactly one machine,)157 W
8280 12959 MT
(MR_NOT_UNIQUE "Arguments not unique")
62 W( if the)63 W
/NewCenturySchlbk-Italic SF
34788 XM
(newname)SH
/NewCenturySchlbk-Roman SF
39944 XM
(does not either match the old)63 W
8280 14196 MT
(name or is unique, or MR_TYPE "Invalid type" if the given)SH
/NewCenturySchlbk-Italic SF
38473 XM
(type)SH
/NewCenturySchlbk-Roman SF
40836 XM
(is not in the alias database.)SH
/NewCenturySchlbk-Bold SF
9091 16423 MT
(delete_machine)SH
/NewCenturySchlbk-Roman SF
8280 18650 MT
(Args: name)SH
2382 50 8280 18850 UL
8280 20877 MT
(Returns: none)SH
4116 50 8280 21077 UL
8280 23104 MT
(Delete a machine from the database.)
46 W( The)
397 W( given)45 W
/NewCenturySchlbk-Italic SF
33280 XM
(name)SH
/NewCenturySchlbk-Roman SF
36401 XM
(must match exactly one machine.  A)45 W
8280 24341 MT
(machine that is in use \050post office, file system,)
45 W( printer spooling host, server_host_access, or)46 W
8280 25578 MT
(DCM service update\051 cannot be deleted.  Errors: MR_MACHINE "No such)
86 W( machine" if the)85 W
/NewCenturySchlbk-Italic SF
8280 26815 MT
(name)SH
/NewCenturySchlbk-Roman SF
11372 XM
(does not match exactly one machine, or MR_IN_USE "Object is in use" if the)
16 W( machine)17 W
8280 28052 MT
(is being referenced as a post office, filesystem, spooling host, or server updated by the DCM.)SH
/NewCenturySchlbk-Bold SF
9091 30279 MT
(get_cluster)SH
/NewCenturySchlbk-Roman SF
8280 32506 MT
(Args: name)SH
2382 50 8280 32706 UL
8280 34733 MT
(Returns: {name, description, location, modtime, modby, modwith})SH
4116 50 8280 34933 UL
8280 36960 MT
(Returns all the information)
75 W( in the database about one or more clusters.  The cluster)74 W
/NewCenturySchlbk-Italic SF
52310 XM
(name)SH
/NewCenturySchlbk-Roman SF
8280 38197 MT
(may contain wildcards.  It is safe for the query ACL to be the list containing everybody.)SH
/NewCenturySchlbk-Bold SF
9091 40424 MT
(add_cluster)SH
/NewCenturySchlbk-Roman SF
8280 42651 MT
(Args: {name, description, location})SH
2382 50 8280 42851 UL
8280 44878 MT
(Returns: none)SH
4116 50 8280 45078 UL
8280 47105 MT
(Adds a new cluster to the database.  The)67 W
/NewCenturySchlbk-Italic SF
29839 XM
(name)SH
/NewCenturySchlbk-Roman SF
32982 XM
(must be unique among the existing cluster)67 W
8280 48342 MT
(names. The)
624 W( names are case sensitive.  There are)
159 W( no constraints on the remaining data.)158 W
8280 49579 MT
(The modtime fields will be set.  Errors: MR_NOT_UNIQUE "Arguments not unique" if)
67 W( the)68 W
8280 50816 MT
(cluster)SH
/NewCenturySchlbk-Italic SF
12071 XM
(name)SH
/NewCenturySchlbk-Roman SF
15147 XM
(is not unique.)SH
/NewCenturySchlbk-Bold SF
9091 53043 MT
(update_cluster)SH
/NewCenturySchlbk-Roman SF
8280 55270 MT
(Args: {name, newname, description, location})SH
2382 50 8280 55470 UL
8280 57497 MT
(Returns: none)SH
4116 50 8280 57697 UL
8280 59724 MT
(Changes the information about a cluster.  The old)141 W
/NewCenturySchlbk-Italic SF
35138 XM
(name)SH
/NewCenturySchlbk-Roman SF
38354 XM
(must match exactly one cluster.)140 W
8280 60961 MT
(The)SH
/NewCenturySchlbk-Italic SF
10733 XM
(newname)SH
/NewCenturySchlbk-Roman SF
16016 XM
(must either match the old name or be unique among the)
190 W( existing cluster)191 W
8280 62198 MT
(names. The)
624 W( names are case sensitive.  There are)
159 W( no constraints on the remaining data.)158 W
8280 63435 MT
(The modtime fields will be set.)
24 W( Errors:)
355 W( MR_CLUSTER "Unknown cluster" if the old cluster)25 W
8280 64672 MT
(name does not match)
33 W( exactly one cluster, or MR_NOT_UNIQUE "Arguments not unique" if)32 W
8280 65909 MT
(the new name does not either match the old name or is unique.)SH
/NewCenturySchlbk-Bold SF
9091 68136 MT
(delete_cluster)SH
/NewCenturySchlbk-Roman SF
8280 70363 MT
(Args: name)SH
2382 50 8280 70563 UL
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 44 44
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 44, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(Returns: none)SH
4116 50 6120 8211 UL
6120 10238 MT
(Removes a cluster from)
203 W( the database.  The)204 W
/NewCenturySchlbk-Italic SF
29681 XM
(name)SH
/NewCenturySchlbk-Roman SF
32961 XM
(must match exactly one cluster.  The)204 W
6120 11475 MT
(cluster must)
339 W( not have any machines assigned to it.  Any service cluster information)338 W
6120 12712 MT
(assigned to the cluster)
18 W( will be deleted.  Errors: MR_CLUSTER "Unknown cluster" if the old)19 W
6120 13949 MT
(cluster name does not match exactly one cluster, or MR_IN_USE "Object in)
217 W( use" if the)216 W
6120 15186 MT
(cluster has machines assigned to it.)SH
/NewCenturySchlbk-Bold SF
6931 17413 MT
(get_machine_to_cluster_map)SH
/NewCenturySchlbk-Roman SF
6120 19640 MT
(Args: {machine, cluster})SH
2382 50 6120 19840 UL
6120 21867 MT
(Returns: {machine, cluster})SH
4116 50 6120 22067 UL
6120 24094 MT
(Retrieves machine to cluster mappings for the specified)18 W
/NewCenturySchlbk-Italic SF
34759 XM
(machine\050s\051)SH
/NewCenturySchlbk-Roman SF
40601 XM
(and)SH
/NewCenturySchlbk-Italic SF
42841 XM
(cluster\050s\051)SH
/NewCenturySchlbk-Roman SF
(. Either)
343 W( of)19 W
6120 25331 MT
(the fields may contain wildcards.  It is safe for the query ACL to be the list containing)185 W
6120 26568 MT
(everybody.)SH
/NewCenturySchlbk-Bold SF
6931 28795 MT
(add_machine_to_cluster)SH
/NewCenturySchlbk-Roman SF
6120 31022 MT
(Args: {machine, cluster})SH
2382 50 6120 31222 UL
6120 33249 MT
(Returns: none)SH
4116 50 6120 33449 UL
6120 35476 MT
(Add a machine to a cluster.  The)170 W
/NewCenturySchlbk-Italic SF
24257 XM
(machine)SH
/NewCenturySchlbk-Roman SF
29032 XM
(name must match exactly one machine.  The)171 W
/NewCenturySchlbk-Italic SF
6120 36713 MT
(cluster)SH
/NewCenturySchlbk-Roman SF
10145 XM
(name must)
339 W( match exactly one cluster.  The machine's modtime fields will be)338 W
6120 37950 MT
(updated. Errors:)
356 W( MR_MACHINE "No such machine" or MR_CLUSTER)
25 W( "No such cluster" if)26 W
6120 39187 MT
(one of them does not match exactly one object in the database.)SH
/NewCenturySchlbk-Bold SF
6931 41414 MT
(delete_machine_from_cluster)SH
/NewCenturySchlbk-Roman SF
6120 43641 MT
(Args: {machine, cluster})SH
2382 50 6120 43841 UL
6120 45868 MT
(Returns: none)SH
4116 50 6120 46068 UL
6120 48095 MT
(Delete a)
7 W( machine from a cluster.  The)6 W
/NewCenturySchlbk-Italic SF
25577 XM
(machine)SH
/NewCenturySchlbk-Roman SF
30187 XM
(name must match exactly one machine.  The)6 W
/NewCenturySchlbk-Italic SF
6120 49332 MT
(cluster)SH
/NewCenturySchlbk-Roman SF
10028 XM
(name must match exactly one cluster.  The)
222 W( named machine must belong to the)223 W
6120 50569 MT
(named cluster.  The machine's modtime fields will be updated.  Errors: MR_MACHINE)
21 W( "No)20 W
6120 51806 MT
(such machine" or MR_CLUSTER "No such cluster" if)
122 W( one of them does not match exactly)123 W
6120 53043 MT
(one object in the database.)SH
/NewCenturySchlbk-Bold SF
6931 55270 MT
(get_cluster_data)SH
/NewCenturySchlbk-Roman SF
6120 57497 MT
(Args: {cluster, label})SH
2382 50 6120 57697 UL
6120 59724 MT
(Returns: {cluster, label, data})SH
4116 50 6120 59924 UL
6120 61951 MT
(Retrieve all cluster data matching the named)159 W
/NewCenturySchlbk-Italic SF
30640 XM
(cluster)SH
/NewCenturySchlbk-Roman SF
34485 XM
(and)SH
/NewCenturySchlbk-Italic SF
36866 XM
(label)SH
/NewCenturySchlbk-Roman SF
(. Either)
624 W( or both may use)158 W
6120 63188 MT
(wildcards. Thus)
372 W( all data for a cluster may be retrieved with gcld\050cluster, *\051, and all data)
33 W( of)34 W
6120 64425 MT
(a particular type may be retrieved with gcld\050*, label\051.)
27 W( It)
358 W( is safe for the query ACL to be the)26 W
6120 65662 MT
(list containing everybody.)SH
/NewCenturySchlbk-Bold SF
6931 67889 MT
(add_cluster_data)SH
/NewCenturySchlbk-Roman SF
6120 70116 MT
(Args: {cluster, label, data})SH
2382 50 6120 70316 UL
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 45 45
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 45)SH
11 /NewCenturySchlbk-Roman AF
8280 8011 MT
(Returns: none)SH
4116 50 8280 8211 UL
8280 10238 MT
(Add new data to a cluster.  The)72 W
/NewCenturySchlbk-Italic SF
25062 XM
(cluster)SH
/NewCenturySchlbk-Roman SF
28820 XM
(name must match exactly one cluster.  The service)72 W
/NewCenturySchlbk-Italic SF
8280 11475 MT
(label)SH
/NewCenturySchlbk-Roman SF
11188 XM
(must be a registered)137 W
/NewCenturySchlbk-Bold SF
22457 XM
(slabel)SH
/NewCenturySchlbk-Roman SF
26244 XM
(in the alias database.  The)137 W
/NewCenturySchlbk-Italic SF
40834 XM
(data)SH
/NewCenturySchlbk-Roman SF
43600 XM
(is an arbitrary string.)136 W
8280 12712 MT
(The cluster's modtime fields will be updated.  Errors: MR_CLUSTER "No such cluster")
124 W( if)125 W
8280 13949 MT
(the)SH
/NewCenturySchlbk-Italic SF
10247 XM
(cluster)SH
/NewCenturySchlbk-Roman SF
13942 XM
(name does not)
9 W( match exactly one cluster, or MR_TYPE "Invalid type" if the)8 W
/NewCenturySchlbk-Italic SF
52615 XM
(label)SH
/NewCenturySchlbk-Roman SF
8280 15186 MT
(is not in the alias database.)SH
/NewCenturySchlbk-Bold SF
9091 17413 MT
(delete_cluster_data)SH
/NewCenturySchlbk-Roman SF
8280 19640 MT
(Args: {cluster, label, data})SH
2382 50 8280 19840 UL
8280 21867 MT
(Returns: none)SH
4116 50 8280 22067 UL
8280 24094 MT
(Delete the specified)
7 W( cluster data.  The)8 W
/NewCenturySchlbk-Italic SF
27865 XM
(cluster)SH
/NewCenturySchlbk-Roman SF
31559 XM
(name must match exactly one cluster, and the)8 W
8280 25331 MT
(remaining two arguments must exactly match an existing service cluster.)
195 W( The)
694 W( cluster's)194 W
8280 26568 MT
(modtime fields will be updated.  Errors: MR_CLUSTER "No such cluster" if the)212 W
/NewCenturySchlbk-Italic SF
51700 XM
(cluster)SH
/NewCenturySchlbk-Roman SF
8280 27805 MT
(name does not match)
33 W( exactly one cluster, or MR_NOT_UNIQUE "Arguments not unique" if)32 W
8280 29042 MT
(the)SH
/NewCenturySchlbk-Italic SF
10238 XM
(label)SH
/NewCenturySchlbk-Roman SF
13009 XM
(and)SH
/NewCenturySchlbk-Italic SF
15231 XM
(data)SH
/NewCenturySchlbk-Roman SF
17860 XM
(do not match exactly one existing piece of data for the cluster.)SH
10 /Helvetica-BoldOblique AF
8280 31869 MT
(7.0.3. Lists)SH
11 /NewCenturySchlbk-Bold AF
9091 33829 MT
(get_list_info)SH
/NewCenturySchlbk-Roman SF
8280 36056 MT
(Args: list)SH
2382 50 8280 36256 UL
8280 38283 MT
(Returns: {list, active, public, hidden, maillist, group, gid, ace_type, ace_name,)
115 W( description,)116 W
4116 50 8280 38483 UL
8280 39520 MT
(modtime, modby, modwith})SH
8280 41747 MT
(Returns information about)
121 W( the named list.  The)120 W
/NewCenturySchlbk-Italic SF
33691 XM
(list)SH
/NewCenturySchlbk-Roman SF
35727 XM
(name may contain wildcards.)120 W
/NewCenturySchlbk-Italic SF
51841 XM
(active,)SH
8280 42984 MT
(public, hidden, maillist)39 W
/NewCenturySchlbk-Roman SF
(, and)39 W
/NewCenturySchlbk-Italic SF
23132 XM
(group)SH
/NewCenturySchlbk-Roman SF
26410 XM
(are booleans returned)
39 W( as integers \0500 is false, non-zero is)40 W
8280 44221 MT
(true\051. The)590 W
/NewCenturySchlbk-Italic SF
14393 XM
(ace-type)SH
/NewCenturySchlbk-Roman SF
18871 XM
(is either)142 W
/NewCenturySchlbk-Bold SF
23662 XM
(USER)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
27798 XM
(LIST)SH
/NewCenturySchlbk-Roman SF
(, or)142 W
/NewCenturySchlbk-Bold SF
32848 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, and the)142 W
/NewCenturySchlbk-Italic SF
41649 XM
(ace_name)SH
/NewCenturySchlbk-Roman SF
47024 XM
(will be either a)142 W
8280 45458 MT
(login name, a list name, or)168 W
/NewCenturySchlbk-Bold SF
23156 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, respectively.  This query is allowed if the list)
168 W( is not)169 W
8280 46695 MT
(hidden or the user executing)
279 W( the query is on the ACE of the target list.  If the user)278 W
8280 47932 MT
(executing this query)
28 W( is on the query ACL, he may use wildcards in the)29 W
/NewCenturySchlbk-Italic SF
44728 XM
(list)SH
/NewCenturySchlbk-Roman SF
46673 XM
(name, otherwise)29 W
8280 49169 MT
(wildcards are not allowed.)SH
/NewCenturySchlbk-Bold SF
9091 51396 MT
(expand_list_names)SH
/NewCenturySchlbk-Roman SF
8280 53623 MT
(Args: list)SH
2382 50 8280 53823 UL
8280 55850 MT
(Returns: {list})SH
4116 50 8280 56050 UL
8280 58077 MT
(Expands wildcards in a)97 W
/NewCenturySchlbk-Italic SF
20877 XM
(list)SH
/NewCenturySchlbk-Roman SF
22890 XM
(name. A)
500 W( name is passed which)
97 W( may contain wildcards, and a)96 W
8280 59314 MT
(set of matching names are returned.)SH
/NewCenturySchlbk-Bold SF
9091 61541 MT
(add_list)SH
/NewCenturySchlbk-Roman SF
8280 63768 MT
(Args: {list, active, public, hidden, maillist, group, gid, ace_type, ace_name, description})SH
2382 50 8280 63968 UL
8280 65995 MT
(Returns: none)SH
4116 50 8280 66195 UL
8280 68222 MT
(Creates a new list and adds it to the database.)
217 W( The)742 W
/NewCenturySchlbk-Italic SF
37353 XM
(list)SH
/NewCenturySchlbk-Roman SF
39487 XM
(name must be unique among)218 W
8280 69459 MT
(existing list names.)251 W
/NewCenturySchlbk-Italic SF
19809 XM
(active, public, hidden, maillist,)251 W
/NewCenturySchlbk-Roman SF
36832 XM
(and)SH
/NewCenturySchlbk-Italic SF
39305 XM
(group)SH
/NewCenturySchlbk-Roman SF
42795 XM
(are booleans passed as)250 W
8280 70696 MT
(integers \0500 is false, non-zero is true\051.  If)59 W
/NewCenturySchlbk-Italic SF
29093 XM
(group)SH
/NewCenturySchlbk-Roman SF
32391 XM
(is true and)59 W
/NewCenturySchlbk-Italic SF
38400 XM
(gid)SH
/NewCenturySchlbk-Roman SF
40397 XM
(is)SH
/NewCenturySchlbk-Bold SF
41620 XM
(UNIQUE_GID)SH
/NewCenturySchlbk-Roman SF
49843 XM
(as defined)60 W
8280 71933 MT
(in)SH
/NewCenturySchlbk-Italic SF
9720 XM
(<mr.h>)SH
/NewCenturySchlbk-Roman SF
(, a new unique group ID will be assigned, otherwise)
113 W( the integer value given for)112 W
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 46 46
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 46, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Italic AF
6120 8011 MT
(gid)SH
/NewCenturySchlbk-Roman SF
8186 XM
(will be assigned to the GID.)
129 W( The)566 W
/NewCenturySchlbk-Italic SF
26208 XM
(ace-type)SH
/NewCenturySchlbk-Roman SF
30674 XM
(is either)130 W
/NewCenturySchlbk-Bold SF
35441 XM
(USER)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
39565 XM
(LIST)SH
/NewCenturySchlbk-Roman SF
(, or)130 W
/NewCenturySchlbk-Bold SF
44591 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, and the)130 W
/NewCenturySchlbk-Italic SF
6120 9248 MT
(ace_name)SH
/NewCenturySchlbk-Roman SF
11430 XM
(will be)
77 W( either a login name, a list name, or)76 W
/NewCenturySchlbk-Bold SF
33995 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, respectively.  The access list)76 W
6120 10485 MT
(may be the list that is being created \050self-referential\051.)
19 W( The)
346 W( list modtime will be set.  Errors:)20 W
6120 11722 MT
(MR_EXISTS "Record already exists" if)
181 W( a list already exists by that name, MR_ACE "No)180 W
6120 12959 MT
(such access control entity" if the)17 W
/NewCenturySchlbk-Italic SF
22898 XM
(ace_type)SH
/NewCenturySchlbk-Roman SF
27435 XM
(is not)17 W
/NewCenturySchlbk-Bold SF
30590 XM
(USER)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
34601 XM
(LIST)SH
/NewCenturySchlbk-Roman SF
(, or)18 W
/NewCenturySchlbk-Bold SF
39403 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, or if the)18 W
/NewCenturySchlbk-Italic SF
47993 XM
(ace_name)SH
/NewCenturySchlbk-Roman SF
6120 14196 MT
(cannot be resolved relative to the)SH
/NewCenturySchlbk-Italic SF
23307 XM
(ace_type)SH
/NewCenturySchlbk-Roman SF
(.)SH
/NewCenturySchlbk-Bold SF
6931 16423 MT
(update_list)SH
/NewCenturySchlbk-Roman SF
6120 18650 MT
(Args: {list, newname, active, public, hidden, maillist, group, gid,)
364 W( ace_type, ace_name,)363 W
2382 50 6120 18850 UL
6120 19887 MT
(description})SH
6120 22114 MT
(Returns: none)SH
4116 50 6120 22314 UL
6120 24341 MT
(Allows the list information and attributes to be changed.  This is not equivalent to deleting)39 W
6120 25578 MT
(the list and creating a new one, since references to the)
55 W( old name will still apply to the new)54 W
6120 26815 MT
(name if it is renamed.  The)141 W
/NewCenturySchlbk-Italic SF
21156 XM
(list)SH
/NewCenturySchlbk-Roman SF
23213 XM
(name must match exactly one list.  The)141 W
/NewCenturySchlbk-Italic SF
44650 XM
(new name)141 W
/NewCenturySchlbk-Roman SF
50331 XM
(must)SH
6120 28052 MT
(either match the old name or be unique among list names in the database.)
179 W( The)662 W
/NewCenturySchlbk-Italic SF
49681 XM
(active,)SH
6120 29289 MT
(public, hidden, maillist)94 W
/NewCenturySchlbk-Roman SF
(, and)94 W
/NewCenturySchlbk-Italic SF
21192 XM
(group)SH
/NewCenturySchlbk-Roman SF
24525 XM
(flags should be 0)
94 W( if the flag is false, or non-zero if it is)95 W
6120 30526 MT
(true. The)588 W
/NewCenturySchlbk-Italic SF
11864 XM
(gid)SH
/NewCenturySchlbk-Roman SF
13942 XM
(may be)141 W
/NewCenturySchlbk-Bold SF
18179 XM
(UNIQUE_GID)SH
/NewCenturySchlbk-Roman SF
26483 XM
(as defined in)141 W
/NewCenturySchlbk-Italic SF
33716 XM
(<mr.h>)SH
/NewCenturySchlbk-Roman SF
(, in which case a new)
141 W( unique)140 W
6120 31763 MT
(GID will be assigned.  The)143 W
/NewCenturySchlbk-Italic SF
20722 XM
(ace-type)SH
/NewCenturySchlbk-Roman SF
25201 XM
(is either)143 W
/NewCenturySchlbk-Bold SF
29994 XM
(USER)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
34132 XM
(LIST)SH
/NewCenturySchlbk-Roman SF
(, or)144 W
/NewCenturySchlbk-Bold SF
39186 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, and the)144 W
/NewCenturySchlbk-Italic SF
47993 XM
(ace_name)SH
/NewCenturySchlbk-Roman SF
6120 33000 MT
(will be either a login name, a list)
87 W( name, or)86 W
/NewCenturySchlbk-Bold SF
28791 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, respectively.  The list modtime will be)86 W
6120 34237 MT
(set. This)
326 W( query may be executed by anyone on the ACE of the target list.)
10 W( Errors:)
328 W( MR_LIST)11 W
6120 35474 MT
("No such list" if the named list does not match exactly)
346 W( one list, MR_NOT_UNIQUE)345 W
6120 36711 MT
("Arguments not unique" if the new list name doesn't either match the)
51 W( old one or is unique,)52 W
6120 37948 MT
(MR_ACE "No such access control entity" if the)14 W
/NewCenturySchlbk-Italic SF
30159 XM
(ace_type)SH
/NewCenturySchlbk-Roman SF
34693 XM
(is not)14 W
/NewCenturySchlbk-Bold SF
37841 XM
(USER)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
41848 XM
(LIST)SH
/NewCenturySchlbk-Roman SF
(, or)13 W
/NewCenturySchlbk-Bold SF
46640 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, or if)13 W
6120 39185 MT
(the)SH
/NewCenturySchlbk-Italic SF
8078 XM
(ace_name)SH
/NewCenturySchlbk-Roman SF
13311 XM
(cannot be resolved relative to the)SH
/NewCenturySchlbk-Italic SF
30498 XM
(ace_type)SH
/NewCenturySchlbk-Roman SF
(.)SH
/NewCenturySchlbk-Bold SF
6931 41412 MT
(delete_list)SH
/NewCenturySchlbk-Roman SF
6120 43639 MT
(Args: list)SH
2382 50 6120 43839 UL
6120 45866 MT
(Returns: none)SH
4116 50 6120 46066 UL
6120 48093 MT
(Deletes a list from the database.  A list may only be deleted if)
55 W( it is not in use as a member)56 W
6120 49330 MT
(of any other list or as an ACL for an object, and the list itself must be empty.)
84 W( This)
473 W( query)83 W
6120 50567 MT
(may be executed by someone who is on the current ace of the target list.  Errors:)
25 W( MR_LIST)357 W
6120 51804 MT
("No such list" if the named list does not)
19 W( exist, or MR_IN_USE "Object is in use" if the list is)18 W
6120 53041 MT
(still being referenced.)SH
/NewCenturySchlbk-Bold SF
6931 55268 MT
(add_member_to_list)SH
/NewCenturySchlbk-Roman SF
6120 57495 MT
(Args: {list, type, member})SH
2382 50 6120 57695 UL
6120 59722 MT
(Returns: none)SH
4116 50 6120 59922 UL
6120 61949 MT
(Adds a member to a list.)
171 W( The)
650 W( specified)172 W
/NewCenturySchlbk-Italic SF
27660 XM
(list)SH
/NewCenturySchlbk-Roman SF
29748 XM
(must match exactly one list.  Type must be)172 W
6120 63186 MT
(either)SH
/NewCenturySchlbk-Bold SF
9611 XM
(USER)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
13752 XM
(LIST)SH
/NewCenturySchlbk-Roman SF
(, or)147 W
/NewCenturySchlbk-Bold SF
18811 XM
(STRING)SH
/NewCenturySchlbk-Roman SF
(.)SH
/NewCenturySchlbk-Italic SF
24766 XM
(member)SH
/NewCenturySchlbk-Roman SF
29250 XM
(is either a login name, a list name, or a text)146 W
6120 64423 MT
(string, respectively.)
89 W( The)
486 W( modtime on the list is updated.  This query may be executed by:)90 W
6120 65660 MT
(anyone adding themselves as a)20 W
/NewCenturySchlbk-Italic SF
22305 XM
(USER)SH
/NewCenturySchlbk-Roman SF
25871 XM
(to a list with the)20 W
/NewCenturySchlbk-Italic SF
34684 XM
(public)SH
/NewCenturySchlbk-Roman SF
38148 XM
(bit set)
20 W( or anyone on the ACE)19 W
6120 66897 MT
(of the list being modified.)
55 W( Errors:)
417 W( MR_LIST "No such list" if the named list does not exist,)56 W
6120 68134 MT
(MR_TYPE "Invalid type" if the member)437 W
/NewCenturySchlbk-Italic SF
29227 XM
(type)SH
/NewCenturySchlbk-Roman SF
32027 XM
(is not)437 W
/NewCenturySchlbk-Bold SF
36021 XM
(USER)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
40451 XM
(LIST)SH
/NewCenturySchlbk-Roman SF
(, or)436 W
/NewCenturySchlbk-Bold SF
46089 XM
(STRING)SH
/NewCenturySchlbk-Roman SF
(, or)436 W
6120 69371 MT
(MR_NO_MATCH "No records in database match query" if the)223 W
/NewCenturySchlbk-Italic SF
39898 XM
(member)SH
/NewCenturySchlbk-Roman SF
44460 XM
(name cannot be)224 W
6120 70608 MT
(resolved with the member)SH
/NewCenturySchlbk-Italic SF
19675 XM
(type)SH
/NewCenturySchlbk-Roman SF
(.)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 47 47
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 47)SH
11 /NewCenturySchlbk-Bold AF
9091 8011 MT
(delete_member_from_list)SH
/NewCenturySchlbk-Roman SF
8280 10238 MT
(Args: {list, type, member})SH
2382 50 8280 10438 UL
8280 12465 MT
(Returns: none)SH
4116 50 8280 12665 UL
8280 14692 MT
(Deletes a member from a list.  The specified)38 W
/NewCenturySchlbk-Italic SF
31250 XM
(list)SH
/NewCenturySchlbk-Roman SF
33204 XM
(must match exactly one list.)
38 W( The)
381 W( specified)37 W
/NewCenturySchlbk-Italic SF
8280 15929 MT
(type)SH
/NewCenturySchlbk-Roman SF
10689 XM
(and)SH
/NewCenturySchlbk-Italic SF
12957 XM
(member)SH
/NewCenturySchlbk-Roman SF
17341 XM
(must exactly match an existing)
46 W( member of that list.  The modtime on the)47 W
8280 17166 MT
(list is updated.  This query may be executed by)
167 W( anyone deleting themselves as a)166 W
/NewCenturySchlbk-Bold SF
51698 XM
(USER)SH
/NewCenturySchlbk-Roman SF
8280 18403 MT
(from a list with the)59 W
/NewCenturySchlbk-Italic SF
18692 XM
(public)SH
/NewCenturySchlbk-Roman SF
22195 XM
(bit set or anyone)
59 W( on the ACE of the list being modified.  Errors:)60 W
8280 19640 MT
(MR_LIST "No such list" if the)
159 W( named list does not exist, MR_TYPE "Invalid type" if the)158 W
8280 20877 MT
(member type is not)397 W
/NewCenturySchlbk-Bold SF
19958 XM
(USER)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
24349 XM
(LIST)SH
/NewCenturySchlbk-Roman SF
(, or)397 W
/NewCenturySchlbk-Bold SF
29910 XM
(STRING)SH
/NewCenturySchlbk-Roman SF
(, or MR_NO_MATCH "No records in)398 W
8280 22114 MT
(database match query" if the)79 W
/NewCenturySchlbk-Italic SF
23661 XM
(member)SH
/NewCenturySchlbk-Roman SF
28078 XM
(name cannot be resolved with the)
79 W( member)78 W
/NewCenturySchlbk-Italic SF
50502 XM
(type)SH
/NewCenturySchlbk-Roman SF
52943 XM
(or if)78 W
8280 23351 MT
(there is no such member in the list.)SH
/NewCenturySchlbk-Bold SF
9091 25578 MT
(get_ace_use)SH
/NewCenturySchlbk-Roman SF
8280 27805 MT
(Args: {ace_type, ace_name})SH
2382 50 8280 28005 UL
8280 30032 MT
(Returns: {object_type, object_name})SH
4116 50 8280 30232 UL
8280 32259 MT
(Finds references to an object as an ACE.  Valid)93 W
/NewCenturySchlbk-Italic SF
33425 XM
(ace_types)SH
/NewCenturySchlbk-Roman SF
38526 XM
(are)SH
/NewCenturySchlbk-Bold SF
40575 XM
(USER)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
44663 XM
(LIST)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
48179 XM
(RUSER)SH
/NewCenturySchlbk-Roman SF
(, and)94 W
/NewCenturySchlbk-Bold SF
8280 33496 MT
(RLIST)SH
/NewCenturySchlbk-Roman SF
(. For)
398 W( types)46 W
/NewCenturySchlbk-Bold SF
18183 XM
(USER)SH
/NewCenturySchlbk-Roman SF
21917 XM
(and)SH
/NewCenturySchlbk-Bold SF
24185 XM
(RUSER)SH
/NewCenturySchlbk-Roman SF
(, the)46 W
/NewCenturySchlbk-Italic SF
31126 XM
(ace_name)SH
/NewCenturySchlbk-Roman SF
36404 XM
(must be a login name.  If the type is)45 W
/NewCenturySchlbk-Bold SF
8280 34733 MT
(USER)SH
/NewCenturySchlbk-Roman SF
(, then only objects whose)
4 W( ACE is the named user will be found; if it is)5 W
/NewCenturySchlbk-Bold SF
47196 XM
(RUSER)SH
/NewCenturySchlbk-Roman SF
(, it will)5 W
8280 35970 MT
(recursively check down sub-lists of the ACE)
94 W( lists looking to see if the user is a member of)93 W
8280 37207 MT
(that ACE.  The types)167 W
/NewCenturySchlbk-Bold SF
20143 XM
(LIST)SH
/NewCenturySchlbk-Roman SF
23426 XM
(and)SH
/NewCenturySchlbk-Bold SF
25815 XM
(RLIST)SH
/NewCenturySchlbk-Roman SF
29995 XM
(apply to a list name in a similar)
167 W( manner.  The)168 W
8280 38444 MT
(returned tuples will be)371 W
/NewCenturySchlbk-Bold SF
21672 XM
(LIST)SH
/NewCenturySchlbk-Roman SF
(, list)
371 W( name;)370 W
/NewCenturySchlbk-Bold SF
31570 XM
(SERVICE)SH
/NewCenturySchlbk-Roman SF
(, service name;)370 W
/NewCenturySchlbk-Bold SF
46027 XM
(FILESYS)SH
/NewCenturySchlbk-Roman SF
51876 XM
(and a)370 W
8280 39681 MT
(filesystem label;)333 W
/NewCenturySchlbk-Bold SF
17513 XM
(QUERY)SH
/NewCenturySchlbk-Roman SF
(, query name;)333 W
/NewCenturySchlbk-Bold SF
30127 XM
(HOSTACCESS)SH
/NewCenturySchlbk-Roman SF
(, machine name; or)333 W
/NewCenturySchlbk-Bold SF
49721 XM
(ZEPHYR)SH
/NewCenturySchlbk-Roman SF
(,)SH
8280 40918 MT
(zephyr class name.  This query may)
27 W( be executed by a user asking about himself or a person)26 W
8280 42155 MT
(on an ACE of a list asking about that list.  Errors: MR_TYPE "Invalid)
51 W( type" if the)52 W
/NewCenturySchlbk-Italic SF
50866 XM
(ace_type)SH
/NewCenturySchlbk-Roman SF
8280 43392 MT
(is not one of)100 W
/NewCenturySchlbk-Bold SF
15103 XM
(LIST)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
18625 XM
(RLIST)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
23044 XM
(USER)SH
/NewCenturySchlbk-Roman SF
(, or)100 W
/NewCenturySchlbk-Bold SF
28581 XM
(RUSER)SH
/NewCenturySchlbk-Roman SF
(; MR_NO_MATCH "No objects in database)99 W
8280 44629 MT
(match query" if the)SH
/NewCenturySchlbk-Italic SF
18393 XM
(ace_name)SH
/NewCenturySchlbk-Roman SF
23626 XM
(doesn't match a user or list.)SH
/NewCenturySchlbk-Bold SF
9091 46856 MT
(qualified_get_lists)SH
/NewCenturySchlbk-Roman SF
8280 49083 MT
(Args: {active, public, hidden, maillist, group})SH
2382 50 8280 49283 UL
8280 51310 MT
(Returns: {list})SH
4116 50 8280 51510 UL
8280 53537 MT
(Finds the names of any lists that meet)
10 W( the specified criteria.  Each of the inputs may be one)11 W
8280 54774 MT
(of)SH
/NewCenturySchlbk-Bold SF
9603 XM
(TRUE, FALSE)100 W
/NewCenturySchlbk-Roman SF
(, or)100 W
/NewCenturySchlbk-Bold SF
19915 XM
(DONTCARE)SH
/NewCenturySchlbk-Roman SF
(. Any)
504 W( user may execute this query with)99 W
/NewCenturySchlbk-Italic SF
48300 XM
(active)SH
/NewCenturySchlbk-Bold SF
51638 XM
(TRUE)SH
/NewCenturySchlbk-Roman SF
8280 56011 MT
(and)SH
/NewCenturySchlbk-Italic SF
10522 XM
(hidden)SH
/NewCenturySchlbk-Bold SF
14395 XM
(FALSE)SH
/NewCenturySchlbk-Roman SF
(. Errors:)
346 W( MR_TYPE "Invalid)
20 W( type" if one of the arguments is something)21 W
8280 57248 MT
(other than)SH
/NewCenturySchlbk-Bold SF
13969 XM
(TRUE)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
18023 XM
(FALSE)SH
/NewCenturySchlbk-Roman SF
(, or)SH
/NewCenturySchlbk-Bold SF
23971 XM
(DONTCARE)SH
/NewCenturySchlbk-Roman SF
(.)SH
/NewCenturySchlbk-Bold SF
9091 59475 MT
(get_members_of_list)SH
/NewCenturySchlbk-Roman SF
8280 61702 MT
(Args: list)SH
2382 50 8280 61902 UL
8280 63929 MT
(Returns: {type, value})SH
4116 50 8280 64129 UL
8280 66156 MT
(Retrieves all of the members of the named list.)
54 W( The)413 W
/NewCenturySchlbk-Italic SF
35499 XM
(list)SH
/NewCenturySchlbk-Roman SF
37468 XM
(must match exactly one list in the)53 W
8280 67393 MT
(database. The)
316 W( returned pairs)
5 W( consist of the type)6 W
/NewCenturySchlbk-Bold SF
33260 XM
(USER)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
37260 XM
(LIST)SH
/NewCenturySchlbk-Roman SF
(, or)6 W
/NewCenturySchlbk-Bold SF
42038 XM
(STRING)SH
/NewCenturySchlbk-Roman SF
(, followed by the)6 W
8280 68630 MT
(login name, list name, or text string)
33 W( respectively.  This query may be executed by anyone if)32 W
8280 69867 MT
(the list is not hidden; otherwise by someone on the ACE of the list being modified.)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 48 48
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 48, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Bold AF
6931 8011 MT
(get_lists_of_member)SH
/NewCenturySchlbk-Roman SF
6120 10238 MT
(Args: {type, value})SH
2382 50 6120 10438 UL
6120 12465 MT
(Returns: {list, active, public, hidden, maillist, group})SH
4116 50 6120 12665 UL
6120 14692 MT
(Retrieves the name and flags of every)
10 W( list containing the named member.  The member)11 W
/NewCenturySchlbk-Italic SF
50863 XM
(type)SH
/NewCenturySchlbk-Roman SF
6120 15929 MT
(must be one of)114 W
/NewCenturySchlbk-Bold SF
14241 XM
(USER)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
18349 XM
(LIST)SH
/NewCenturySchlbk-Roman SF
(, or)114 W
/NewCenturySchlbk-Bold SF
23343 XM
(STRING)SH
/NewCenturySchlbk-Roman SF
(, and the)114 W
/NewCenturySchlbk-Italic SF
33222 XM
(value)SH
/NewCenturySchlbk-Roman SF
36372 XM
(a login name, list)
114 W( name, or text)113 W
6120 17166 MT
(string respectively.  The)71 W
/NewCenturySchlbk-Italic SF
19002 XM
(type)SH
/NewCenturySchlbk-Roman SF
21436 XM
(may also)
71 W( be one of)72 W
/NewCenturySchlbk-Bold SF
31377 XM
(RUSER, RLIST)72 W
/NewCenturySchlbk-Roman SF
(, or)72 W
/NewCenturySchlbk-Bold SF
42157 XM
(RSTRING)SH
/NewCenturySchlbk-Roman SF
(, in which)72 W
6120 18403 MT
(case it will also find any lists that contain as sublists)
60 W( a list that the target is a member of.)59 W
6120 19640 MT
(This query may be executed by someone asking about themselves or a)
57 W( person on the ace of)58 W
6120 20877 MT
(a list asking about that list.  Errors: MR_TYPE "Invalid type" if the)184 W
/NewCenturySchlbk-Italic SF
43196 XM
(type)SH
/NewCenturySchlbk-Roman SF
45743 XM
(is not)184 W
/NewCenturySchlbk-Bold SF
49232 XM
(USER,)SH
6120 22114 MT
(LIST, STRING, RUSER, RLIST)336 W
/NewCenturySchlbk-Roman SF
(, or)336 W
/NewCenturySchlbk-Bold SF
27163 XM
(RSTRING)SH
/NewCenturySchlbk-Roman SF
(; or MR_NO_MATCH "No records in)336 W
6120 23351 MT
(database match query" if)SH
/NewCenturySchlbk-Italic SF
19148 XM
(value)SH
/NewCenturySchlbk-Roman SF
22184 XM
(does not match an existing value for the given type.)SH
/NewCenturySchlbk-Bold SF
6931 25578 MT
(count_members_of_list)SH
/NewCenturySchlbk-Roman SF
6120 27805 MT
(Args: list)SH
2382 50 6120 28005 UL
6120 30032 MT
(Returns: {count})SH
4116 50 6120 30232 UL
6120 32259 MT
(Determines how many members are on the)
3 W( specified list.  The)2 W
/NewCenturySchlbk-Italic SF
37887 XM
(list)SH
/NewCenturySchlbk-Roman SF
39805 XM
(name must match exactly)2 W
6120 33496 MT
(one list.  This query may be executed by a anyone on a)
57 W( visible list, or someone on the ACE)58 W
6120 34733 MT
(of the target list.  MR_LIST "Invalid list" if the list name does not match exactly one list.)SH
10 /Helvetica-BoldOblique AF
6120 37560 MT
(7.0.4. Servers and Serverhosts)SH
11 /NewCenturySchlbk-Bold AF
6931 39520 MT
(get_server_info)SH
/NewCenturySchlbk-Roman SF
6120 41747 MT
(Args: name)SH
2382 50 6120 41947 UL
6120 43974 MT
(Returns: {service, interval, target, script,)
601 W( dfgen, dfcheck, type, enable, inprogress,)600 W
4116 50 6120 44174 UL
6120 45211 MT
(harderror, errmsg, ace_type, ace_name, modtime, modby, modwith})SH
6120 47438 MT
(Retrieves service information from the)
96 W( database.  This is the per-service information used)97 W
6120 48675 MT
(by the DCM for updates.  The service)112 W
/NewCenturySchlbk-Italic SF
26234 XM
(name)SH
/NewCenturySchlbk-Roman SF
29422 XM
(may contain wildcards.  Note that all service)112 W
6120 49912 MT
(names are stored in uppercase, and the passed name will be)
57 W( upper-cased before comparing)58 W
6120 51149 MT
(it. The)
590 W( returned)142 W
/NewCenturySchlbk-Italic SF
15434 XM
(interval)SH
/NewCenturySchlbk-Roman SF
19855 XM
(is in minutes.)142 W
/NewCenturySchlbk-Italic SF
27991 XM
(dfgen)SH
/NewCenturySchlbk-Roman SF
31231 XM
(is the data files were last generated, and)142 W
/NewCenturySchlbk-Italic SF
6120 52386 MT
(dfcheck)SH
/NewCenturySchlbk-Roman SF
10252 XM
(is the date we last checked to see)
37 W( if we needed to generate them.  These are passed)38 W
6120 53623 MT
(as integers \050unix format date\051.)
120 W( The)545 W
/NewCenturySchlbk-Italic SF
25285 XM
(type)SH
/NewCenturySchlbk-Roman SF
27767 XM
(must be a)119 W
/NewCenturySchlbk-Bold SF
33405 XM
(service-type)SH
/NewCenturySchlbk-Roman SF
40781 XM
(as stored in the aliases)119 W
6120 54860 MT
(database.)SH
/NewCenturySchlbk-Italic SF
12173 XM
(enable, inprogress)284 W
/NewCenturySchlbk-Roman SF
(, and)284 W
/NewCenturySchlbk-Italic SF
24982 XM
(harderror)SH
/NewCenturySchlbk-Roman SF
30539 XM
(are booleans \0500 = false, non-zero)
284 W( = true\051.)285 W
/NewCenturySchlbk-Italic SF
6120 56097 MT
(ace_type)SH
/NewCenturySchlbk-Roman SF
10747 XM
(is either)107 W
/NewCenturySchlbk-Bold SF
15468 XM
(USER, LIST)107 W
/NewCenturySchlbk-Roman SF
(, or)107 W
/NewCenturySchlbk-Bold SF
24559 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, and)107 W
/NewCenturySchlbk-Italic SF
31190 XM
(ace_name)SH
/NewCenturySchlbk-Roman SF
36530 XM
(is a login name, a list)
107 W( name, or)106 W
/NewCenturySchlbk-Bold SF
6120 57334 MT
(NONE)SH
/NewCenturySchlbk-Roman SF
(, respectively.  This query may be executed by someone)
24 W( on the service ace if only one)25 W
6120 58571 MT
(service is retrieved.)SH
/NewCenturySchlbk-Bold SF
6931 60798 MT
(qualified_get_server)SH
/NewCenturySchlbk-Roman SF
6120 63025 MT
(Args: {enable, inprogress, harderror})SH
2382 50 6120 63225 UL
6120 65252 MT
(Returns: service)SH
4116 50 6120 65452 UL
6120 67479 MT
(Finds the names of any services that)
23 W( meet the specified criteria.  Each of the inputs may be)22 W
6120 68716 MT
(one of)182 W
/NewCenturySchlbk-Bold SF
9786 XM
(TRUE, FALSE)182 W
/NewCenturySchlbk-Roman SF
(, or)182 W
/NewCenturySchlbk-Bold SF
20344 XM
(DONTCARE)SH
/NewCenturySchlbk-Roman SF
(. Errors:)
670 W( MR_TYPE "Invalid type")
182 W( if any of the)183 W
6120 69953 MT
(flags are not one of the three legal values.)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 49 49
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 49)SH
11 /NewCenturySchlbk-Bold AF
9091 8011 MT
(add_server_info)SH
/NewCenturySchlbk-Roman SF
8280 10238 MT
(Args: {service, interval, target, script, type, enable, ace_type, ace_name})SH
2382 50 8280 10438 UL
8280 12465 MT
(Returns: none)SH
4116 50 8280 12665 UL
8280 14692 MT
(Adds a new service to the database.)
86 W( This)
476 W( is the per-service information used by the DCM)85 W
8280 15929 MT
(for updates.  Note that only a subset of the information is added in this query, as the)221 W
8280 17166 MT
(remaining fields are)
194 W( only changed by the DCM with the)193 W
/NewCenturySchlbk-Italic SF
38817 XM
(set_server_internal_flags)SH
/NewCenturySchlbk-Roman SF
51860 XM
(query.)SH
8280 18403 MT
(The)SH
/NewCenturySchlbk-Italic SF
10551 XM
(service)SH
/NewCenturySchlbk-Roman SF
14243 XM
(name will be converted to uppercase.  The)8 W
/NewCenturySchlbk-Italic SF
35955 XM
(interval)SH
/NewCenturySchlbk-Roman SF
40243 XM
(is in minutes.  The)9 W
/NewCenturySchlbk-Italic SF
50119 XM
(type)SH
/NewCenturySchlbk-Roman SF
52491 XM
(must)SH
8280 19640 MT
(be a)120 W
/NewCenturySchlbk-Bold SF
10906 XM
(service-type)SH
/NewCenturySchlbk-Roman SF
18283 XM
(as stored in the aliases database.)120 W
/NewCenturySchlbk-Italic SF
36577 XM
(Enable)SH
/NewCenturySchlbk-Roman SF
40567 XM
(is a boolean \0500 = false, non-)119 W
8280 20877 MT
(zero = true\051.)94 W
/NewCenturySchlbk-Italic SF
15476 XM
(ace_type)SH
/NewCenturySchlbk-Roman SF
20090 XM
(is either)94 W
/NewCenturySchlbk-Bold SF
24785 XM
(USER, LIST)94 W
/NewCenturySchlbk-Roman SF
(, or)94 W
/NewCenturySchlbk-Bold SF
33837 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, and)94 W
/NewCenturySchlbk-Italic SF
40442 XM
(ace_name)SH
/NewCenturySchlbk-Roman SF
45769 XM
(is a login name,)
94 W( a)95 W
8280 22114 MT
(list name, or)187 W
/NewCenturySchlbk-Bold SF
15550 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, respectively.  The service modtime will be set.)
187 W( Errors:)
678 W( MR_TYPE)186 W
8280 23351 MT
("Invalid type" if the type field is not a valid)SH
/NewCenturySchlbk-Bold SF
30511 XM
(service-type)SH
/NewCenturySchlbk-Roman SF
37768 XM
(in the alias database, or MR_ACE)1 W
8280 24588 MT
("No such access control entity" if the)310 W
/NewCenturySchlbk-Italic SF
29307 XM
(ace_type)SH
/NewCenturySchlbk-Roman SF
34137 XM
(is not)310 W
/NewCenturySchlbk-Bold SF
37878 XM
(USER, LIST)310 W
/NewCenturySchlbk-Roman SF
(, or)310 W
/NewCenturySchlbk-Bold SF
47577 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
51775 XM
(or the)309 W
/NewCenturySchlbk-Italic SF
8280 25825 MT
(ace_name)SH
/NewCenturySchlbk-Roman SF
13513 XM
(cannot be resolved based on the)SH
/NewCenturySchlbk-Italic SF
29942 XM
(ace_type)SH
/NewCenturySchlbk-Roman SF
(.)SH
/NewCenturySchlbk-Bold SF
9091 28052 MT
(update_server_info)SH
/NewCenturySchlbk-Roman SF
8280 30279 MT
(Args: {service, interval, target, script, type, enable, ace_type, ace_name})SH
2382 50 8280 30479 UL
8280 32506 MT
(Returns: none)SH
4116 50 8280 32706 UL
8280 34733 MT
(Updates a service in the database.  This is the per-service information used by the DCM for)19 W
8280 35970 MT
(updates. Note)
360 W( that only a subset of the information)
27 W( can be modified with this query, as the)26 W
8280 37207 MT
(remaining fields are only changed by Moira itself.  The)132 W
/NewCenturySchlbk-Italic SF
37757 XM
(service)SH
/NewCenturySchlbk-Roman SF
41573 XM
(name must)
132 W( match exactly)133 W
8280 38444 MT
(one existing)
138 W( service after being converted to uppercase.  The)137 W
/NewCenturySchlbk-Italic SF
40591 XM
(interval)SH
/NewCenturySchlbk-Roman SF
45007 XM
(is in minutes.  The)137 W
/NewCenturySchlbk-Italic SF
8280 39681 MT
(type)SH
/NewCenturySchlbk-Roman SF
10780 XM
(must be a)137 W
/NewCenturySchlbk-Bold SF
16472 XM
(service-type)SH
/NewCenturySchlbk-Roman SF
23866 XM
(as stored in the aliases database.)138 W
/NewCenturySchlbk-Italic SF
42286 XM
(Enable)SH
/NewCenturySchlbk-Roman SF
46295 XM
(is a boolean \0500 =)138 W
8280 40918 MT
(false, non-zero = true\051.)34 W
/NewCenturySchlbk-Italic SF
20530 XM
(Ace_type)SH
/NewCenturySchlbk-Roman SF
25227 XM
(is either)34 W
/NewCenturySchlbk-Bold SF
29802 XM
(USER, LIST)34 W
/NewCenturySchlbk-Roman SF
(, or)34 W
/NewCenturySchlbk-Bold SF
38674 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, and)33 W
/NewCenturySchlbk-Italic SF
45157 XM
(ace_name)SH
/NewCenturySchlbk-Roman SF
50423 XM
(is a login)33 W
8280 42155 MT
(name, a list name, or)133 W
/NewCenturySchlbk-Bold SF
19997 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, respectively.  The service)
133 W( modtime will be set.  This query)134 W
8280 43392 MT
(may be used by someone on the ACE of)
173 W( the target service.  Errors:  MR_TYPE "Invalid)172 W
8280 44629 MT
(type" if the)147 W
/NewCenturySchlbk-Italic SF
14635 XM
(type)SH
/NewCenturySchlbk-Roman SF
17145 XM
(field is not a valid)147 W
/NewCenturySchlbk-Bold SF
27305 XM
(service-type)SH
/NewCenturySchlbk-Roman SF
34709 XM
(in the alias database, or MR_ACE)
147 W( "No)148 W
8280 45866 MT
(such access control entity" if the)107 W
/NewCenturySchlbk-Italic SF
25597 XM
(ace_type)SH
/NewCenturySchlbk-Roman SF
30223 XM
(is not)106 W
/NewCenturySchlbk-Bold SF
33556 XM
(USER, LIST)106 W
/NewCenturySchlbk-Roman SF
(, or)106 W
/NewCenturySchlbk-Bold SF
42644 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
46639 XM
(or the)106 W
/NewCenturySchlbk-Italic SF
50153 XM
(ace_name)SH
/NewCenturySchlbk-Roman SF
8280 47103 MT
(cannot be resolved based on the)SH
/NewCenturySchlbk-Italic SF
24709 XM
(ace_type)SH
/NewCenturySchlbk-Roman SF
(.)SH
/NewCenturySchlbk-Bold SF
9091 49330 MT
(reset_server_error)SH
/NewCenturySchlbk-Roman SF
8280 51557 MT
(Args: service)SH
2382 50 8280 51757 UL
8280 53784 MT
(Returns: none)SH
4116 50 8280 53984 UL
8280 56011 MT
(Updates the specified service)
119 W( by changing the harderror flag from)120 W
/NewCenturySchlbk-Bold SF
43167 XM
(TRUE)SH
/NewCenturySchlbk-Roman SF
47035 XM
(to)SH
/NewCenturySchlbk-Bold SF
48440 XM
(FALSE)SH
/NewCenturySchlbk-Roman SF
(, and)120 W
8280 57248 MT
(sets)SH
/NewCenturySchlbk-Italic SF
10750 XM
(dfcheck)SH
/NewCenturySchlbk-Roman SF
15012 XM
(to be the same as)167 W
/NewCenturySchlbk-Italic SF
24940 XM
(dfgen)SH
/NewCenturySchlbk-Roman SF
(. The)640 W
/NewCenturySchlbk-Italic SF
31414 XM
(service)SH
/NewCenturySchlbk-Roman SF
35265 XM
(name must match)
167 W( exactly on existing)166 W
8280 58485 MT
(service after being converted to uppercase.  The service modtime will)
141 W( be set.  This query)142 W
8280 59722 MT
(may be executed by someone on the ACE of the target service.)SH
/NewCenturySchlbk-Bold SF
9091 61949 MT
(set_server_internal_flags)SH
/NewCenturySchlbk-Roman SF
8280 64176 MT
(Args: {service, dfgen, dfcheck, inprogress, harderr, errmsg})SH
2382 50 8280 64376 UL
8280 66403 MT
(Returns: none)SH
4116 50 8280 66603 UL
8280 68630 MT
(Updates the specified service.  This is intended to only be used)
78 W( by the DCM, as it changes)77 W
8280 69867 MT
(flags that the user should not have control over.  The)43 W
/NewCenturySchlbk-Italic SF
35991 XM
(service)SH
/NewCenturySchlbk-Roman SF
39718 XM
(name must match)
43 W( exactly one)44 W
8280 71104 MT
(existing service after being converted to uppercase.)217 W
/NewCenturySchlbk-Italic SF
36614 XM
(dfgen)SH
/NewCenturySchlbk-Roman SF
39928 XM
(and)SH
/NewCenturySchlbk-Italic SF
42366 XM
(dfcheck)SH
/NewCenturySchlbk-Roman SF
46677 XM
(are unix format)216 W
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 50 50
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 50, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(dates \050long integers\051.)33 W
/NewCenturySchlbk-Italic SF
17545 XM
(inprogress)SH
/NewCenturySchlbk-Roman SF
23136 XM
(and)SH
/NewCenturySchlbk-Italic SF
25391 XM
(harderr)SH
/NewCenturySchlbk-Roman SF
29659 XM
(are booleans \0500 = false, non-zero)
33 W( = true\051.  The)34 W
6120 9248 MT
(service modtime will NOT be set.)SH
/NewCenturySchlbk-Bold SF
6931 11475 MT
(delete_server_info)SH
/NewCenturySchlbk-Roman SF
6120 13702 MT
(Args: service)SH
2382 50 6120 13902 UL
6120 15929 MT
(Returns: none)SH
4116 50 6120 16129 UL
6120 18156 MT
(Deletes a set of service information from the database.  The)239 W
/NewCenturySchlbk-Italic SF
39328 XM
(service)SH
/NewCenturySchlbk-Roman SF
43250 XM
(name must match)238 W
6120 19393 MT
(exactly one service in the database after being converted to)
88 W( uppercase.  A service may not)89 W
6120 20630 MT
(be deleted if there are any server-hosts assigned to that service, or)
97 W( if the inprogress bit is)96 W
6120 21867 MT
(set for that service.  Error: MR_IN_USE "Object is in)
150 W( use" if there are hosts assigned to)151 W
6120 23104 MT
(that service.)SH
/NewCenturySchlbk-Bold SF
6931 25331 MT
(get_server_host_info)SH
/NewCenturySchlbk-Roman SF
6120 27558 MT
(Args: {service, machine})SH
2382 50 6120 27758 UL
6120 29785 MT
(Returns: {service, machine, enable,)
36 W( override, success, inprogress, hosterror, errmsg, lasttry,)35 W
4116 50 6120 29985 UL
6120 31022 MT
(lastsuccess, value1, value2, value3, modtime, modby, modwith})SH
6120 33249 MT
(Retrieves server-host information from the)
28 W( database.  This is the per-host information used)29 W
6120 34486 MT
(by the DCM for updates.  The given)174 W
/NewCenturySchlbk-Italic SF
25959 XM
(service)SH
/NewCenturySchlbk-Roman SF
29817 XM
(and)SH
/NewCenturySchlbk-Italic SF
32213 XM
(machine)SH
/NewCenturySchlbk-Roman SF
36990 XM
(names may contain wildcards.)173 W
/NewCenturySchlbk-Italic SF
6120 35723 MT
(Enable, override, success, inprogress)23 W
/NewCenturySchlbk-Roman SF
(, and)23 W
/NewCenturySchlbk-Italic SF
27436 XM
(hosterror)SH
/NewCenturySchlbk-Roman SF
32366 XM
(are booleans \0500 = false, non-zero)
23 W( = true\051.)24 W
/NewCenturySchlbk-Italic SF
6120 36960 MT
(lasttry)SH
/NewCenturySchlbk-Roman SF
9827 XM
(and)SH
/NewCenturySchlbk-Italic SF
12150 XM
(lastsuccess)SH
/NewCenturySchlbk-Roman SF
18032 XM
(are unix format dates \050long integers\051.  This query may be executed)101 W
6120 38197 MT
(by someone on the ACE for the target service.)SH
/NewCenturySchlbk-Bold SF
6931 40424 MT
(qualified_get_server_host)SH
/NewCenturySchlbk-Roman SF
6120 42651 MT
(Args: {service, enable, override, success, inprogress, hosterror})SH
2382 50 6120 42851 UL
6120 44878 MT
(Returns: {service, machine})SH
4116 50 6120 45078 UL
6120 47105 MT
(Finds the)
34 W( names of any machine/services pairs that meet the specified criteria.  The)35 W
/NewCenturySchlbk-Italic SF
49542 XM
(service)SH
/NewCenturySchlbk-Roman SF
6120 48342 MT
(name may contain wildcards.  Each of the remaining inputs may be one)
32 W( of)31 W
/NewCenturySchlbk-Bold SF
44527 XM
(TRUE, FALSE)31 W
/NewCenturySchlbk-Roman SF
(,)SH
6120 49579 MT
(or)SH
/NewCenturySchlbk-Bold SF
7627 XM
(DONTCARE)SH
/NewCenturySchlbk-Roman SF
(. Errors:)
632 W( MR_TYPE "Invalid type" if any of)
163 W( the flags are not one of the)164 W
6120 50816 MT
(three legal values.)SH
/NewCenturySchlbk-Bold SF
6931 53043 MT
(add_server_host_info)SH
/NewCenturySchlbk-Roman SF
6120 55270 MT
(Args: {service, machine, enable, value1, value2, value3})SH
2382 50 6120 55470 UL
6120 57497 MT
(Returns: none)SH
4116 50 6120 57697 UL
6120 59724 MT
(Adds information for a new server-host to the database.)
118 W( This)
541 W( is the per-host information)117 W
6120 60961 MT
(used by the DCM for updates.  Note that only a subset of the information is dealt)
93 W( with in)94 W
6120 62198 MT
(this query, as the remaining)
718 W( fields are only changed by the DCM with the)717 W
/NewCenturySchlbk-Italic SF
6120 63435 MT
(set_server_host_internal)SH
/NewCenturySchlbk-Roman SF
18685 XM
(query.)SH
/NewCenturySchlbk-Italic SF
22637 XM
(Service)SH
/NewCenturySchlbk-Roman SF
26627 XM
(and)SH
/NewCenturySchlbk-Italic SF
28909 XM
(machine)SH
/NewCenturySchlbk-Roman SF
33573 XM
(must each)
60 W( match exactly one existing)61 W
6120 64672 MT
(service and machine, respectively.)86 W
/NewCenturySchlbk-Italic SF
24527 XM
(Enable)SH
/NewCenturySchlbk-Roman SF
28484 XM
(is a boolean \0500 = false, non-zero =)
86 W( true\051.  The 3)85 W
6120 65909 MT
(values are service specific in function;)139 W
/NewCenturySchlbk-Italic SF
26504 XM
(value1)SH
/NewCenturySchlbk-Roman SF
30291 XM
(and)SH
/NewCenturySchlbk-Italic SF
32653 XM
(value2)SH
/NewCenturySchlbk-Roman SF
36441 XM
(are integers,)140 W
/NewCenturySchlbk-Italic SF
43427 XM
(value3)SH
/NewCenturySchlbk-Roman SF
47215 XM
(is a string.)140 W
6120 67146 MT
(The server-host's modtime will be set.  This query may be used)
46 W( by someone on the ACE for)45 W
6120 68383 MT
(the target service.  Errors: MR_SERVICE "Unknown)
101 W( service" if the)102 W
/NewCenturySchlbk-Italic SF
41613 XM
(service)SH
/NewCenturySchlbk-Roman SF
45399 XM
(name does not)102 W
6120 69620 MT
(match exactly one existing service, or MR_MACHINE "Invalid machine" if the)219 W
/NewCenturySchlbk-Italic SF
48622 XM
(machine)SH
/NewCenturySchlbk-Roman SF
6120 70857 MT
(name does not match exactly one machine.)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 51 51
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 51)SH
11 /NewCenturySchlbk-Bold AF
9091 8011 MT
(update_server_host_info)SH
/NewCenturySchlbk-Roman SF
8280 10238 MT
(Args: {service, machine, enable, value1, value2, value3})SH
2382 50 8280 10438 UL
8280 12465 MT
(Returns: none)SH
4116 50 8280 12665 UL
8280 14692 MT
(Updates information for a server-host in)
176 W( the database.  This is the per-host information)177 W
8280 15929 MT
(used by the)
94 W( DCM for updates.  Note that only a subset of the information is dealt with in)93 W
8280 17166 MT
(this query, as the remaining fields are only changed by)
717 W( the DCM with the)718 W
/NewCenturySchlbk-Italic SF
8280 18403 MT
(set_server_host_internal)SH
/NewCenturySchlbk-Roman SF
20846 XM
(query.)SH
/NewCenturySchlbk-Italic SF
24800 XM
(Service)SH
/NewCenturySchlbk-Roman SF
28791 XM
(and)SH
/NewCenturySchlbk-Italic SF
31073 XM
(machine)SH
/NewCenturySchlbk-Roman SF
35737 XM
(must each match exactly one existing)60 W
8280 19640 MT
(service and machine, respectively.)85 W
/NewCenturySchlbk-Italic SF
26683 XM
(Enable)SH
/NewCenturySchlbk-Roman SF
30640 XM
(is a boolean \0500 = false, non-zero = true\051.  The 3)86 W
8280 20877 MT
(values are service specific in function;)140 W
/NewCenturySchlbk-Italic SF
28670 XM
(value1)SH
/NewCenturySchlbk-Roman SF
32458 XM
(and)SH
/NewCenturySchlbk-Italic SF
34819 XM
(value2)SH
/NewCenturySchlbk-Roman SF
38606 XM
(are integers,)139 W
/NewCenturySchlbk-Italic SF
45590 XM
(value3)SH
/NewCenturySchlbk-Roman SF
49377 XM
(is a string.)139 W
8280 22114 MT
(The server-host's modtime will be set.  This query may only)
375 W( be executed when the)376 W
8280 23351 MT
(inprogress bit is not currently set for)
44 W( the specified server_host.  This query may be used by)43 W
8280 24588 MT
(someone on the ACE for the target service.  Errors:)
5 W( MR_SERVICE "Unknown service" if the)6 W
/NewCenturySchlbk-Italic SF
8280 25825 MT
(service)SH
/NewCenturySchlbk-Roman SF
12304 XM
(name does not match exactly one existing service, or MR_MACHINE "Invalid)340 W
8280 27062 MT
(machine" if the)SH
/NewCenturySchlbk-Italic SF
16315 XM
(machine)SH
/NewCenturySchlbk-Roman SF
20919 XM
(name does not match exactly one machine.)SH
/NewCenturySchlbk-Bold SF
9091 29289 MT
(reset_server_host_error)SH
/NewCenturySchlbk-Roman SF
8280 31516 MT
(Args: {service, machine})SH
2382 50 8280 31716 UL
8280 33743 MT
(Returns: none)SH
4116 50 8280 33943 UL
8280 35970 MT
(Resets the hosterr flag for the specified server_host.)
127 W( The)562 W
/NewCenturySchlbk-Italic SF
38840 XM
(service)SH
/NewCenturySchlbk-Roman SF
42652 XM
(and)SH
/NewCenturySchlbk-Italic SF
45002 XM
(machine)SH
/NewCenturySchlbk-Roman SF
49734 XM
(must each)128 W
8280 37207 MT
(match exactly one service and host.  The server_host's modtime will be)
230 W( updated.  This)229 W
8280 38444 MT
(query may be used by someone on the ACE for the target service.  Errors:)
85 W( MR_SERVICE)477 W
8280 39681 MT
("Unknown service" if the)273 W
/NewCenturySchlbk-Italic SF
22317 XM
(service)SH
/NewCenturySchlbk-Roman SF
26274 XM
(name does not match exactly one existing service, or)273 W
8280 40918 MT
(MR_MACHINE "Invalid machine" if the)419 W
/NewCenturySchlbk-Italic SF
31164 XM
(machine)SH
/NewCenturySchlbk-Roman SF
36187 XM
(name does not match exactly)
419 W( one)420 W
8280 42155 MT
(machine.)SH
/NewCenturySchlbk-Bold SF
9091 44382 MT
(set_server_host_override)SH
/NewCenturySchlbk-Roman SF
8280 46609 MT
(Args: {service, machine})SH
2382 50 8280 46809 UL
8280 48836 MT
(Returns: none)SH
4116 50 8280 49036 UL
8280 51063 MT
(This will set the override flag for)
27 W( a server_host, and start a new DCM running.  The)26 W
/NewCenturySchlbk-Italic SF
51702 XM
(service)SH
/NewCenturySchlbk-Roman SF
8280 52300 MT
(and)SH
/NewCenturySchlbk-Italic SF
10670 XM
(machine)SH
/NewCenturySchlbk-Roman SF
15442 XM
(must each match exactly one service and host.  The)
168 W( server_host's modtime)169 W
8280 53537 MT
(will be updated.)
141 W( This)
587 W( query may be used by someone on the ACE for the target service.)140 W
8280 54774 MT
(Errors: MR_SERVICE "Unknown service" if the)137 W
/NewCenturySchlbk-Italic SF
33776 XM
(service)SH
/NewCenturySchlbk-Roman SF
37597 XM
(name does not match exactly)
137 W( one)138 W
8280 56011 MT
(existing service, or MR_MACHINE "Invalid machine" if the)65 W
/NewCenturySchlbk-Italic SF
39414 XM
(machine)SH
/NewCenturySchlbk-Roman SF
44083 XM
(name does not)
65 W( match)64 W
8280 57248 MT
(exactly one machine.)SH
/NewCenturySchlbk-Bold SF
9091 59475 MT
(set_server_host_internal)SH
/NewCenturySchlbk-Roman SF
8280 61702 MT
(Args: {service, machine, override, success, inprogress, hosterror, errmsg,)
751 W( lasttry,)752 W
2382 50 8280 61902 UL
8280 62939 MT
(lastsuccess})SH
8280 65166 MT
(Returns: none)SH
4116 50 8280 65366 UL
8280 67393 MT
(Updates the specified service_host.)
189 W( This)
682 W( is intended to only be used by the DCM, as it)188 W
8280 68630 MT
(changes flags that the user should not have control)
25 W( over.  The)26 W
/NewCenturySchlbk-Italic SF
40224 XM
(service)SH
/NewCenturySchlbk-Roman SF
43934 XM
(and)SH
/NewCenturySchlbk-Italic SF
46182 XM
(host)SH
/NewCenturySchlbk-Roman SF
48613 XM
(names name)26 W
8280 69867 MT
(must match exactly one existing service and host each.)147 W
/NewCenturySchlbk-Italic SF
38230 XM
(override, success, inprogress)146 W
/NewCenturySchlbk-Roman SF
53164 XM
(and)SH
/NewCenturySchlbk-Italic SF
8280 71104 MT
(hosterror)SH
/NewCenturySchlbk-Roman SF
13274 XM
(are booleans \0500 = false, non-zero = true\051.)87 W
/NewCenturySchlbk-Italic SF
35060 XM
(lasttry)SH
/NewCenturySchlbk-Roman SF
38754 XM
(and)SH
/NewCenturySchlbk-Italic SF
41064 XM
(lastsuccess)SH
/NewCenturySchlbk-Roman SF
46933 XM
(are unix format)88 W
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 52 52
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 52, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(dates \050long integers\051.  The service_host modtime will NOT be set.  Errors:)
126 W( MR_SERVICE)125 W
6120 9248 MT
("Unknown service" if the)273 W
/NewCenturySchlbk-Italic SF
20157 XM
(service)SH
/NewCenturySchlbk-Roman SF
24114 XM
(name does not match exactly one existing service, or)273 W
6120 10485 MT
(MR_MACHINE "Invalid)
420 W( machine" if the)419 W
/NewCenturySchlbk-Italic SF
29005 XM
(machine)SH
/NewCenturySchlbk-Roman SF
34028 XM
(name does not match exactly one)419 W
6120 11722 MT
(machine)SH
/NewCenturySchlbk-Bold SF
6931 13949 MT
(delete_server_host_info)SH
/NewCenturySchlbk-Roman SF
6120 16176 MT
(Args: {service, machine})SH
2382 50 6120 16376 UL
6120 18403 MT
(Returns: none)SH
4116 50 6120 18603 UL
6120 20630 MT
(Deletes a server-host from the database.  The)38 W
/NewCenturySchlbk-Italic SF
29844 XM
(service)SH
/NewCenturySchlbk-Roman SF
33567 XM
(and)SH
/NewCenturySchlbk-Italic SF
35828 XM
(machine)SH
/NewCenturySchlbk-Roman SF
40471 XM
(names each must match)39 W
6120 21867 MT
(exactly one existing service or host.  A server-host may not be deleted if the inprogress bit is)1 W
6120 23104 MT
(set for that server-host.  This query may be used by)
158 W( someone on the ACE for the target)159 W
6120 24341 MT
(service. Errors:)
840 W( MR_SERVICE "Unknown service")
267 W( if the)266 W
/NewCenturySchlbk-Italic SF
37369 XM
(service)SH
/NewCenturySchlbk-Roman SF
41319 XM
(name does not match)266 W
6120 25578 MT
(exactly one existing service, MR_MACH "Invalid machine" if the)146 W
/NewCenturySchlbk-Italic SF
40559 XM
(machine)SH
/NewCenturySchlbk-Roman SF
45309 XM
(name does not)147 W
6120 26815 MT
(match exactly one machine, or MR_IN_USE "Object is in use" if the inprogress bit is set.)SH
/NewCenturySchlbk-Bold SF
6931 29042 MT
(get_server_locations)SH
/NewCenturySchlbk-Roman SF
6120 31269 MT
(Args: service)SH
2382 50 6120 31469 UL
6120 33496 MT
(Returns: {service, machine})SH
4116 50 6120 33696 UL
6120 35723 MT
(This query tells which machines support a given service.  It does)
50 W( this by listing each of the)49 W
6120 36960 MT
(server-hosts for that service.  The)379 W
/NewCenturySchlbk-Italic SF
25778 XM
(service)SH
/NewCenturySchlbk-Roman SF
29842 XM
(name may contain wildcards, and will be)380 W
6120 38197 MT
(converted to uppercase before any comparisons are made.  It is safe for this query's ACL)
44 W( to)43 W
6120 39434 MT
(be the list containing everybody.)SH
10 /Helvetica-BoldOblique AF
6120 42261 MT
(7.0.5. Filesystems)SH
11 /NewCenturySchlbk-Bold AF
6931 44221 MT
(get_filesys_by_label)SH
/NewCenturySchlbk-Roman SF
6120 46448 MT
(Args: name)SH
2382 50 6120 46648 UL
6120 48675 MT
(Returns: {name,)
11 W( fstype, machine, packname, mountpoint, access, comments, owner, owners,)12 W
4116 50 6120 48875 UL
6120 49912 MT
(create, lockertype, modtime, modby, modwith})SH
6120 52139 MT
(Retrieves all)
38 W( the information about a specific filesystem from the database.  The)37 W
/NewCenturySchlbk-Italic SF
47626 XM
(name)SH
/NewCenturySchlbk-Roman SF
50739 XM
(may)SH
6120 53376 MT
(contain wildcards.)117 W
/NewCenturySchlbk-Italic SF
16379 XM
(fstype)SH
/NewCenturySchlbk-Roman SF
19714 XM
(is one of)118 W
/NewCenturySchlbk-Bold SF
24533 XM
(NFS)SH
/NewCenturySchlbk-Roman SF
27401 XM
(or)SH
/NewCenturySchlbk-Bold SF
28863 XM
(RVD)SH
/NewCenturySchlbk-Roman SF
(, recorded as aliases of)118 W
/NewCenturySchlbk-Bold SF
43839 XM
(filesys)SH
/NewCenturySchlbk-Roman SF
(.)SH
/NewCenturySchlbk-Italic SF
48622 XM
(machine)SH
/NewCenturySchlbk-Roman SF
6120 54613 MT
(must match exactly one existing machine.)210 W
/NewCenturySchlbk-Italic SF
29550 XM
(owner)SH
/NewCenturySchlbk-Roman SF
33121 XM
(must match exactly one user,)210 W
/NewCenturySchlbk-Italic SF
49377 XM
(owners)SH
/NewCenturySchlbk-Roman SF
6120 55850 MT
(must match exactly one list.)58 W
/NewCenturySchlbk-Italic SF
21397 XM
(create)SH
/NewCenturySchlbk-Roman SF
24733 XM
(is a boolean \0500 = false, non-zero = true\051 indicating that)59 W
6120 57087 MT
(the locker should be automatically)
98 W( created.)97 W
/NewCenturySchlbk-Italic SF
29291 XM
(lockertype)SH
/NewCenturySchlbk-Roman SF
34744 XM
(is a)97 W
/NewCenturySchlbk-Bold SF
37019 XM
(lockertype)SH
/NewCenturySchlbk-Roman SF
43541 XM
(as recorded in the)97 W
6120 58324 MT
(alias database, currently one of)288 W
/NewCenturySchlbk-Bold SF
23810 XM
(SYSTEM, HOMEDIR, PROJECT)288 W
/NewCenturySchlbk-Roman SF
(, or)288 W
/NewCenturySchlbk-Bold SF
45067 XM
(OTHER)SH
/NewCenturySchlbk-Roman SF
(. The)884 W
/NewCenturySchlbk-Italic SF
6120 59561 MT
(packname, mountpoint)SH
/NewCenturySchlbk-Roman SF
(, and)SH
/NewCenturySchlbk-Italic SF
20569 XM
(access)SH
/NewCenturySchlbk-Roman SF
23946 XM
(vary depending on the filesystem type.)SH
/NewCenturySchlbk-Bold SF
6931 61788 MT
(get_filesys_by_machine)SH
/NewCenturySchlbk-Roman SF
6120 64015 MT
(Args: machine)SH
2382 50 6120 64215 UL
6120 66242 MT
(Returns: {name, fstype, machine, packname, mountpoint, access, comments, owner,)
12 W( owners,)11 W
4116 50 6120 66442 UL
6120 67479 MT
(create, lockertype, modtime, modby, modwith})SH
6120 69706 MT
(Retrieves the information about)
250 W( any filesystems on the named machine.  The)251 W
/NewCenturySchlbk-Italic SF
48622 XM
(machine)SH
/NewCenturySchlbk-Roman SF
6120 70943 MT
(name must match exactly one machine in the database.  The returned)
161 W( information is as)160 W
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 53 53
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 53)SH
11 /NewCenturySchlbk-Roman AF
8280 8011 MT
(specified above)
136 W( for)137 W
/NewCenturySchlbk-Italic SF
18350 XM
(get_filesys_by_label)SH
/NewCenturySchlbk-Roman SF
(. Errors:)
580 W( MR_MACHINE "No such machine" if the)137 W
8280 9248 MT
(named machine does not match an existing machine.)SH
/NewCenturySchlbk-Bold SF
9091 11475 MT
(get_filesys_by_nfsphys)SH
/NewCenturySchlbk-Roman SF
8280 13702 MT
(Args: {machine, partition})SH
2382 50 8280 13902 UL
8280 15929 MT
(Returns: {name, fstype, machine, packname, mountpoint, access, comments, owner,)
12 W( owners,)11 W
4116 50 8280 16129 UL
8280 17166 MT
(create, lockertype, modtime, modby, modwith})SH
8280 19393 MT
(Retrieves the information about all NFS filesystems that reside on the specified NFS)
10 W( server)11 W
8280 20630 MT
(partition.)SH
/NewCenturySchlbk-Italic SF
13950 XM
(machine)SH
/NewCenturySchlbk-Roman SF
18676 XM
(must match exactly one machine.)122 W
/NewCenturySchlbk-Italic SF
37023 XM
(partition)SH
/NewCenturySchlbk-Roman SF
41933 XM
(is the mount point of the)121 W
8280 21867 MT
(NFS physical)
188 W( partition.  Errors: MR_MACHINE "Invalid machine" if the machine name)189 W
8280 23104 MT
(does not match exactly one machine, or MR_NO_MATCH "No)
142 W( records in database match)141 W
8280 24341 MT
(query" if the partition does not match anything.)SH
/NewCenturySchlbk-Bold SF
9091 26568 MT
(get_filesys_by_group)SH
/NewCenturySchlbk-Roman SF
8280 28795 MT
(Args: list)SH
2382 50 8280 28995 UL
8280 31022 MT
(Returns: {name,)
11 W( fstype, machine, packname, mountpoint, access, comments, owner, owners,)12 W
4116 50 8280 31222 UL
8280 32259 MT
(create, lockertype, modtime, modby, modwith})SH
8280 34486 MT
(Retrieves the information about all)
39 W( filesystems that have the specified group as the owners)38 W
8280 35723 MT
(list. The)794 W
/NewCenturySchlbk-Italic SF
13828 XM
(list)SH
/NewCenturySchlbk-Roman SF
15989 XM
(must match exactly one existing list.  This query may be executed by a)245 W
8280 36960 MT
(member of the target list.  Errors: MR_LIST "No)
66 W( such list" if the given list does not match)65 W
8280 38197 MT
(exactly one list in the database.)SH
/NewCenturySchlbk-Bold SF
9091 40424 MT
(add_filesys)SH
/NewCenturySchlbk-Roman SF
8280 42651 MT
(Args: {name, fstype, machine, packname,)
204 W( mountpoint, access, comments, owner, owners,)205 W
2382 50 8280 42851 UL
8280 43888 MT
(create, lockertype})SH
8280 46115 MT
(Returns: none)SH
4116 50 8280 46315 UL
8280 48342 MT
(Adds a new filesystem to)
212 W( the database.  The)211 W
/NewCenturySchlbk-Italic SF
32833 XM
(name)SH
/NewCenturySchlbk-Roman SF
36120 XM
(must be unique among the existing)211 W
8280 49579 MT
(filesystems.)SH
/NewCenturySchlbk-Italic SF
15396 XM
(fstype)SH
/NewCenturySchlbk-Roman SF
18869 XM
(is one of)255 W
/NewCenturySchlbk-Bold SF
24099 XM
(NFS)SH
/NewCenturySchlbk-Roman SF
27104 XM
(or)SH
/NewCenturySchlbk-Bold SF
28704 XM
(RVD)SH
/NewCenturySchlbk-Roman SF
(.)SH
/NewCenturySchlbk-Italic SF
32782 XM
(machine)SH
/NewCenturySchlbk-Roman SF
37642 XM
(must match exactly one existing)256 W
8280 50816 MT
(machine.)SH
/NewCenturySchlbk-Italic SF
13532 XM
(owner)SH
/NewCenturySchlbk-Roman SF
16898 XM
(must match exactly one user,)5 W
/NewCenturySchlbk-Italic SF
32130 XM
(owners)SH
/NewCenturySchlbk-Roman SF
35984 XM
(must match exactly one list.)5 W
/NewCenturySchlbk-Italic SF
50941 XM
(create)SH
/NewCenturySchlbk-Roman SF
54223 XM
(is)SH
8280 52053 MT
(a boolean \0500 = false,)
181 W( non-zero = true\051 indicating that the locker should be automatically)182 W
8280 53290 MT
(created.)SH
/NewCenturySchlbk-Italic SF
13366 XM
(lockertype)SH
/NewCenturySchlbk-Roman SF
18932 XM
(is a)210 W
/NewCenturySchlbk-Bold SF
21433 XM
(lockertype)SH
/NewCenturySchlbk-Roman SF
28068 XM
(as recorded in)
210 W( the alias database, currently one of)209 W
/NewCenturySchlbk-Bold SF
8280 54527 MT
(SYSTEM, HOMEDIR, PROJECT)19 W
/NewCenturySchlbk-Roman SF
(, or)19 W
/NewCenturySchlbk-Bold SF
28461 XM
(OTHER)SH
/NewCenturySchlbk-Roman SF
(. The)344 W
/NewCenturySchlbk-Italic SF
36099 XM
(packname)SH
/NewCenturySchlbk-Roman SF
41556 XM
(and)SH
/NewCenturySchlbk-Italic SF
43797 XM
(access)SH
/NewCenturySchlbk-Roman SF
47194 XM
(vary depending)20 W
8280 55764 MT
(on the filesystem type.  For an RVD filesystem,)
232 W( they may contain anything.  For NFS)231 W
8280 57001 MT
(filesystems, the)233 W
/NewCenturySchlbk-Italic SF
17004 XM
(packname)SH
/NewCenturySchlbk-Roman SF
22675 XM
(must match an existing NFS physical)
233 W( filesystem, and)234 W
/NewCenturySchlbk-Italic SF
52009 XM
(access)SH
/NewCenturySchlbk-Roman SF
8280 58238 MT
(must be one of)31 W
/NewCenturySchlbk-Bold SF
16069 XM
(r)SH
/NewCenturySchlbk-Roman SF
16977 XM
(or)SH
/NewCenturySchlbk-Bold SF
18352 XM
(w)SH
/NewCenturySchlbk-Roman SF
(. The)
368 W( filesystem's modtime will be set.  Errors: MR_FSTYPE "Invalid)31 W
8280 59475 MT
(filesys type" if the)320 W
/NewCenturySchlbk-Italic SF
19002 XM
(fstype)SH
/NewCenturySchlbk-Roman SF
22540 XM
(is not a valid)320 W
/NewCenturySchlbk-Bold SF
30695 XM
(filesys)SH
/NewCenturySchlbk-Roman SF
34950 XM
(type, MR_TYPE "Invalid type" if the)320 W
/NewCenturySchlbk-Italic SF
8280 60712 MT
(lockertype)SH
/NewCenturySchlbk-Roman SF
13829 XM
(is not)
193 W( a valid)192 W
/NewCenturySchlbk-Bold SF
21473 XM
(lockertype)SH
/NewCenturySchlbk-Roman SF
(, MR_MACHINE "No such machine" if the)192 W
/NewCenturySchlbk-Italic SF
50782 XM
(machine)SH
/NewCenturySchlbk-Roman SF
8280 61949 MT
(name does not match exactly one machine, MR_USER "No such user" if)
38 W( the)39 W
/NewCenturySchlbk-Italic SF
47443 XM
(owner)SH
/NewCenturySchlbk-Roman SF
50843 XM
(does not)39 W
8280 63186 MT
(match exactly)
100 W( one user, MR_LIST "No such list" if the)99 W
/NewCenturySchlbk-Italic SF
37058 XM
(owners)SH
/NewCenturySchlbk-Roman SF
41006 XM
(does not match exactly one)99 W
8280 64423 MT
(list, MR_NFS "Specified directory not exported" if the)27 W
/NewCenturySchlbk-Italic SF
36056 XM
(machine)SH
/NewCenturySchlbk-Roman SF
40687 XM
(and)SH
/NewCenturySchlbk-Italic SF
42936 XM
(packname)SH
/NewCenturySchlbk-Roman SF
48401 XM
(do not match)27 W
8280 65660 MT
(an existing NFS physical partition, or MR_FILESYS_ACCESS if)
47 W( the)46 W
/NewCenturySchlbk-Italic SF
43891 XM
(fstype)SH
/NewCenturySchlbk-Roman SF
47155 XM
(is)SH
/NewCenturySchlbk-Bold SF
48364 XM
(NFS)SH
/NewCenturySchlbk-Roman SF
51160 XM
(and the)46 W
8280 66897 MT
(access mode is not)SH
/NewCenturySchlbk-Bold SF
17878 XM
(r)SH
/NewCenturySchlbk-Roman SF
18755 XM
(or)SH
/NewCenturySchlbk-Bold SF
20099 XM
(w)SH
/NewCenturySchlbk-Roman SF
(.)SH
/NewCenturySchlbk-Bold SF
9091 69124 MT
(update_filesys)SH
/NewCenturySchlbk-Roman SF
8280 71351 MT
(Args: {name,)
63 W( newname, fstype, machine, packname, mountpoint, access, comments, owner,)64 W
2382 50 8280 71551 UL
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 54 54
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 54, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(owners, create, lockertype})SH
6120 10238 MT
(Returns: none)SH
4116 50 6120 10438 UL
6120 12465 MT
(Updates the information about a filesystem)
20 W( in the database.  The)19 W
/NewCenturySchlbk-Italic SF
39797 XM
(name)SH
/NewCenturySchlbk-Roman SF
42892 XM
(must match exactly)19 W
6120 13702 MT
(one existing filesystem.  The)144 W
/NewCenturySchlbk-Italic SF
21624 XM
(new name)144 W
/NewCenturySchlbk-Roman SF
27312 XM
(must either match the existing one or be unique)145 W
6120 14939 MT
(among the filesystems.)157 W
/NewCenturySchlbk-Italic SF
19022 XM
(fstype)SH
/NewCenturySchlbk-Roman SF
22397 XM
(is one of)157 W
/NewCenturySchlbk-Bold SF
27333 XM
(NFS)SH
/NewCenturySchlbk-Roman SF
30240 XM
(or)SH
/NewCenturySchlbk-Bold SF
31741 XM
(RVD)SH
/NewCenturySchlbk-Roman SF
(.)SH
/NewCenturySchlbk-Italic SF
35621 XM
(machine)SH
/NewCenturySchlbk-Roman SF
40382 XM
(must match)
157 W( exactly one)156 W
6120 16176 MT
(existing machine.)34 W
/NewCenturySchlbk-Italic SF
15807 XM
(owner)SH
/NewCenturySchlbk-Roman SF
19202 XM
(must match exactly one)
34 W( user,)35 W
/NewCenturySchlbk-Italic SF
34581 XM
(owners)SH
/NewCenturySchlbk-Roman SF
38465 XM
(must match exactly one list.)35 W
/NewCenturySchlbk-Italic SF
6120 17413 MT
(create)SH
/NewCenturySchlbk-Roman SF
9759 XM
(is a boolean \0500 = false, non-zero = true\051 indicating that the locker)
362 W( should be)361 W
6120 18650 MT
(automatically created.)328 W
/NewCenturySchlbk-Italic SF
19095 XM
(lockertype)SH
/NewCenturySchlbk-Roman SF
24780 XM
(is a)329 W
/NewCenturySchlbk-Bold SF
27519 XM
(lockertype)SH
/NewCenturySchlbk-Roman SF
34273 XM
(as recorded in the alias database,)329 W
6120 19887 MT
(currently one of)4 W
/NewCenturySchlbk-Bold SF
14468 XM
(SYSTEM, HOMEDIR, PROJECT)4 W
/NewCenturySchlbk-Roman SF
(, or)4 W
/NewCenturySchlbk-Bold SF
34589 XM
(OTHER)SH
/NewCenturySchlbk-Roman SF
(. The)314 W
/NewCenturySchlbk-Italic SF
42182 XM
(packname)SH
/NewCenturySchlbk-Roman SF
47624 XM
(and)SH
/NewCenturySchlbk-Italic SF
49849 XM
(access)SH
/NewCenturySchlbk-Roman SF
6120 21124 MT
(vary depending on the filesystem type.  For an)8 W
/NewCenturySchlbk-Bold SF
30124 XM
(RVD)SH
/NewCenturySchlbk-Roman SF
33086 XM
(filesystem, they may contain anything.)8 W
6120 22361 MT
(For)SH
/NewCenturySchlbk-Bold SF
8291 XM
(NFS)SH
/NewCenturySchlbk-Roman SF
11134 XM
(filesystems, the)93 W
/NewCenturySchlbk-Italic SF
19578 XM
(packname)SH
/NewCenturySchlbk-Roman SF
25109 XM
(must match an existing NFS physical filesystem,)
93 W( and)92 W
/NewCenturySchlbk-Italic SF
6120 23598 MT
(access)SH
/NewCenturySchlbk-Roman SF
9873 XM
(must be one of)376 W
/NewCenturySchlbk-Bold SF
19042 XM
(r)SH
/NewCenturySchlbk-Roman SF
20295 XM
(or)SH
/NewCenturySchlbk-Bold SF
22015 XM
(w)SH
/NewCenturySchlbk-Roman SF
(. The)
1058 W( filesystem's modtime will be updated.)
376 W( Errors:)1060 W
6120 24835 MT
(MR_NOT_UNIQUE "Arguments not unique" if the)35 W
/NewCenturySchlbk-Italic SF
32462 XM
(new name)34 W
/NewCenturySchlbk-Roman SF
37929 XM
(does not either match the old)34 W
6120 26072 MT
(one or is unique among filesystems, MR_FSTYPE "Invalid filesys type" if the)29 W
/NewCenturySchlbk-Italic SF
45879 XM
(fstype)SH
/NewCenturySchlbk-Roman SF
49127 XM
(is not a)30 W
6120 27309 MT
(valid)SH
/NewCenturySchlbk-Bold SF
9152 XM
(filesys)SH
/NewCenturySchlbk-Roman SF
13283 XM
(type, MR_TYPE "Invalid type" if the)195 W
/NewCenturySchlbk-Italic SF
33289 XM
(lockertype)SH
/NewCenturySchlbk-Roman SF
38840 XM
(is not a valid)195 W
/NewCenturySchlbk-Bold SF
46495 XM
(lockertype)SH
/NewCenturySchlbk-Roman SF
(,)SH
6120 28546 MT
(MR_MACHINE "No such machine" if the)347 W
/NewCenturySchlbk-Italic SF
29436 XM
(machine)SH
/NewCenturySchlbk-Roman SF
34387 XM
(name does not match exactly)
347 W( one)348 W
6120 29783 MT
(machine, MR_USER "No such user" if the)5 W
/NewCenturySchlbk-Italic SF
27719 XM
(owner)SH
/NewCenturySchlbk-Roman SF
31085 XM
(does not match exactly)
5 W( one user, MR_LIST)4 W
6120 31020 MT
("No such list" if the)116 W
/NewCenturySchlbk-Italic SF
16877 XM
(owners)SH
/NewCenturySchlbk-Roman SF
20842 XM
(does not match exactly one list,)
116 W( MR_NFS "Specified directory)117 W
6120 32257 MT
(not exported" if)
366 W( the)365 W
/NewCenturySchlbk-Italic SF
17673 XM
(machine)SH
/NewCenturySchlbk-Roman SF
22642 XM
(and)SH
/NewCenturySchlbk-Italic SF
25229 XM
(packname)SH
/NewCenturySchlbk-Roman SF
31032 XM
(do not match an existing NFS physical)365 W
6120 33494 MT
(partition, or MR_FILESYS_ACCESS if the)SH
/NewCenturySchlbk-Italic SF
28237 XM
(fstype)SH
/NewCenturySchlbk-Roman SF
31455 XM
(is)SH
/NewCenturySchlbk-Bold SF
32618 XM
(NFS)SH
/NewCenturySchlbk-Roman SF
35368 XM
(and the)SH
/NewCenturySchlbk-Italic SF
39548 XM
(access)SH
/NewCenturySchlbk-Roman SF
42925 XM
(mode is not)SH
/NewCenturySchlbk-Bold SF
49061 XM
(r)SH
/NewCenturySchlbk-Roman SF
49938 XM
(or)SH
/NewCenturySchlbk-Bold SF
51282 XM
(w)SH
/NewCenturySchlbk-Roman SF
(.)SH
/NewCenturySchlbk-Bold SF
6931 35721 MT
(delete_filesys)SH
/NewCenturySchlbk-Roman SF
6120 37948 MT
(Args: name)SH
2382 50 6120 38148 UL
6120 40175 MT
(Returns: none)SH
4116 50 6120 40375 UL
6120 42402 MT
(Deletes a filesystem from the database.)
339 W( The)985 W
/NewCenturySchlbk-Italic SF
31730 XM
(name)SH
/NewCenturySchlbk-Roman SF
35146 XM
(must match exactly one existing)340 W
6120 43639 MT
(filesystem. Any)
374 W( quotas assigned to that)
34 W( filesystem will be deleted, and the allocation count)33 W
6120 44876 MT
(on the nfs physical partition)
95 W( will be decremented accordingly.  Errors:  MR_FILESYS "No)96 W
6120 46113 MT
(such file system" if the name does not match an existing filesystem.)SH
/NewCenturySchlbk-Bold SF
6931 48340 MT
(get_all_nfsphys)SH
/NewCenturySchlbk-Roman SF
6120 50567 MT
(Args: none)SH
2382 50 6120 50767 UL
6120 52794 MT
(Returns: {machine, dir, device, status, allocated, size, modtime, modby, modwith})SH
4116 50 6120 52994 UL
6120 55021 MT
(Retrieves information about NFS physical filesystems.  These are the filesystems)
18 W( which are)17 W
6120 56258 MT
(exported by NFS servers.)SH
/NewCenturySchlbk-Bold SF
6931 58485 MT
(get_nfsphys)SH
/NewCenturySchlbk-Roman SF
6120 60712 MT
(Args: {machine, dir})SH
2382 50 6120 60912 UL
6120 62939 MT
(Returns: {machine, dir, device, status, allocated, size, modtime, modby, modwith})SH
4116 50 6120 63139 UL
6120 65166 MT
(Retrieves information about a specific)
87 W( NFS physical filesystem.  The)88 W
/NewCenturySchlbk-Italic SF
42065 XM
(machine)SH
/NewCenturySchlbk-Roman SF
46757 XM
(must match)88 W
6120 66403 MT
(exactly one existing machine.  The)408 W
/NewCenturySchlbk-Italic SF
26410 XM
(dir)SH
/NewCenturySchlbk-Roman SF
(ectory name)
408 W( may contain wildcards.  Errors:)407 W
6120 67640 MT
(MR_MACHINE "No such machine" if the)347 W
/NewCenturySchlbk-Italic SF
29436 XM
(machine)SH
/NewCenturySchlbk-Roman SF
34387 XM
(name does not match exactly)
347 W( one)348 W
6120 68877 MT
(existing machine.)SH
/NewCenturySchlbk-Bold SF
6931 71104 MT
(add_nfsphys)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 55 55
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 55)SH
11 /NewCenturySchlbk-Roman AF
8280 8011 MT
(Args: {machine, directory, device, status, allocated, size})SH
2382 50 8280 8211 UL
8280 10238 MT
(Returns: none)SH
4116 50 8280 10438 UL
8280 12465 MT
(Adds a new NFS physical filesystem to the database.)
230 W( The)765 W
/NewCenturySchlbk-Italic SF
40595 XM
(machine)SH
/NewCenturySchlbk-Roman SF
45428 XM
(name must match)229 W
8280 13702 MT
(exactly one existing machine.)
201 W( The)709 W
/NewCenturySchlbk-Italic SF
27330 XM
(directory)SH
/NewCenturySchlbk-Roman SF
32318 XM
(and)SH
/NewCenturySchlbk-Italic SF
34742 XM
(device)SH
/NewCenturySchlbk-Roman SF
38325 XM
(must be unique among existing)202 W
8280 14939 MT
(NFS physical filesystems for this machine.)368 W
/NewCenturySchlbk-Italic SF
33201 XM
(status)SH
/NewCenturySchlbk-Roman SF
36930 XM
(is an integer, with bit encodings)367 W
/NewCenturySchlbk-Bold SF
8280 16176 MT
(MR_FS_STUDENT, MR_FS_FACULTY,)
150 W( MR_FS_STAFF)151 W
/NewCenturySchlbk-Roman SF
(, or)151 W
/NewCenturySchlbk-Bold SF
41534 XM
(MR_FS_MISC)SH
/NewCenturySchlbk-Roman SF
49752 XM
(as defined)151 W
8280 17413 MT
(in)SH
/NewCenturySchlbk-Italic SF
9637 XM
(<mr.h>)SH
/NewCenturySchlbk-Roman SF
(.)SH
/NewCenturySchlbk-Italic SF
14394 XM
(allocated)SH
/NewCenturySchlbk-Roman SF
19313 XM
(keeps track of quota allocation, the initial value)
30 W( should be zero unless)29 W
8280 18650 MT
(there is)
112 W( something besides lockers on this filesystem.)113 W
/NewCenturySchlbk-Italic SF
36859 XM
(size)SH
/NewCenturySchlbk-Roman SF
39130 XM
(is the actual size \050in blocks\051 of)113 W
8280 19887 MT
(the filesystem.  The modtime will be set for this filesystem.)
143 W( Errors:)
590 W( MR_MACHINE "No)142 W
8280 21124 MT
(such machine" if the)SH
/NewCenturySchlbk-Italic SF
18964 XM
(machine)SH
/NewCenturySchlbk-Roman SF
23568 XM
(name does not match exactly one existing machine.)SH
/NewCenturySchlbk-Bold SF
9091 23351 MT
(update_nfsphys)SH
/NewCenturySchlbk-Roman SF
8280 25578 MT
(Args: {machine, directory, device, status, allocated, size})SH
2382 50 8280 25778 UL
8280 27805 MT
(Returns: none)SH
4116 50 8280 28005 UL
8280 30032 MT
(Changes information about an NFS)
253 W( physical filesystem in the database.  The)254 W
/NewCenturySchlbk-Italic SF
50782 XM
(machine)SH
/NewCenturySchlbk-Roman SF
8280 31269 MT
(name must match)
3 W( exactly one existing machine.  The)2 W
/NewCenturySchlbk-Italic SF
35642 XM
(directory)SH
/NewCenturySchlbk-Roman SF
40430 XM
(must match an existing NFS)2 W
8280 32506 MT
(physical filesystem on)
168 W( that machine.  The remaining arguments will replace the current)169 W
8280 33743 MT
(values of those fields.)
101 W( The)
507 W( modtime will be updated for this filesystem.  Errors: "No such)100 W
8280 34980 MT
(machine" if the)SH
/NewCenturySchlbk-Italic SF
16315 XM
(machine)SH
/NewCenturySchlbk-Roman SF
20919 XM
(name does not match exactly one existing machine.)SH
/NewCenturySchlbk-Bold SF
9091 37207 MT
(adjust_nfsphys_allocation)SH
/NewCenturySchlbk-Roman SF
8280 39434 MT
(Args: {machine, directory, delta})SH
2382 50 8280 39634 UL
8280 41661 MT
(Returns: none)SH
4116 50 8280 41861 UL
8280 43888 MT
(Changes the allocation for)
127 W( an NFS physical filesystem.)128 W
/NewCenturySchlbk-Italic SF
37895 XM
(machine)SH
/NewCenturySchlbk-Roman SF
42627 XM
(must match exactly one)128 W
8280 45125 MT
(existing machine.)319 W
/NewCenturySchlbk-Italic SF
18821 XM
(directory)SH
/NewCenturySchlbk-Roman SF
23925 XM
(must match an existing NFS physical filesystem on that)318 W
8280 46362 MT
(machine. The)
458 W( current allocation for this filesystem will have)76 W
/NewCenturySchlbk-Italic SF
40301 XM
(delta)SH
/NewCenturySchlbk-Roman SF
43230 XM
(\050which may be)
76 W( positive)77 W
8280 47599 MT
(or negative\051 added to it.  Errors: MR_MACHINE)
109 W( "No such machine" if the)108 W
/NewCenturySchlbk-Italic SF
47555 XM
(machine)SH
/NewCenturySchlbk-Roman SF
52267 XM
(name)SH
8280 48836 MT
(does not match exactly one existing machine.)SH
/NewCenturySchlbk-Bold SF
9091 51063 MT
(delete_nfsphys)SH
/NewCenturySchlbk-Roman SF
8280 53290 MT
(Args: {machine, directory})SH
2382 50 8280 53490 UL
8280 55517 MT
(Returns: none)SH
4116 50 8280 55717 UL
8280 57744 MT
(Deletes an NFS physical filesystem from)
176 W( the database.  The)177 W
/NewCenturySchlbk-Italic SF
40751 XM
(machine)SH
/NewCenturySchlbk-Roman SF
45532 XM
(name must match)177 W
8280 58981 MT
(exactly one existing machine.  The)155 W
/NewCenturySchlbk-Italic SF
27052 XM
(directory)SH
/NewCenturySchlbk-Roman SF
31992 XM
(name must match exactly one existing NFS)154 W
8280 60218 MT
(physical filesystem)
238 W( on that machine.  The physical filesystem must not be in use with)239 W
8280 61455 MT
(logical filesystems.)
124 W( Errors:)
552 W( MR_MACHINE "No such machine" if the)123 W
/NewCenturySchlbk-Italic SF
44871 XM
(machine)SH
/NewCenturySchlbk-Roman SF
49598 XM
(name does)123 W
8280 62692 MT
(not match exactly one existing machine,)
64 W( or MR_IN_USE "Object is in use" if there are any)65 W
8280 63929 MT
(filesystems assigned to this partition.)SH
/NewCenturySchlbk-Bold SF
9091 66156 MT
(get_nfs_quota)SH
/NewCenturySchlbk-Roman SF
8280 68383 MT
(Args: {filesys, login})SH
2382 50 8280 68583 UL
8280 70610 MT
(Returns: {filesys,login, quota, directory, machine, modtime, modby, modwith})SH
4116 50 8280 70810 UL
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 56 56
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 56, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(Retrieves the quotas assigned to the named filesystems and user.)
9 W( The)323 W
/NewCenturySchlbk-Italic SF
42329 XM
(filesystem)SH
/NewCenturySchlbk-Roman SF
47612 XM
(name may)8 W
6120 9248 MT
(contain wildcards.)
246 W( The)800 W
/NewCenturySchlbk-Italic SF
19278 XM
(login)SH
/NewCenturySchlbk-Roman SF
22379 XM
(name must match exactly one user.  This query may be)247 W
6120 10485 MT
(executed by the owner of the target filesystem.)SH
/NewCenturySchlbk-Bold SF
6931 12712 MT
(get_nfs_quotas_by_partition)SH
/NewCenturySchlbk-Roman SF
6120 14939 MT
(Args: {machine, directory})SH
2382 50 6120 15139 UL
6120 17166 MT
(Returns: {filesys, login, quota, directory, machine})SH
4116 50 6120 17366 UL
6120 19393 MT
(Retrieves the quotas assigned to a given device.  The)217 W
/NewCenturySchlbk-Italic SF
35383 XM
(machine)SH
/NewCenturySchlbk-Roman SF
40203 XM
(must match exactly one)216 W
6120 20630 MT
(existing machine.)
39 W( The)386 W
/NewCenturySchlbk-Italic SF
18127 XM
(directory)SH
/NewCenturySchlbk-Roman SF
22953 XM
(name may contain wildcards.  Errors: MR_MACHINE "No)40 W
6120 21867 MT
(such machine" if the)SH
/NewCenturySchlbk-Italic SF
16804 XM
(machine)SH
/NewCenturySchlbk-Roman SF
21408 XM
(name does not match exactly one existing machine.)SH
/NewCenturySchlbk-Bold SF
6931 24094 MT
(add_nfs_quota)SH
/NewCenturySchlbk-Roman SF
6120 26321 MT
(Args: {filesystem, login, quota})SH
2382 50 6120 26521 UL
6120 28548 MT
(Returns: none)SH
4116 50 6120 28748 UL
6120 30775 MT
(Adds a new quota to the database.  The)110 W
/NewCenturySchlbk-Italic SF
27457 XM
(filesystem)SH
/NewCenturySchlbk-Roman SF
32842 XM
(name must match exactly one existing)109 W
6120 32012 MT
(filesystem. The)474 W
/NewCenturySchlbk-Italic SF
14732 XM
(login)SH
/NewCenturySchlbk-Roman SF
17670 XM
(name must)
84 W( match exactly one existing user.  The)85 W
/NewCenturySchlbk-Italic SF
43674 XM
(quota)SH
/NewCenturySchlbk-Roman SF
46919 XM
(may be any)85 W
6120 33249 MT
(positive integer.  The modtime)
13 W( on the quota record will be set.  The allocation count for that)12 W
6120 34486 MT
(NFS physical filesystem will also be updated.  Errors:)
40 W( MR_FILESYS)
388 W( "No such file system")41 W
6120 35723 MT
(if the)207 W
/NewCenturySchlbk-Italic SF
9513 XM
(filesystem)SH
/NewCenturySchlbk-Roman SF
14995 XM
(does not match exactly one existing filesystem, or MR_USER "No such)207 W
6120 36960 MT
(user" if the)SH
/NewCenturySchlbk-Italic SF
12053 XM
(login)SH
/NewCenturySchlbk-Roman SF
14907 XM
(name does not match exactly one existing user.)SH
/NewCenturySchlbk-Bold SF
6931 39187 MT
(update_nfs_quota)SH
/NewCenturySchlbk-Roman SF
6120 41414 MT
(Args: {filesystem, login, quota})SH
2382 50 6120 41614 UL
6120 43641 MT
(Returns: none)SH
4116 50 6120 43841 UL
6120 45868 MT
(Changes a quota in the database.)
153 W( The)614 W
/NewCenturySchlbk-Italic SF
27188 XM
(filesystem)SH
/NewCenturySchlbk-Roman SF
32617 XM
(name must match exactly one existing)154 W
6120 47105 MT
(filesystem. The)360 W
/NewCenturySchlbk-Italic SF
14561 XM
(login)SH
/NewCenturySchlbk-Roman SF
17442 XM
(name must match exactly)
27 W( one existing user, and that user must have)26 W
6120 48342 MT
(a quota)
245 W( assigned on that filesystem.  The quota may be any positive integer, and will)246 W
6120 49579 MT
(replace the existing)
140 W( quota.  The modtime on the quota record will be set.  The allocation)139 W
6120 50816 MT
(count for that NFS physical filesystem will also be updated.)
189 W( Errors:)
686 W( MR_FILESYS "No)190 W
6120 52053 MT
(such file system" if the)348 W
/NewCenturySchlbk-Italic SF
19707 XM
(filesystem)SH
/NewCenturySchlbk-Roman SF
25330 XM
(does not match exactly)
348 W( one existing filesystem, or)347 W
6120 53290 MT
(MR_USER "No such user" if the)SH
/NewCenturySchlbk-Italic SF
22750 XM
(login)SH
/NewCenturySchlbk-Roman SF
25604 XM
(name does not match exactly one existing user.)SH
/NewCenturySchlbk-Bold SF
6931 55517 MT
(delete_nfs_quota)SH
/NewCenturySchlbk-Roman SF
6120 57744 MT
(Args: {filesystem, login})SH
2382 50 6120 57944 UL
6120 59971 MT
(Returns: none)SH
4116 50 6120 60171 UL
6120 62198 MT
(Deletes a)
99 W( quota from the database.  The)100 W
/NewCenturySchlbk-Italic SF
27512 XM
(filesystem)SH
/NewCenturySchlbk-Roman SF
32887 XM
(name must match exactly one existing)100 W
6120 63435 MT
(filesystem. The)360 W
/NewCenturySchlbk-Italic SF
14561 XM
(login)SH
/NewCenturySchlbk-Roman SF
17442 XM
(name must match exactly)
27 W( one existing user, and that user must have)26 W
6120 64672 MT
(a quota assigned on that filesystem.  The allocation count for)
55 W( that NFS physical filesystem)56 W
6120 65909 MT
(will also)
50 W( be updated.  Errors: MR_FILESYS "No such file system" if the)49 W
/NewCenturySchlbk-Italic SF
43349 XM
(filesystem)SH
/NewCenturySchlbk-Roman SF
48673 XM
(does not)49 W
6120 67146 MT
(match exactly one existing filesystem, or MR_USER "No such user" if the)71 W
/NewCenturySchlbk-Italic SF
44563 XM
(login)SH
/NewCenturySchlbk-Roman SF
47489 XM
(name does)72 W
6120 68383 MT
(not match exactly one existing user.)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 57 57
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 57)SH
/Helvetica-BoldOblique SF
8280 7929 MT
(7.0.6. Zephyr)SH
11 /NewCenturySchlbk-Bold AF
9091 9889 MT
(get_zephyr_class)SH
/NewCenturySchlbk-Roman SF
8280 12116 MT
(Args: class)SH
2382 50 8280 12316 UL
8280 14343 MT
(Returns: {class, xmttype, xmtname, subtype, subname, iwstype, iwsname, iuitype,)
26 W( iuiname,)25 W
4116 50 8280 14543 UL
8280 15580 MT
(modtime, modby, modwith})SH
8280 17807 MT
(Retrieves zephyr class information)
356 W( from the database.  The)357 W
/NewCenturySchlbk-Italic SF
41862 XM
(class)SH
/NewCenturySchlbk-Roman SF
44987 XM
(name may contain)357 W
8280 19044 MT
(wildcards. There)
492 W( are four pairs of types and names:  each type is one)
93 W( of)92 W
/NewCenturySchlbk-Bold SF
46432 XM
(USER, LIST)92 W
/NewCenturySchlbk-Roman SF
(, or)92 W
/NewCenturySchlbk-Bold SF
8280 20281 MT
(NONE)SH
/NewCenturySchlbk-Roman SF
(, and each name is a login name, a list name, or)SH
/NewCenturySchlbk-Bold SF
36394 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, respectively.)SH
/NewCenturySchlbk-Bold SF
9091 22508 MT
(add_zephyr_class)SH
/NewCenturySchlbk-Roman SF
8280 24735 MT
(Args: {class, xmttype, xmtname, subtype, subname, iwstype, iwsname, iuitype, iuiname})SH
2382 50 8280 24935 UL
8280 26962 MT
(Returns: none)SH
4116 50 8280 27162 UL
8280 29189 MT
(Adds a new zephyr class to the database.  The)228 W
/NewCenturySchlbk-Italic SF
34265 XM
(class)SH
/NewCenturySchlbk-Roman SF
37261 XM
(name must be unique among the)228 W
8280 30426 MT
(existing class names.  There are four pairs of types and names: each type is one of)72 W
/NewCenturySchlbk-Bold SF
51392 XM
(USER,)SH
8280 31663 MT
(LIST)SH
/NewCenturySchlbk-Roman SF
(, or)45 W
/NewCenturySchlbk-Bold SF
13136 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, and each name)
45 W( is a login name, a list name, or)46 W
/NewCenturySchlbk-Bold SF
41799 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, respectively.  The)46 W
8280 32900 MT
(class's modtime will be updated.)SH
/NewCenturySchlbk-Bold SF
9091 35127 MT
(update_zephyr_class)SH
/NewCenturySchlbk-Roman SF
8280 37354 MT
(Args: {class, newclass,)
179 W( xmttype, xmtname, subtype, subname, iwstype, iwsname, iuitype,)178 W
2382 50 8280 37554 UL
8280 38591 MT
(iuiname})SH
8280 40818 MT
(Returns: none)SH
4116 50 8280 41018 UL
8280 43045 MT
(Change a zephyr class in the database.)
120 W( The)548 W
/NewCenturySchlbk-Italic SF
32053 XM
(class)SH
/NewCenturySchlbk-Roman SF
34942 XM
(name must match exactly one existing)121 W
8280 44282 MT
(class. The)424 W
/NewCenturySchlbk-Italic SF
14104 XM
(new class)59 W
/NewCenturySchlbk-Roman SF
19313 XM
(name must)
59 W( either match the old one or be unique among the existing)58 W
8280 45519 MT
(class names.  There are four pairs of types and names: each type is one of)44 W
/NewCenturySchlbk-Bold SF
46527 XM
(USER, LIST)44 W
/NewCenturySchlbk-Roman SF
(, or)45 W
/NewCenturySchlbk-Bold SF
8280 46756 MT
(NONE)SH
/NewCenturySchlbk-Roman SF
(, and each name is a login)
128 W( name, a list name, or)127 W
/NewCenturySchlbk-Bold SF
37924 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, respectively.  The class's)127 W
8280 47993 MT
(modtime will be updated.)SH
/NewCenturySchlbk-Bold SF
9091 50220 MT
(delete_zephyr_class)SH
/NewCenturySchlbk-Roman SF
8280 52447 MT
(Args: class)SH
2382 50 8280 52647 UL
8280 54674 MT
(Returns: none)SH
4116 50 8280 54874 UL
8280 56901 MT
(Deletes a zephyr class from the database.)
36 W( The)379 W
/NewCenturySchlbk-Italic SF
32557 XM
(class)SH
/NewCenturySchlbk-Roman SF
35362 XM
(name must match exactly one existing)37 W
8280 58138 MT
(class.)SH
10 /Helvetica-BoldOblique AF
8280 60965 MT
(7.0.7. Miscellaneous)SH
11 /NewCenturySchlbk-Bold AF
9091 62925 MT
(get_server_host_access)SH
/NewCenturySchlbk-Roman SF
8280 65152 MT
(Args: machine)SH
2382 50 8280 65352 UL
8280 67379 MT
(Returns: {machine, ace_type, ace_name, modtime, modby, modwith})SH
4116 50 8280 67579 UL
8280 69606 MT
(Returns information about who has access to a given machine.)
8 W( This)
320 W( will be used to load the)7 W
/NewCenturySchlbk-Italic SF
8280 70843 MT
(/.klogin)SH
/NewCenturySchlbk-Roman SF
12799 XM
(file on that machine.  The)80 W
/NewCenturySchlbk-Italic SF
26679 XM
(machine)SH
/NewCenturySchlbk-Roman SF
31363 XM
(name may contain wildcards.)
80 W( The)467 W
/NewCenturySchlbk-Italic SF
49622 XM
(ace_type)SH
/NewCenturySchlbk-Roman SF
54223 XM
(is)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 58 58
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 58, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(either)SH
/NewCenturySchlbk-Bold SF
9596 XM
(USER)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
13722 XM
(LIST)SH
/NewCenturySchlbk-Roman SF
(, or)132 W
/NewCenturySchlbk-Bold SF
18752 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, and)
132 W( the)131 W
/NewCenturySchlbk-Italic SF
27521 XM
(ace_name)SH
/NewCenturySchlbk-Roman SF
32885 XM
(is either a login name, a list name, or)131 W
/NewCenturySchlbk-Bold SF
6120 9248 MT
(NONE)SH
/NewCenturySchlbk-Roman SF
(, respectively.)SH
/NewCenturySchlbk-Bold SF
6931 11475 MT
(add_server_host_access)SH
/NewCenturySchlbk-Roman SF
6120 13702 MT
(Args: {machine, ace_type, ace_name})SH
2382 50 6120 13902 UL
6120 15929 MT
(Returns: none)SH
4116 50 6120 16129 UL
6120 18156 MT
(Adds information about who has access to)
86 W( a given machine to the database.  The)87 W
/NewCenturySchlbk-Italic SF
48622 XM
(machine)SH
/NewCenturySchlbk-Roman SF
6120 19393 MT
(name must match exactly one existing machine.)
141 W( The)587 W
/NewCenturySchlbk-Italic SF
34729 XM
(ace_type)SH
/NewCenturySchlbk-Roman SF
39389 XM
(is either)140 W
/NewCenturySchlbk-Bold SF
44176 XM
(USER, LIST)140 W
/NewCenturySchlbk-Roman SF
(, or)140 W
/NewCenturySchlbk-Bold SF
6120 20630 MT
(NONE)SH
/NewCenturySchlbk-Roman SF
(, and the)47 W
/NewCenturySchlbk-Italic SF
14636 XM
(ace_name)SH
/NewCenturySchlbk-Roman SF
19916 XM
(is either a login name, a list name, or)47 W
/NewCenturySchlbk-Bold SF
39633 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, respectively.  The)48 W
6120 21867 MT
(modtime on the record will)
254 W( be set.  Errors:  MR_MACHINE "No such machine" if the)253 W
/NewCenturySchlbk-Italic SF
6120 23104 MT
(machine)SH
/NewCenturySchlbk-Roman SF
11015 XM
(name does not match exactly one existing machine, MR_ACE)
291 W( "Invalid access)292 W
6120 24341 MT
(control entity" if the)SH
/NewCenturySchlbk-Italic SF
16685 XM
(ace_type)SH
/NewCenturySchlbk-Roman SF
21205 XM
(and)SH
/NewCenturySchlbk-Italic SF
23427 XM
(ace_name)SH
/NewCenturySchlbk-Roman SF
28660 XM
(together do not specify a valid entity.)SH
/NewCenturySchlbk-Bold SF
6931 26568 MT
(update_server_host_access)SH
/NewCenturySchlbk-Roman SF
6120 28795 MT
(Args: {machine, ace_type, ace_name})SH
2382 50 6120 28995 UL
6120 31022 MT
(Returns: none)SH
4116 50 6120 31222 UL
6120 33249 MT
(Updates the information about who has access to a given machine.  The)189 W
/NewCenturySchlbk-Italic SF
45315 XM
(machine)SH
/NewCenturySchlbk-Roman SF
50107 XM
(name)SH
6120 34486 MT
(must match exactly one existing machine.)
63 W( The)434 W
/NewCenturySchlbk-Italic SF
30850 XM
(ace_type)SH
/NewCenturySchlbk-Roman SF
35434 XM
(is either)64 W
/NewCenturySchlbk-Bold SF
40069 XM
(USER, LIST)64 W
/NewCenturySchlbk-Roman SF
(, or)64 W
/NewCenturySchlbk-Bold SF
49031 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(,)SH
6120 35723 MT
(and the)12 W
/NewCenturySchlbk-Italic SF
10324 XM
(ace_name)SH
/NewCenturySchlbk-Roman SF
15569 XM
(is either a)
12 W( login name, a list name, or)11 W
/NewCenturySchlbk-Bold SF
34963 XM
(NONE)SH
/NewCenturySchlbk-Roman SF
(, respectively.  The modtime)11 W
6120 36960 MT
(on the record will be updated.  Errors:  MR_MACHINE)
86 W( "No such machine" if the)87 W
/NewCenturySchlbk-Italic SF
48622 XM
(machine)SH
/NewCenturySchlbk-Roman SF
6120 38197 MT
(name does not match exactly one)
19 W( existing machine, MR_ACE "Invalid access control entity")18 W
6120 39434 MT
(if the)SH
/NewCenturySchlbk-Italic SF
9099 XM
(ace_type)SH
/NewCenturySchlbk-Roman SF
13619 XM
(and)SH
/NewCenturySchlbk-Italic SF
15841 XM
(ace_name)SH
/NewCenturySchlbk-Roman SF
21074 XM
(together do not specify a valid entity.)SH
/NewCenturySchlbk-Bold SF
6931 41661 MT
(delete_server_host_access)SH
/NewCenturySchlbk-Roman SF
6120 43888 MT
(Args: machine)SH
2382 50 6120 44088 UL
6120 46115 MT
(Returns: none)SH
4116 50 6120 46315 UL
6120 48342 MT
(Updates the information)
188 W( about who has access to a given machine.  The)189 W
/NewCenturySchlbk-Italic SF
45314 XM
(machine)SH
/NewCenturySchlbk-Roman SF
50107 XM
(name)SH
6120 49579 MT
(must match exactly one existing machine.)SH
/NewCenturySchlbk-Bold SF
6931 51806 MT
(add_service)SH
/NewCenturySchlbk-Roman SF
6120 54033 MT
(Args: {service, protocol, port, description})SH
2382 50 6120 54233 UL
6120 56260 MT
(Returns: none)SH
4116 50 6120 56460 UL
6120 58487 MT
(Adds information)
21 W( about a new network service to the database.  The service name must not)20 W
6120 59724 MT
(match any existing services.  The protocol must be listed as a "protocol" in the aliases)229 W
6120 60961 MT
(database, currently "UDP" and "TCP".)SH
/NewCenturySchlbk-Bold SF
6931 63188 MT
(delete_service)SH
/NewCenturySchlbk-Roman SF
6120 65415 MT
(Args: service)SH
2382 50 6120 65615 UL
6120 67642 MT
(Returns: none)SH
4116 50 6120 67842 UL
6120 69869 MT
(Deletes information about a network service from the database.  The service)
155 W( name must)154 W
6120 71106 MT
(match exactly one existing service.})SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 59 59
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 59)SH
11 /NewCenturySchlbk-Bold AF
9091 8011 MT
(get_printcap)SH
/NewCenturySchlbk-Roman SF
8280 10238 MT
(Args: printer)SH
2382 50 8280 10438 UL
8280 12465 MT
(Returns: {printer, spool_host,)
577 W( spool_directory, rprinter, comments, modtime, modby,)578 W
4116 50 8280 12665 UL
8280 13702 MT
(modwith})SH
8280 15929 MT
(Retrieves information about a printer.  The)50 W
/NewCenturySchlbk-Italic SF
30955 XM
(printer)SH
/NewCenturySchlbk-Roman SF
34834 XM
(name may contain wildcards.  It)
50 W( is safe)49 W
8280 17166 MT
(for this query's ACL to be the list containing everybody.)SH
/NewCenturySchlbk-Bold SF
9091 19393 MT
(add_printcap)SH
/NewCenturySchlbk-Roman SF
8280 21620 MT
(Args: {printer, spool_host, spool_directory, rprinter, comments})SH
2382 50 8280 21820 UL
8280 23847 MT
(Returns: none)SH
4116 50 8280 24047 UL
8280 26074 MT
(Adds information about a new printer to the database.)
82 W( The)472 W
/NewCenturySchlbk-Italic SF
39767 XM
(printer)SH
/NewCenturySchlbk-Roman SF
43679 XM
(name must not match)83 W
8280 27311 MT
(any existing printers.)43 W
/NewCenturySchlbk-Italic SF
20013 XM
(spool_host)SH
/NewCenturySchlbk-Roman SF
25597 XM
(must name exactly one existing machine in the database.)43 W
8280 28548 MT
(The printer's modtime will be set.  Error: MR_MACHINE if)231 W
/NewCenturySchlbk-Italic SF
41159 XM
(spool_host)SH
/NewCenturySchlbk-Roman SF
46932 XM
(does not match)232 W
8280 29785 MT
(exactly one machine.)SH
/NewCenturySchlbk-Bold SF
9091 32012 MT
(delete_printcap)SH
/NewCenturySchlbk-Roman SF
8280 34239 MT
(Args: printer)SH
2382 50 8280 34439 UL
8280 36466 MT
(Returns: none)SH
4116 50 8280 36666 UL
8280 38693 MT
(Deletes information about a printer from the database.  The)227 W
/NewCenturySchlbk-Italic SF
41378 XM
(printer)SH
/NewCenturySchlbk-Roman SF
45434 XM
(name must match)226 W
8280 39930 MT
(exactly one existing printer.)SH
/NewCenturySchlbk-Bold SF
9091 42157 MT
(get_alias)SH
/NewCenturySchlbk-Roman SF
8280 44384 MT
(Args: {name, type, translation})SH
2382 50 8280 44584 UL
8280 46611 MT
(Returns: {name, type, translation})SH
4116 50 8280 46811 UL
8280 48838 MT
(Looks up an alias in the alias database.)
122 W( This)
551 W( database is used both for user information)123 W
8280 50075 MT
(like alternate names of filesystems, and keyword validation for various queries.)
65 W( Note)
435 W( that)64 W
8280 51312 MT
(type validation entries are)
204 W( of the form \050)205 W
/NewCenturySchlbk-Italic SF
([type name, usually in lower case])205 W
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
48582 XM
(TYPE)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Italic SF
52657 XM
([type)SH
8280 52549 MT
(string, always in upper case])168 W
/NewCenturySchlbk-Roman SF
(\051. Some)
642 W( type validation entries are used)
168 W( to further identify)167 W
8280 53786 MT
(another field.)
223 W( These)
753 W( have entries of the form \050)224 W
/NewCenturySchlbk-Italic SF
([type string in uppercase])224 W
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
48136 XM
(TYPEDATA)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Italic SF
8280 55023 MT
([type, one of:)140 W
/NewCenturySchlbk-Bold SF
15281 XM
(none, user, list, string, machine)140 W
/NewCenturySchlbk-Italic SF
(])SH
/NewCenturySchlbk-Roman SF
(\051. The)586 W
/NewCenturySchlbk-Italic SF
38120 XM
(name, type)139 W
/NewCenturySchlbk-Roman SF
(, and)139 W
/NewCenturySchlbk-Italic SF
46810 XM
(translation)SH
/NewCenturySchlbk-Roman SF
52899 XM
(may)SH
8280 56260 MT
(contain wildcards.  It is safe for this query to be the list containing everybody.)SH
/NewCenturySchlbk-Bold SF
9091 58487 MT
(add_alias)SH
/NewCenturySchlbk-Roman SF
8280 60714 MT
(Args: {name, type, translation})SH
2382 50 8280 60914 UL
8280 62941 MT
(Returns: none)SH
4116 50 8280 63141 UL
8280 65168 MT
(Adds a new alias to the alias database.)
65 W( The)437 W
/NewCenturySchlbk-Italic SF
31567 XM
(type)SH
/NewCenturySchlbk-Roman SF
33996 XM
(must be a known type as recorded under)66 W
/NewCenturySchlbk-Bold SF
8280 66405 MT
(alias)SH
/NewCenturySchlbk-Roman SF
11577 XM
(in the alias database.  Duplicate translations for a given \050name,)
299 W( type\051 pair are)298 W
8280 67642 MT
(allowed. Note)
644 W( that type validation)
169 W( entries are of the form \050)170 W
/NewCenturySchlbk-Italic SF
([type name, usually in lower)170 W
8280 68879 MT
(case])SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
11413 XM
(TYPE)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Italic SF
15343 XM
([type string, always in upper case])60 W
/NewCenturySchlbk-Roman SF
(\051. Some)
426 W( type validation entries are used to)59 W
8280 70116 MT
(further identify another field.)
138 W( These)
584 W( have entries of the form \050)139 W
/NewCenturySchlbk-Italic SF
([type string in uppercase])139 W
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Bold SF
8280 71353 MT
(TYPEDATA)SH
/NewCenturySchlbk-Roman SF
(,)SH
/NewCenturySchlbk-Italic SF
15772 XM
([type, one of:)242 W
/NewCenturySchlbk-Bold SF
23079 XM
(none, user, list, string, machine)242 W
/NewCenturySchlbk-Italic SF
(])SH
/NewCenturySchlbk-Roman SF
(\051. The)790 W
/NewCenturySchlbk-Italic SF
46631 XM
(name, type)241 W
/NewCenturySchlbk-Roman SF
(, and)241 W
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 60 60
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 60, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Italic AF
6120 8011 MT
(translation)SH
/NewCenturySchlbk-Roman SF
12070 XM
(may contain wildcards.)SH
/NewCenturySchlbk-Bold SF
6931 10238 MT
(delete_alias)SH
/NewCenturySchlbk-Roman SF
6120 12465 MT
(Args: {name, type, translation})SH
2382 50 6120 12665 UL
6120 14692 MT
(Returns: none)SH
4116 50 6120 14892 UL
6120 16919 MT
(Deletes an alias from the alias database.  The combination of all three input)
163 W( arguments)164 W
6120 18156 MT
(must match exactly one alias.)SH
/NewCenturySchlbk-Bold SF
6931 20383 MT
(get_value)SH
/NewCenturySchlbk-Roman SF
6120 22610 MT
(Args: variable)SH
2382 50 6120 22810 UL
6120 24837 MT
(Returns: value)SH
4116 50 6120 25037 UL
6120 27064 MT
(Look up a value in the values)
51 W( database.  This is used for DCM flags and Moira internal ID)50 W
6120 28301 MT
(hints. The)410 W
/NewCenturySchlbk-Italic SF
12089 XM
(variable)SH
/NewCenturySchlbk-Roman SF
16602 XM
(name must match exactly)
52 W( one existing value name in the database.  It)53 W
6120 29538 MT
(is safe for this query's)
103 W( ACL to be the list containing everybody.  Errors: MR_NO_MATCH)102 W
6120 30775 MT
("No records in database match query" if)
216 W( the name does not match exactly one variable)217 W
6120 32012 MT
(name.)SH
/NewCenturySchlbk-Bold SF
6931 34239 MT
(add_value)SH
/NewCenturySchlbk-Roman SF
6120 36466 MT
(Args: {variable, value})SH
2382 50 6120 36666 UL
6120 38693 MT
(Returns: none)SH
4116 50 6120 38893 UL
6120 40920 MT
(Adds a new)
115 W( value to the values database.  The)114 W
/NewCenturySchlbk-Italic SF
31096 XM
(variable)SH
/NewCenturySchlbk-Roman SF
35671 XM
(name must be unique among the)114 W
6120 42157 MT
(variables already in the database.  The)SH
/NewCenturySchlbk-Italic SF
26267 XM
(value)SH
/NewCenturySchlbk-Roman SF
29303 XM
(is an integer.)SH
/NewCenturySchlbk-Bold SF
6931 44384 MT
(update_value)SH
/NewCenturySchlbk-Roman SF
6120 46611 MT
(Args: {variable, value})SH
2382 50 6120 46811 UL
6120 48838 MT
(Returns: none)SH
4116 50 6120 49038 UL
6120 51065 MT
(Changes the value of an existing variable in the)
42 W( values database.  The)43 W
/NewCenturySchlbk-Italic SF
42665 XM
(variable)SH
/NewCenturySchlbk-Roman SF
47169 XM
(name must)43 W
6120 52302 MT
(match exactly one existing variable.  Its)187 W
/NewCenturySchlbk-Italic SF
28025 XM
(value)SH
/NewCenturySchlbk-Roman SF
31248 XM
(will be)
187 W( replaced with the supplied value.)186 W
6120 53539 MT
(Errors: MR_NO_MATCH)
840 W( "No records in database match)
267 W( query" if the name does not)268 W
6120 54776 MT
(match exactly one variable name.)SH
/NewCenturySchlbk-Bold SF
6931 57003 MT
(delete_value)SH
/NewCenturySchlbk-Roman SF
6120 59230 MT
(Args: variable)SH
2382 50 6120 59430 UL
6120 61457 MT
(Returns: none)SH
4116 50 6120 61657 UL
6120 63684 MT
(Deletes a variable from the)
121 W( values database.  The)120 W
/NewCenturySchlbk-Italic SF
32671 XM
(variable)SH
/NewCenturySchlbk-Roman SF
37252 XM
(name must match exactly one)120 W
6120 64921 MT
(existing variable.  Errors: MR_NO_MATCH "No records in database match query")
165 W( if the)166 W
6120 66158 MT
(name does not match exactly one variable name.)SH
/NewCenturySchlbk-Bold SF
6931 68385 MT
(get_all_table_stats)SH
/NewCenturySchlbk-Roman SF
6120 70612 MT
(Args: none)SH
2382 50 6120 70812 UL
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 61 61
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 61)SH
11 /NewCenturySchlbk-Roman AF
8280 8011 MT
(Returns: {table, retrieves, appends, updates, deletes, modtime})SH
4116 50 8280 8211 UL
8280 10238 MT
(Retrieves a summary of the table statistics.  Each tuple consists of the)164 W
/NewCenturySchlbk-Italic SF
46458 XM
(table)SH
/NewCenturySchlbk-Roman SF
49413 XM
(name, how)163 W
8280 11475 MT
(many)SH
/NewCenturySchlbk-Italic SF
11553 XM
(retrieves, appends, updates)113 W
/NewCenturySchlbk-Roman SF
(, and)113 W
/NewCenturySchlbk-Italic SF
28505 XM
(deletes)SH
/NewCenturySchlbk-Roman SF
32305 XM
(have been performed on that table, and the)114 W
8280 12712 MT
(date of the last change to the table.  It is safe for this query's ACL to be the list)
50 W( containing)49 W
8280 13949 MT
(everybody.)SH
10 /Helvetica-BoldOblique AF
8280 16776 MT
(7.0.8. Build-in Special Queries)SH
11 /NewCenturySchlbk-Bold AF
9091 18736 MT
(_help)SH
/NewCenturySchlbk-Roman SF
8280 20963 MT
(Args: query)SH
2382 50 8280 21163 UL
8280 23190 MT
(Returns: help_message)SH
4116 50 8280 23390 UL
8280 25417 MT
(Returns the short name)
36 W( of the query and a list of arguments and return values.  The query)37 W
8280 26654 MT
(name must match an existing query.  This query may be executed by anyone.)SH
/NewCenturySchlbk-Bold SF
9091 28881 MT
(_list_queries)SH
/NewCenturySchlbk-Roman SF
8280 31108 MT
(Args: none)SH
2382 50 8280 31308 UL
8280 33335 MT
(Returns: {long_query_name, short_query_name})SH
4116 50 8280 33535 UL
8280 35562 MT
(Returns a list of every query name.  This query may be executed by anyone.)SH
/NewCenturySchlbk-Bold SF
9091 37789 MT
(_list_users)SH
/NewCenturySchlbk-Roman SF
8280 40016 MT
(Args: none)SH
2382 50 8280 40216 UL
8280 42243 MT
(Returns: {kerberos_principal, host_address, port_number, connect_time, client_number})SH
4116 50 8280 42443 UL
8280 44470 MT
(Returns a list of every client currently using the)
22 W( Moira server.  This query may be executed)21 W
8280 45707 MT
(by anyone.)SH
/Helvetica-Bold SF
8280 48797 MT
(7.1. Errors)SH
/NewCenturySchlbk-Roman SF
8280 51591 MT
(General errors \050may be returned by all queries\051:)SH
8280 54065 MT
(MR_ARG_TOO_LONG - An argument contains too many characters)SH
8280 55302 MT
(MR_ARGS - Incorrect number of arguments)SH
8280 56539 MT
(MR_DEADLOCK - Database deadlock; try again later)SH
8280 57776 MT
(MR_INGRES_ERR - An unexpected error occured in Ingres, the underlying DBMS)SH
8280 59013 MT
(MR_INTERNAL - Internal consistency failure)SH
8280 60250 MT
(MR_NO_HANDLE - Unknown query specified)SH
8280 61487 MT
(MR_NO_MEM - Server ran out of memory)SH
8280 62724 MT
(MR_PERM - Insufficient permission to perform requested database access)SH
8280 65198 MT
(Any retrieval query may return)SH
8280 67672 MT
(MR_NO_MATCH - No records in database match query)SH
8280 70146 MT
(Any add or update query may return)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 62 62
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 62, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(MR_BAD_CHAR - Illegal character in argument)SH
6120 9248 MT
(MR_EXISTS - new object conflicts with object already in the database)SH
6120 10485 MT
(MR_INTEGER - String could not be parsed as an integer)SH
6120 11722 MT
(MR_NO_ID - Cannot allocate new ID)SH
6120 12959 MT
(MR_NOT_UNIQUE - An attempt to update more than one object at once)SH
6120 15433 MT
(Any delete query may return)SH
6120 17907 MT
(MR_IN_USE - Object is in use)SH
6120 20381 MT
(Query specific errors:)SH
6120 22855 MT
(MR_ACE - No such access control entity)SH
6120 24092 MT
(MR_BAD_CLASS - Specified class is not known)SH
6120 25329 MT
(MR_BAD_GROUP - Invalid group ID)SH
6120 26566 MT
(MR_CLUSTER - Unknown cluster)SH
6120 27803 MT
(MR_DATE - Invalid date)SH
6120 29040 MT
(MR_FILESYS - Named file system does not exist)SH
6120 30277 MT
(MR_FILESYS_EXISTS - Named file system already exists)SH
6120 31514 MT
(MR_FILESYS_ACCESS - invalid filesys access)SH
6120 32751 MT
(MR_FSTYPE - Invalid filesys type)SH
6120 33988 MT
(MR_LIST - No such list)SH
6120 35225 MT
(MR_MACHINE - Unknown machine)SH
6120 36462 MT
(MR_NFS - specified directory not exported)SH
6120 37699 MT
(MR_NFSPHYS - Machine/device pair not in nfsphys relation)SH
6120 38936 MT
(MR_NO_FILESYS - Cannot find space for filesys)SH
6120 40173 MT
(MR_NO_MATCH - Arguments not unique)SH
6120 41410 MT
(MR_NO_POBOX - Cannot find space for pobox)SH
6120 42647 MT
(MR_NO_QUOTA - No default quota specified)SH
6120 43884 MT
(MR_PRINTER - Unknown printer)SH
6120 45121 MT
(MR_SERVICE - Unknown service)SH
6120 46358 MT
(MR_STRING - Unknown string)SH
6120 47595 MT
(MR_TYPE - Invalid type)SH
6120 48832 MT
(MR_USER - No such user)SH
6120 50069 MT
(MR_WILDCARD - Wildcards not allowed in this case)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 63 63
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 63)SH
12 SS 
8280 8075 MT
(8. Specialized Management Tools - User Interface)SH
11 /NewCenturySchlbk-Roman AF
9091 10225 MT
(Moira will include a set of)
48 W( specialized management tools to enable system administrators)49 W
8280 11462 MT
(to control system resources.  As the system evolves, more management tools will become a)70 W
8280 12699 MT
(part of the Moira's application)
286 W( program library.  These tools provide the fundamental)287 W
8280 13936 MT
(administrative use of Moira.)SH
9091 16163 MT
(In response to complaints about the user interface of current)
58 W( database maintenance tools)57 W
8280 17400 MT
(such as madm, gadm, and \050to a lesser extent\051 register, the Moira tools)
124 W( will use a slightly)125 W
8280 18637 MT
(different strategy.  To)
94 W( accommodate novice and occasional users, a menu interface similar)93 W
8280 19874 MT
(to the interface in register will be the default.  For regular users,)
120 W( a command-line switch)121 W
8280 21111 MT
(\050such as)88 W
/Courier SF
12898 XM
(-nomenu)SH
/NewCenturySchlbk-Roman SF
(\051 will be provided that will use a line-oriented interface such as those in)88 W
8280 22348 MT
(discuss and kermit.  This should provide)
113 W( speed and directness for users familiar with the)114 W
8280 23585 MT
(system, while being reasonably)
19 W( helpful to novices and occasional users.  A specialized menu)18 W
8280 24822 MT
(building tool has been)
82 W( developed in order that new application programs can be developed)83 W
8280 26059 MT
(quickly. An)
390 W( X interface is)
42 W( being planned, but is of secondary importance to the functioning)41 W
8280 27296 MT
(of the base system.)SH
9091 29523 MT
(Fields in the database will have associated with them lists of legal values.  A null list will)27 W
8280 30760 MT
(indicate that any value is possible.  This is useful for fields such as user_name, address,)142 W
8280 31997 MT
(and so forth.  The application programs will, before attempting to modify anything in the)111 W
8280 33234 MT
(database, will request this information, and compare it with the proposed new value.)
40 W( If)
385 W( an)39 W
8280 34471 MT
(invalid value is discovered, it will be reported to the user, who will)
14 W( be given the opportunity)15 W
8280 35708 MT
(to change the value, or "insist" that it is a new, legal value.  \050The ability to update data in)66 W
8280 36945 MT
(the database will not necessarily indicate the ability to add)
340 W( new legal values to the)341 W
8280 38182 MT
(database.\051)SH
9091 40409 MT
(Applications should be aware of the ramifications of their actions, and notify the)
113 W( user if)112 W
8280 41646 MT
(appropriate. For)
474 W( example, an administrator deleting)
84 W( a user should be informed of storage)85 W
8280 42883 MT
(space that is being reclaimed, mailing lists that are being)
17 W( modified.  Objects that need to be)16 W
8280 44120 MT
(modified at once \050such as the ownership of a mailing list\051 should present themselves to)
85 W( be)86 W
8280 45357 MT
(dealt with.)SH
9091 47584 MT
(The following list of programs will be found on subsequent pages:)SH
/Symbol SF
9901 49183 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(BLANCHE - batch list maintanence tool)SH
/Symbol SF
9901 50420 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(CHFN - change finger information)SH
/Symbol SF
9901 51657 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(CHPOBOX - change forwarding post office)SH
/Symbol SF
9901 52894 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(CHSH - change default shell)SH
/Symbol SF
9901 54131 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(REG_TAPE - Registrar's tape entry program)SH
/Symbol SF
9901 55368 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(MOIRA - administrative client)SH
/Symbol SF
9901 56605 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(MRCHECK - verify that updates have been successful)SH
/Symbol SF
9901 57842 MT
(\267)SH
/NewCenturySchlbk-Roman SF
10713 XM
(USERREG - New user registration.)SH
/NewCenturySchlbk-Italic SF
9091 60069 MT
(For clarity, each new program begins on a new page.)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 64 64
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 64, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(PROGRAM NAME:)SH
17136 XM
(BLANCHE - Batch list operations)SH
6120 9867 MT
(DESCRIPTION:)SH
17136 XM
(This program allows one to examine a list, and to)
82 W( examine or modify)81 W
17136 11104 MT
(the membership of a list.  Rather than)
258 W( using menus as the other)259 W
17136 12341 MT
(Moira clients, it takes initial command line)
324 W( arguments, and uses)323 W
17136 13578 MT
(standard input and standard output.)SH
6120 15434 MT
(PRE-DEFINED QUERIES USED:)SH
/Symbol SF
17548 17033 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(get_list_info)SH
/Symbol SF
17548 18270 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(count_members_of_list)SH
/Symbol SF
17548 19507 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(get_members_of_list)SH
/Symbol SF
17548 20744 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(add_member_to_list)SH
/Symbol SF
17548 21981 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(delete_member_from_list)SH
6120 23837 MT
(Manipulates the following fields:)SH
/Symbol SF
17548 25436 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(\050name, active, public, hidden, maillist, group,)
219 W( gid, desc, acl_type,)220 W
18360 26673 MT
(acl_id, modtime, modby, modwith\051 - LIST relation)SH
/Symbol SF
17548 27910 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(\050list_id, member_type, member_id\051 - MEMBERS relation)SH
6120 29766 MT
(SUPPORTED SERVICE\050S\051:)SH
/Symbol SF
17548 31365 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(Mailing lists)SH
/Symbol SF
17548 32602 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(Unix groups)SH
/Symbol SF
17548 33839 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(Moira access control lists)SH
6120 35695 MT
(END USER:)SH
17136 XM
(List maintainers)SH
6120 37551 MT
(A SESSION USING BLANCHE:)SH
10 /Courier-Bold AF
6120 39356 MT
(% blanche -info mar)SH
6120 40487 MT
(List: mar)SH
6120 41618 MT
(Description: User Group)SH
6120 42749 MT
(Flags: active, private, and hidden)SH
6120 43880 MT
(mar is a maillist and is a group with GID 5271)SH
6120 45011 MT
(Owner: LIST mar)SH
6120 46142 MT
(Last modified by mar with blanche on 14-sep-1988 14:03:20)SH
6120 47273 MT
(% blanche -a carla mar -m)SH
6120 48404 MT
(carla)SH
6120 49535 MT
(mar)SH
6120 50666 MT
(%)SH
/Helvetica-Bold SF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 65 65
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 65)SH
11 /NewCenturySchlbk-Roman AF
8280 8011 MT
(PROGRAM NAME:)SH
19296 XM
(CHFN - Finger Information.)SH
8280 9867 MT
(DESCRIPTION:)SH
19296 XM
(This program allows users to change their finger information.)
32 W( This)
369 W( is)31 W
19296 11104 MT
(the information put into the password lines stored in hesiod and the)104 W
19296 12341 MT
(master password file.)
292 W( It)
889 W( should be functionally equivalent to the)291 W
19296 13578 MT
(standard Berkeley Unix chfn program.)SH
8280 15434 MT
(PRE-DEFINED QUERIES USED:)SH
/Symbol SF
19708 17033 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20520 XM
(get_finger_by_login)SH
/Symbol SF
19708 18270 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20520 XM
(update_finger_by_login)SH
8280 20126 MT
(Manipulates the following fields:)SH
/Symbol SF
19708 21725 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20520 XM
(\050fullname, nickname,)
502 W( home_address, home_phone, office_phone,)503 W
20520 22962 MT
(department, year\051 - FINGER relation)SH
8280 24818 MT
(SUPPORTED SERVICE\050S\051:)SH
/Symbol SF
19708 26417 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20520 XM
(User Community - finger)SH
8280 28273 MT
(END USER:)SH
19296 XM
(All.)SH
8280 30129 MT
(A SESSION USING CHFN:)SH
10 /Courier-Bold AF
8280 31934 MT
(% chfn)SH
8280 34196 MT
(Changing finger information for pjlevine.)SH
8280 35327 MT
(Info last changed on 22-mar-1988 15:13:33 by user pjlevine using chfn)SH
8280 36458 MT
(Default values are printed inside of of '[]'.)SH
8280 37589 MT
(To accept the default, type <return>.)SH
8280 38720 MT
(To have a blank entry, type the word 'none'.)SH
8280 40982 MT
(Full name [Peter Levine]:)SH
8280 43244 MT
(Nickname [Pete]:)SH
8280 44375 MT
(Home address \050Ex: Bemis 304\051 [24 kilsyth rd Brookline]:)SH
8280 45506 MT
(Home phone number \050Ex: 4660000\051 [1234567]:)SH
8280 46637 MT
(Office address \050Exs: 597 Tech Square or 10-256\051 [E40-342a]:)SH
8280 47768 MT
(Office phone \050Ex: 3-1300\051 [0000]:)SH
8280 48899 MT
(MIT department \050Exs: EECS, Biology, Information Services\051 []:)SH
8280 50030 MT
(MIT year \050Exs: 1989, '91, Faculty, Grad\051 [staf]:)SH
8280 51161 MT
(%)SH
/Helvetica-Bold SF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 66 66
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 66, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(PROGRAM NAME:)SH
17136 XM
(CHPOBOX - View / change home mail host.)SH
6120 9867 MT
(DESCRIPTION:)SH
17136 XM
(The name service and a mail forwarding service need to)
3 W( know where a)2 W
17136 11104 MT
(user's post office is.  This program allows the user the capability to)155 W
17136 12341 MT
(forward his mail to a different)
59 W( machine.  This program is a command)58 W
17136 13578 MT
(line interface.  It will report a user's)
5 W( current mailbox.  It can also set a)6 W
17136 14815 MT
(user's mailbox.)SH
6120 16671 MT
(PRE-DEFINED QUERIES USED:)SH
/Symbol SF
17548 18270 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(get_pobox)SH
/Symbol SF
17548 19507 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(set_pobox)SH
/Symbol SF
17548 20744 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(set_pobox_pop)SH
/Symbol SF
17548 21981 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(get_server_locations)SH
6120 23837 MT
(Manipulates the following fields:)SH
/Symbol SF
17548 25436 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(\050potype, pop_id, box_id\051 - USER relation)SH
/Symbol SF
17548 26673 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(\050string_id, string\051 - STRINGS relation)SH
6120 28529 MT
(SUPPORTED SERVICE\050S\051:)SH
/Symbol SF
17548 30128 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(Mail forwarding)SH
/Symbol SF
17548 31365 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(Mail reading)SH
6120 33221 MT
(END USERS:)SH
17136 XM
(All.)SH
6120 35077 MT
(A SESSION USING CHPOBOX:)SH
10 /Courier-Bold AF
6120 36882 MT
(% chpobox)SH
6120 38013 MT
(User mar, Type POP, Box: mar@E40-PO.MIT.EDU)SH
7320 39144 MT
(Modified by mar on 06-oct-1988 17:43:35 with moira)SH
6120 40275 MT
(%)SH
6120 41406 MT
(% chpobox -s mar@xx.lcs.mit.edu)SH
6120 42537 MT
(User mar, Type SMTP, Box: mar@xx.lcs.mit.edu)SH
7320 43668 MT
(Modified by mar on 18-oct-1988 17:51:32 with chpobox)SH
6120 44799 MT
(%)SH
6120 45930 MT
(% chpobox -p)SH
6120 47061 MT
(User mar, Type POP, Box: mar@E40-PO.MIT.EDU)SH
7320 48192 MT
(Modified by mar on 18-oct-1988 17:52:25 with chpobox)SH
6120 49323 MT
(%)SH
/Helvetica-Bold SF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 67 67
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 67)SH
11 /NewCenturySchlbk-Roman AF
8280 8011 MT
(PROGRAM NAME:)SH
19296 XM
(CHSH - Change shell.)SH
8280 9867 MT
(DESCRIPTION:)SH
19296 XM
(This program allows users to change their default shell.)SH
8280 11723 MT
(PRE-DEFINED QUERIES USED:)SH
/Symbol SF
19708 13322 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20520 XM
(get_user_by_login)SH
/Symbol SF
19708 14559 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20520 XM
(update_user_shell)SH
8280 16415 MT
(Manipulates the following fields:)SH
/Symbol SF
19708 18014 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20520 XM
(\050shell\051 - USER relation)SH
8280 19870 MT
(SUPPORTED SERVICE\050S\051:)SH
/Symbol SF
19708 21469 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20520 XM
(login)SH
8280 23325 MT
(END USERS:)SH
19296 XM
(All)SH
8280 25181 MT
(A SESSION USING CHSH:)SH
10 /Courier-Bold AF
8280 26986 MT
(% chsh)SH
8280 29248 MT
(Changing login shell for pjlevine.)SH
8280 30379 MT
(Account info last changed on 02-sep-1988 13:56:03 by user pjlevine using moira)SH
8280 31510 MT
(Current shell for pjlevine is /bin/csh)SH
8280 32641 MT
(New shell: /bin/csh)SH
8280 33772 MT
(Changing shell to /bin/csh)SH
8280 34903 MT
(%)SH
/Helvetica-Bold SF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 68 68
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 68, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(PROGRAM NAME:)SH
17136 XM
(DBCK - Database consistency checker)SH
6120 9867 MT
(DESCRIPTION:)SH
17136 XM
(This program)
248 W( verifies the internal consistency of the database.  It)247 W
17136 11104 MT
(verifies that there are no)
124 W( duplicates of supposedly unique data, that)125 W
17136 12341 MT
(all references to other)
294 W( objects are references which actually exist,)293 W
17136 13578 MT
(there are)
374 W( no unused objects, and that the counts of quotas and)375 W
17136 14815 MT
(poboxes are correct.  This is written in the spirit of)
2 W( the unix filesystem)1 W
17136 16052 MT
(checker,)SH
/NewCenturySchlbk-Italic SF
21637 XM
(fsck)SH
/NewCenturySchlbk-Roman SF
(.)SH
6120 17908 MT
(PRE-DEFINED QUERIES USED:)SH
17136 19145 MT
(None. It)
306 W( access the database directly.)SH
6120 21001 MT
(END USERS:)SH
17136 XM
(Database administrator)SH
6120 22857 MT
(A SESSION USING DBCK:)SH
10 /Courier-Bold AF
6120 24662 MT
(% dbck)SH
6120 25793 MT
(Opening database sms...done)SH
6120 26924 MT
(Phase 1 - Looking for duplicates)SH
6120 28055 MT
(Phase 2 - Checking references)SH
6120 29186 MT
(Phase 3 - Finding unused objects)SH
6120 30317 MT
(Warning: List saltzer is empty)SH
6120 31448 MT
(Warning: List bug-rt is empty)SH
6120 32579 MT
(Warning: List athena-bug-scribe is empty)SH
6120 33710 MT
(Warning: List ccref is empty)SH
6120 34841 MT
(Warning: List rparmelee is empty)SH
6120 35972 MT
(Warning: List alens-testers is empty)SH
6120 37103 MT
(Unreferenced string mar@xx.lcs.mit.edu id 77)SH
6120 38234 MT
(Delete \050Y/N/Q\051? y)SH
6120 39365 MT
(1 entry deleted)SH
6120 40496 MT
(Unreferenced string a random string \050with * wildcards\051 id 76)SH
6120 41627 MT
(Delete \050Y/N/Q\051? y)SH
6120 42758 MT
(1 entry deleted)SH
6120 43889 MT
(Phase 4 - Checking counts)SH
6120 45020 MT
(Done.)SH
6120 46151 MT
(%)SH
/Helvetica-Bold SF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 69 69
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 69)SH
11 /NewCenturySchlbk-Roman AF
8280 8011 MT
(PROGRAM NAME:)SH
19296 XM
(REG_TAPE - Add)
558 W( or remove students from the system using)557 W
19296 9248 MT
(Registrar's tape.)SH
8280 11104 MT
(DESCRIPTION:)SH
19296 XM
(Each term, when)
182 W( the Registrar releases a tape of current students,)183 W
19296 12341 MT
(the system administrator must load the names)
307 W( of new users and)306 W
19296 13578 MT
(delete all old users.  This program will automatically use the)489 W
19296 14815 MT
(Registrar's tape as a means of keeping current the Moira database.)SH
19296 16671 MT
(The problem of deleting users is a sensitive issue.)
112 W( The)
529 W( removal of a)111 W
19296 17908 MT
(user will reflect)
34 W( this sensitivity.  When deleting a user, the expiration)35 W
19296 19145 MT
(date field will)
232 W( be set to the current date, but the user will not be)231 W
19296 20382 MT
(removed. The)
430 W( program db_maint will, among other things, check the)62 W
19296 21619 MT
(expiration stamp of)
50 W( the users.  If a stamp is within critical expiration)49 W
19296 22856 MT
(time, the program will notify the administrator that)
246 W( a time-to-live)247 W
19296 24093 MT
(date has been reached.  If correct, the administrator will set the)
6 W( user's)5 W
19296 25330 MT
(status field to INACTIVE and set)
31 W( the time to some date in the future.)32 W
19296 26567 MT
(When that date and INACTIVE status are reached,)
393 W( the user is)392 W
19296 27804 MT
(flushed. If)
398 W( incorrect, the administrator will set the date to some time)46 W
19296 29041 MT
(in the future and leave the status field ACTIVE.)SH
8280 30897 MT
(PRE-DEFINED QUERIES USED:)SH
/Symbol SF
19708 32496 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20520 XM
(update_user)SH
/Symbol SF
19708 33733 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20520 XM
(update_user_status)SH
8280 35589 MT
(Manipulates the following fields:)SH
/Symbol SF
19708 37188 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20520 XM
(\050status, expdate\051 - USERS relation.)SH
8280 39044 MT
(SUPPORTED SERVICE\050S\051:)SH
/Symbol SF
19708 40643 MT
(\267)SH
/NewCenturySchlbk-Roman SF
20520 XM
(Moira)SH
8280 42499 MT
(END USERS:)SH
19296 XM
(Administrator.)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 70 70
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 70, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
6120 8011 MT
(PROGRAM NAME:)SH
17136 XM
(Moira - Moira client interface.)SH
6120 9867 MT
(DESCRIPTION:)SH
17136 XM
(This is)
271 W( the primary Moira client.  It is capable of examining and)270 W
17136 11104 MT
(modifying all fields)
262 W( in the database.  It is menu based, using the)263 W
17136 12341 MT
(curses library.  For backwards compatability)
31 W( with older clients, it will)30 W
17136 13578 MT
(look at the name it is invoked with, and start in a)
222 W( sub-menu if it)223 W
17136 14815 MT
(recognizes a menu name.)SH
6120 16671 MT
(SUPPORTED SERVICES:)SH
/Symbol SF
17548 18270 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(All)SH
6120 20126 MT
(END USER:)SH
/Symbol SF
17548 21725 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(All)SH
/Symbol SF
17548 22962 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(Operations)SH
/Symbol SF
17548 24199 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(System administrators)SH
/Symbol SF
17548 25436 MT
(\267)SH
/NewCenturySchlbk-Roman SF
18360 XM
(User accounts administrator)SH
6120 27292 MT
(MENUS:)SH
7956 29340 MT
(MENU:)SH
17748 XM
(Top Level Menu)SH
7956 31196 MT
(DESCRIPTION:)SH
17748 XM
(This is the main menu of the program.  It lists sub menus for each)
18 W( of)17 W
17748 32433 MT
(the main types of data that Moira handles.)SH
7956 34289 MT
(DISPLAY:)SH
10 /Courier-Bold AF
22320 36094 MT
(Moira Database Manipulation)SH
6720 37225 MT
(1. \050cluster\051)
SH( Cluster)
3000 W( Menu.)SH
6720 38356 MT
(2. \050filesys\051)
SH( Filesystem)
3000 W( Menu.)SH
6720 39487 MT
(3. \050list\051)
SH( Lists)
4800 W( and Group Menu.)SH
6720 40618 MT
(4. \050machine\051)
SH( Machine)
3000 W( Menu.)SH
6720 41749 MT
(5. \050nfs\051)
SH( NFS)
5400 W( Physical Menu.)SH
6720 42880 MT
(6. \050user\051)
SH( User)
4800 W( Menu.)SH
6720 44011 MT
(7. \050printer\051)
SH( Printer)
3000 W( Menu.)SH
6720 45142 MT
(8. \050dcm\051)
SH( DCM)
5400 W( Menu.)SH
6720 46273 MT
(9. \050misc\051)
SH( Miscellaneous)
4800 W( Menu.)SH
6720 47404 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
6720 48535 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
7956 50477 MT
(QUERIES USED:)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 71 71
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 71)SH
11 /NewCenturySchlbk-Roman AF
10116 8011 MT
(MENU:)SH
19908 XM
(Cluster Menu)SH
10116 9867 MT
(DESCRIPTION:)SH
19908 XM
(This menu allows the manipulation of clusters.  It also)
259 W( has sub-)260 W
19908 11104 MT
(menus to allow the user)
213 W( to examine machine to cluster mappings)212 W
19908 12341 MT
(and cluster data.)SH
10116 14197 MT
(DISPLAY:)SH
10 /Courier-Bold AF
28680 16002 MT
(Cluster Menu)SH
8880 17133 MT
(1. \050show\051)
SH( Get)
4800 W( cluster information.)SH
8880 18264 MT
(2. \050add\051)
SH( Add)
5400 W( a new cluster.)SH
8880 19395 MT
(3. \050update\051)
SH( Update)
3600 W( cluster information.)SH
8880 20526 MT
(4. \050delete\051)
SH( Delete)
3600 W( this cluster.)SH
8880 21657 MT
(5. \050mappings\051)
SH( Machine)
2400 W( To Cluster Mappings Menu.)SH
8880 22788 MT
(6. \050c_data\051)
SH( Cluster)
3600 W( Data Menu.)SH
8880 23919 MT
(7. \050verbose\051)
SH( Toggle)
3000 W( Verbosity of Delete.)SH
8880 25050 MT
(r. \050return\051)
SH( Return)
3600 W( to previous menu.)SH
8880 26181 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
8880 27312 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
10116 29254 MT
(QUERIES USED:)SH
19908 31302 MT
(show)SH
29700 XM
(get_cluster)SH
19908 32539 MT
(add)SH
29700 XM
(get_cluster, add_cluster)SH
19908 33776 MT
(update)SH
29700 XM
(get_cluster, update_cluster)SH
19908 35013 MT
(delete)SH
29700 XM
(get_cluster, delete_cluster)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 72 72
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 72, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
17748 8011 MT
(MENU:)SH
17748 9248 MT
(Filesystem Menu)SH
7956 11104 MT
(DESCRIPTION:)SH
17748 XM
(This menu allows)
238 W( the manipulation of filesystems.  This includes)237 W
17748 12341 MT
(both the filesystem themselves and aliases for filesystems.  It)
163 W( also)164 W
17748 13578 MT
(includes a sub-menu for manipulation of quotas.)SH
7956 15434 MT
(DISPLAY:)SH
10 /Courier-Bold AF
25320 17239 MT
(Filesystem Menu)SH
6720 18370 MT
(1. \050get\051)
SH( Get)
5400 W( Filesystem Name Information.)SH
6720 19501 MT
(2. \050add\051)
SH( Add)
5400 W( New Filesystem to Database.)SH
6720 20632 MT
(3. \050change\051)
SH( Update)
3600 W( Filesystem Information.)SH
6720 21763 MT
(4. \050delete\051)
SH( Delete)
3600 W( Filesystem.)SH
6720 22894 MT
(5. \050check\051)
SH( Check)
4200 W( An Association.)SH
6720 24025 MT
(6. \050alias\051)
SH( Associate)
4200 W( with a Filesystem.)SH
6720 25156 MT
(7. \050unalias\051)
SH( Disassociate)
3000 W( from a Filesystem.)SH
6720 26287 MT
(8. \050quotas\051)
SH( Quota)
3600 W( Menu.)SH
6720 27418 MT
(9. \050verbose\051)
SH( Toggle)
3000 W( Verbosity of Delete.)SH
6120 28549 MT
(10. \050help\051)
SH( Help)
4800 W( ...)SH
6720 29680 MT
(r. \050return\051)
SH( Return)
3600 W( to previous menu.)SH
6720 30811 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
6720 31942 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
7956 33884 MT
(QUERIES USED:)SH
17748 35932 MT
(get)SH
27540 XM
(get_filesys_by_label)SH
17748 37169 MT
(add)SH
27540 XM
(get_filesys_by_label, add_filesys)SH
17748 38406 MT
(change)SH
27540 XM
(get_filesys_by_label, update_filesys)SH
17748 39643 MT
(delete)SH
27540 XM
(get_filesys_by_label, delete_filesys)SH
17748 40880 MT
(check)SH
27540 XM
(get_alias)SH
17748 42117 MT
(alias)SH
27540 XM
(get_alias, add_alias)SH
17748 43354 MT
(unalias)SH
27540 XM
(get_alias, delete_alias)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 73 73
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 73)SH
11 /NewCenturySchlbk-Roman AF
19908 8011 MT
(MENU:)SH
19908 9248 MT
(List Menu)SH
10116 11104 MT
(DESCRIPTION:)SH
19908 XM
(This menu allows the manipulation of lists, including)
198 W( retrieval by)199 W
19908 12341 MT
(name, creation, deletion, and updating the)
304 W( characteristics.  Note)303 W
19908 13578 MT
(that deleting a)
574 W( list will double-check everything to maintain)575 W
19908 14815 MT
(database consistency, and may)
353 W( prompt the user to take further)352 W
19908 16052 MT
(actions. There)
386 W( is also an option called query_remove which will find)41 W
19908 17289 MT
(all of the lists a)
93 W( member belongs to, and ask the user one at a time)92 W
19908 18526 MT
(which ones)
221 W( the member should be removed from.  There are also)222 W
19908 19763 MT
(sub-menus to manipulate the)
14 W( members of a list and to search though)13 W
19908 21000 MT
(lists.)SH
10116 22856 MT
(DISPLAY:)SH
10 /Courier-Bold AF
29280 24661 MT
(List Menu)SH
8880 25792 MT
(1. \050show\051)
SH( Display)
4800 W( information about a list.)SH
8880 26923 MT
(2. \050add\051)
SH( Create)
5400 W( new List.)SH
8880 28054 MT
(3. \050update\051)
SH( Update)
3600 W( characteristics of a list.)SH
8880 29185 MT
(4. \050delete\051)
SH( Delete)
3600 W( a List.)SH
8880 30316 MT
(5. \050query_remove\051 Interactively remove an item from all lists.)SH
8880 31447 MT
(6. \050members\051)
SH( Member)
3000 W( Menu - Change/Show Members of a List..)SH
8880 32578 MT
(7. \050list_info\051)
SH( List)
1800 W( Info Menu.)SH
8880 33709 MT
(8. \050quotas\051)
SH( Quota)
3600 W( Menu.)SH
8880 34840 MT
(9. \050verbose\051)
SH( Toggle)
3000 W( Verbosity of Delete.)SH
8280 35971 MT
(10. \050help\051)
SH( Print)
4800 W( Help.)SH
8880 37102 MT
(r. \050return\051)
SH( Return)
3600 W( to previous menu.)SH
8880 38233 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
8880 39364 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
10116 41306 MT
(QUERIES USED:)SH
19908 43354 MT
(show)SH
29700 XM
(get_list_info)SH
19908 44591 MT
(add)SH
29700 XM
(get_list_info, add_list)SH
19908 45828 MT
(update)SH
29700 XM
(get_list_info, update_list)SH
19908 47065 MT
(delete)SH
29700 XM
(get_list_info, get_ace_use,)12168 W
29700 48302 MT
(count_members_of_list, get_lists_of_member,)2347 W
29700 49539 MT
(get_members_of_list, delete_list,)8784 W
29700 50776 MT
(delete_member_from_list)SH
19908 52013 MT
(query_remove)SH
29700 XM
(get_lists_of_member, delete_member_from_list)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 74 74
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 74, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
17748 8011 MT
(MENU:)SH
17748 9248 MT
(Machine Menu)SH
7956 11104 MT
(DESCRIPTION:)SH
17748 XM
(This allows for machines to be manipulated.  It includes a)
37 W( sub-menu)38 W
17748 12341 MT
(for machine-to-cluster mapping.)SH
7956 14197 MT
(DISPLAY:)SH
10 /Courier-Bold AF
26520 16002 MT
(Machine Menu)SH
6720 17133 MT
(1. \050show\051)
SH( Get)
4800 W( machine information.)SH
6720 18264 MT
(2. \050add\051)
SH( Add)
5400 W( a new machine.)SH
6720 19395 MT
(3. \050update\051)
SH( Update)
3600 W( machine information.)SH
6720 20526 MT
(4. \050delete\051)
SH( Delete)
3600 W( this machine.)SH
6720 21657 MT
(5. \050mappings\051)
SH( Machine)
2400 W( To Cluster Mappings Menu.)SH
6720 22788 MT
(6. \050verbose\051)
SH( Toggle)
3000 W( Verbosity of Delete.)SH
6720 23919 MT
(r. \050return\051)
SH( Return)
3600 W( to previous menu.)SH
6720 25050 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
6720 26181 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
7956 28123 MT
(QUERIES USED:)SH
17748 30171 MT
(show)SH
27540 XM
(get_machine)SH
17748 31408 MT
(add)SH
27540 XM
(get_machine, add_machine)SH
17748 32645 MT
(update)SH
27540 XM
(get_machine, update_machine)SH
17748 33882 MT
(delete)SH
27540 XM
(get_machine, delete_machine)SH
17748 35930 MT
(MENU:)SH
17748 37167 MT
(NFS Physical Menu)SH
7956 39023 MT
(DESCRIPTION:)SH
17748 XM
(This allows for)
319 W( NFS physical filesystems to be manipulated.  It)320 W
17748 40260 MT
(includes a submenu for quota manipulation as well.)SH
7956 42116 MT
(DISPLAY:)SH
10 /Courier-Bold AF
24720 43921 MT
(NFS Physical Menu)SH
6720 45052 MT
(1. \050show\051)
SH( Show)
4800 W( an NFS server.)SH
6720 46183 MT
(2. \050add\051)
SH( Add)
5400 W( NFS server.)SH
6720 47314 MT
(3. \050update\051)
SH( Update)
3600 W( NFS server.)SH
6720 48445 MT
(4. \050delete\051)
SH( Delete)
3600 W( NFS server.)SH
6720 49576 MT
(5. \050quotas\051)
SH( Quota)
3600 W( Menu.)SH
6720 50707 MT
(6. \050verbose\051)
SH( Toggle)
3000 W( Verbosity of Delete.)SH
6720 51838 MT
(r. \050return\051)
SH( Return)
3600 W( to previous menu.)SH
6720 52969 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
6720 54100 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
7956 56042 MT
(QUERIES USED:)SH
17748 58090 MT
(show)SH
27540 XM
(get_nfsphys)SH
17748 59327 MT
(add)SH
27540 XM
(get_nfsphys, add_nfsphys)SH
17748 60564 MT
(update)SH
27540 XM
(get_nfsphys, update_nfsphys)SH
17748 61801 MT
(delete)SH
27540 XM
(get_nfsphys, get_filesys_by_nfsphys,)6791 W
27540 63038 MT
(delete_nfsphys)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 75 75
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 75)SH
11 /NewCenturySchlbk-Roman AF
19908 8011 MT
(MENU:)SH
19908 9248 MT
(User Menu)SH
10116 11104 MT
(DESCRIPTION:)SH
19908 XM
(This allows for user accounts to be manipulated.)
201 W( Lookup)
706 W( may be)200 W
19908 12341 MT
(done by login name, real name, or class.  Modifications may be of all)44 W
19908 13578 MT
(fields, or a simple deactivate \050changing the account status to indicate)SH
19908 14815 MT
(``marked for)
157 W( deletion''.  Registering a user consists of changing the)158 W
19908 16052 MT
(login name and status, and creating a user group, filesystem,)
184 W( and)183 W
19908 17289 MT
(pobox. To)
695 W( expunge a user is to actually delete all record of them)195 W
19908 18526 MT
(from the database \050including prompting to delete their filesystem)245 W
19908 19763 MT
(and user group\051.  Sub-menus for manipulation of poboxes)
15 W( and quotas)16 W
19908 21000 MT
(are also provided.)SH
10116 22856 MT
(DISPLAY:)SH
10 /Courier-Bold AF
29280 24661 MT
(User Menu)SH
8880 25792 MT
(1. \050login\051)
SH( Show)
4200 W( user information by login name.)SH
8880 26923 MT
(2. \050name\051)
SH( Show)
4800 W( user information by name.)SH
8880 28054 MT
(3. \050class\051)
SH( Show)
4200 W( names of users in a given class.)SH
8880 29185 MT
(4. \050modify\051)
SH( Change)
3600 W( all user fields.)SH
8880 30316 MT
(5. \050adduser\051)
SH( Add)
3000 W( a new user to the database.)SH
8880 31447 MT
(6. \050register\051)
SH( Register)
2400 W( a user.)SH
8880 32578 MT
(7. \050deactivate\051)
SH( Deactivate)
1200 W( user.)SH
8880 33709 MT
(8. \050expunge\051)
SH( Expunge)
3000 W( user.)SH
8880 34840 MT
(9. \050pobox\051)
SH( Post)
4200 W( Office Box Menu.)SH
8280 35971 MT
(10. \050quota\051)
SH( Quota)
4200 W( Menu.)SH
8280 37102 MT
(11. \050verbose\051)
SH( Toggle)
3000 W( Verbosity of Delete.)SH
8880 38233 MT
(r. \050return\051)
SH( Return)
3600 W( to previous menu.)SH
8880 39364 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
8880 40495 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
10116 42437 MT
(QUERIES USED:)SH
19908 44485 MT
(login)SH
29700 XM
(get_user_by_login)SH
19908 45722 MT
(name)SH
29700 XM
(get_user_by_name)SH
19908 46959 MT
(class)SH
29700 XM
(get_user_by_class)SH
19908 48196 MT
(modify)SH
29700 XM
(get_user_by_login, update_user)SH
19908 49433 MT
(adduser)SH
29700 XM
(get_user_by_name, add_user)SH
19908 50670 MT
(register)SH
29700 XM
(get_user_by_name, register_user)SH
19908 51907 MT
(deactivate)SH
29700 XM
(get_user_by_name, update_user_status)SH
19908 53144 MT
(expunge)SH
29700 XM
(delete_user, get_filesys_by_label,)
539 W( delete_filesys,)538 W
29700 54381 MT
(get_members-of-list, delete_list,)9152 W
29700 55618 MT
(count_members_of_list, get_lists_of_member,)2347 W
29700 56855 MT
(delete_member_from_list, get_list_info,)5339 W
29700 58092 MT
(get_ace_use)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 76 76
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 76, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
17748 8011 MT
(MENU:)SH
17748 9248 MT
(Printer Menu)SH
7956 11104 MT
(DESCRIPTION:)SH
17748 XM
(This allows printcap entries to be manipulated.)SH
7956 12960 MT
(DISPLAY:)SH
10 /Courier-Bold AF
26520 14765 MT
(Printer Menu)SH
6720 15896 MT
(1. \050get\051)
SH( Get)
5400 W( Printcap Entry Information.)SH
6720 17027 MT
(2. \050add\051)
SH( Add)
5400 W( New Printcap Entry to Database.)SH
6720 18158 MT
(3. \050change\051)
SH( Update)
3600 W( Printer Information.)SH
6720 19289 MT
(4. \050delete\051)
SH( Delete)
3600 W( Printcap Entry.)SH
6720 20420 MT
(r. \050return\051)
SH( Return)
3600 W( to previous menu.)SH
6720 21551 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
6720 22682 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
7956 24624 MT
(QUERIES USED:)SH
17748 26672 MT
(get)SH
27540 XM
(get_printcap)SH
17748 27909 MT
(add)SH
27540 XM
(get_printcap, add_printcap)SH
17748 29146 MT
(change)SH
27540 XM
(get_printcap, delete_printcap, add_printcap)SH
17748 30383 MT
(delete)SH
27540 XM
(get_printcap, delete_printcap)SH
17748 32431 MT
(MENU:)SH
17748 33668 MT
(DCM Menu)SH
7956 35524 MT
(DESCRIPTION:)SH
17748 XM
(This menu allows for the DCM and)
236 W( it's control information to be)235 W
17748 36761 MT
(manipulated. Options)
1282 W( include enabling the DCM, getting the)489 W
17748 37998 MT
(current status of updates, and)
9 W( starting an update immediately.  Sub-)8 W
17748 39235 MT
(menus exist for manipulating service)
207 W( information and host/service)208 W
17748 40472 MT
(tuple information.)SH
7956 42328 MT
(DISPLAY:)SH
10 /Courier-Bold AF
27720 44133 MT
(DCM Menu)SH
6720 45264 MT
(1. \050enable\051)
SH( Enable/disable)
3600 W( DCM.)SH
6720 46395 MT
(2. \050service\051)
SH( DCM)
3000 W( Service Menu.)SH
6720 47526 MT
(3. \050host\051)
SH( DCM)
4800 W( Host Menu.)SH
6720 48657 MT
(4. \050active\051)
SH( Display)
3600 W( entries currently being updated.)SH
6720 49788 MT
(5. \050failed\051)
SH( Display)
3600 W( entries with errors to be reset.)SH
6720 50919 MT
(6. \050dcm\051)
SH( Invoke)
5400 W( a DCM update now.)SH
6720 52050 MT
(r. \050return\051)
SH( Return)
3600 W( to previous menu.)SH
6720 53181 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
6720 54312 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
7956 56254 MT
(QUERIES USED:)SH
17748 58302 MT
(enable)SH
27540 XM
(get_value, update_value)SH
17748 59539 MT
(active)SH
27540 XM
(qualified_get_server, qualified_get_server_host)SH
17748 60776 MT
(failed)SH
27540 XM
(quelified_get_server, qualified_get_server_host)SH
17748 62013 MT
(dcm)SH
27540 XM
(trigger_dcm)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 77 77
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 77)SH
11 /NewCenturySchlbk-Roman AF
19908 8011 MT
(MENU:)SH
19908 9248 MT
(Miscellaneous Menu)SH
10116 11104 MT
(DESCRIPTION:)SH
19908 XM
(This menu)
774 W( contains miscellaneous functions which are not)775 W
19908 12341 MT
(necessary, but may be)
345 W( useful in maintaining the Moira system.)344 W
19908 13578 MT
(These include fetching the)
381 W( table use statistics, listing currently)382 W
19908 14815 MT
(active connections to the Moira server, and fetching values)
343 W( and)342 W
19908 16052 MT
(aliases from the database.)SH
10116 17908 MT
(DISPLAY:)SH
10 /Courier-Bold AF
26880 19713 MT
(Miscellaneous Menu)SH
8880 20844 MT
(1. \050statistics\051)
SH( Show)
1200 W( database statistics.)SH
8880 21975 MT
(2. \050clients\051)
SH( Show)
3000 W( active Moira clients.)SH
8880 23106 MT
(3. \050getval\051)
SH( Show)
3600 W( a database variable value.)SH
8880 24237 MT
(4. \050getalias\051)
SH( Show)
2400 W( an alias relation.)SH
8880 25368 MT
(r. \050return\051)
SH( Return)
3600 W( to previous menu.)SH
8880 26499 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
8880 27630 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
10116 29572 MT
(QUERIES USED:)SH
19908 31620 MT
(statistics)SH
29700 XM
(get_all_table_stats)SH
19908 32857 MT
(clients)SH
29700 XM
(_list_users)SH
19908 34094 MT
(getval)SH
29700 XM
(get_value)SH
19908 35331 MT
(getalias)SH
29700 XM
(get_alias)SH
19908 37379 MT
(MENU:)SH
19908 38616 MT
(Cluster Data Menu)SH
10116 40472 MT
(DESCRIPTION:)SH
19908 XM
(This menu allows the manipulation of data associated with clusters.)SH
10116 42328 MT
(DISPLAY:)SH
10 /Courier-Bold AF
26880 44133 MT
(Cluster Data Menu)SH
8880 45264 MT
(1. \050show\051)
SH( Show)
4800 W( Data on a given Cluster.)SH
8880 46395 MT
(2. \050add\051)
SH( Add)
5400 W( Data to a given Cluster.)SH
8880 47526 MT
(3. \050delete\051)
SH( Remove)
3600 W( Data to a given Cluster.)SH
8880 48657 MT
(4. \050verbose\051)
SH( Toggle)
3000 W( Verbosity of Delete.)SH
8880 49788 MT
(r. \050return\051)
SH( Return)
3600 W( to previous menu.)SH
8880 50919 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
8880 52050 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
10116 53992 MT
(QUERIES USED:)SH
19908 56040 MT
(show)SH
29700 XM
(get_cluster_data)SH
19908 57277 MT
(add)SH
29700 XM
(add_cluster_data)SH
19908 58514 MT
(delete)SH
29700 XM
(get_cluster_data, delete_cluster_data)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 78 78
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 78, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
17748 8011 MT
(MENU:)SH
17748 9248 MT
(Mappings Menu)SH
7956 11104 MT
(DESCRIPTION:)SH
17748 XM
(This cluster)
654 W( allows the machine to cluster mappings to be)655 W
17748 12341 MT
(manipulated.)SH
7956 14197 MT
(DISPLAY:)SH
10 /Courier-Bold AF
20520 16002 MT
(Machine To Cluster Mappings Menu)SH
6720 17133 MT
(1. \050map\051)
SH( Show)
5400 W( Machine to cluster mapping.)SH
6720 18264 MT
(2. \050addcluster\051)
SH( Add)
1200 W( machines to a clusters.)SH
6720 19395 MT
(3. \050remcluster\051)
SH( Remove)
1200 W( machines from clusters.)SH
6720 20526 MT
(4. \050verbose\051)
SH( Toggle)
3000 W( Verbosity of Delete.)SH
6720 21657 MT
(r. \050return\051)
SH( Return)
3600 W( to previous menu.)SH
6720 22788 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
6720 23919 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
7956 25861 MT
(QUERIES USED:)SH
17748 27909 MT
(map)SH
27540 XM
(get_machine_to_cluster_map)SH
17748 29146 MT
(addcluster)SH
27540 XM
(get_machine, get_cluster,)12415 W
27540 30383 MT
(add_machine_to_cluster)SH
17748 31620 MT
(remcluster)SH
27540 XM
(get_machine_to_cluster_map,)SH
27540 32857 MT
(delete_machine_from_cluster)SH
17748 34905 MT
(MENU:)SH
17748 36142 MT
(Quota Menu)SH
7956 37998 MT
(DESCRIPTION:)SH
17748 XM
(This menu allows)
521 W( users' quotas and the default quota to be)522 W
17748 39235 MT
(manipulated. The)
777 W( default quota is the quota that new users are)235 W
17748 40472 MT
(assigned when they register for an account.)SH
7956 42328 MT
(DISPLAY:)SH
10 /Courier-Bold AF
27120 44133 MT
(Quota Menu)SH
6720 45264 MT
(1. \050shdef\051)
SH( Show)
4200 W( default user quota \050in KB\051.)SH
6720 46395 MT
(2. \050chdef\051)
SH( Change)
4200 W( default user quota.)SH
6720 47526 MT
(3. \050shquota\051)
SH( Show)
3000 W( a user's disk quota on a filesytem.)SH
6720 48657 MT
(4. \050addquota\051)
SH( Add)
2400 W( a new disk quota for user on a filesytem.)SH
6720 49788 MT
(5. \050chquota\051)
SH( Change)
3000 W( a user's disk quota on a filesytem.)SH
6720 50919 MT
(6. \050rmquota\051)
SH( Remove)
3000 W( a user's disk quota on a filesytem.)SH
6720 52050 MT
(7. \050verbose\051)
SH( Toggle)
3000 W( Verbosity of Delete.)SH
6720 53181 MT
(r. \050return\051)
SH( Return)
3600 W( to previous menu.)SH
6720 54312 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
6720 55443 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
7956 57385 MT
(QUERIES USED:)SH
17748 59433 MT
(shdef)SH
27540 XM
(get_value)SH
17748 60670 MT
(chdef)SH
27540 XM
(get_value, update_value)SH
17748 61907 MT
(shquota)SH
27540 XM
(get_nfs_quota)SH
17748 63144 MT
(addquota)SH
27540 XM
(add_nfs_quota)SH
17748 64381 MT
(chquota)SH
27540 XM
(get_nfs_quota, update_nfs_quota)SH
17748 65618 MT
(rmquota)SH
27540 XM
(get_nfs_quota, delete_nfs_quota)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 79 79
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 79)SH
11 /NewCenturySchlbk-Roman AF
19908 8011 MT
(MENU:)SH
19908 9248 MT
(Members Menu)SH
10116 11104 MT
(DESCRIPTION:)SH
19908 XM
(This allows the membership of lists to be manipulated.)
68 W( On)
441 W( entry to)67 W
19908 12341 MT
(this menu, Moira will prompt)
458 W( for the name of the list to be)459 W
19908 13578 MT
(manipulated. Membership)
306 W( may be fetched by a specific type.)SH
10116 15434 MT
(DISPLAY:)SH
10 /Courier-Bold AF
20880 17239 MT
(Change/Display membership of 'dbadmin')SH
8880 18370 MT
(1. \050add\051)
SH( Add)
5400 W( a member to this list.)SH
8880 19501 MT
(2. \050remove\051)
SH( Remove)
3600 W( a member from this list.)SH
8880 20632 MT
(3. \050all\051)
SH( Show)
5400 W( the members of this list.)SH
8880 21763 MT
(4. \050user\051)
SH( Show)
4800 W( the members of type USER.)SH
8880 22894 MT
(5. \050list\051)
SH( Show)
4800 W( the members of type LIST.)SH
8880 24025 MT
(6. \050string\051)
SH( Show)
3600 W( the members of type STRING.)SH
8880 25156 MT
(7. \050verbose\051)
SH( Toggle)
3000 W( Verbosity of Delete.)SH
8880 26287 MT
(r. \050return\051)
SH( Return)
3600 W( to previous menu.)SH
8880 27418 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
8880 28549 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
10116 30491 MT
(QUERIES USED:)SH
19908 32539 MT
(add)SH
29700 XM
(add_member_to_list)SH
19908 33776 MT
(remove)SH
29700 XM
(delete_member_from_list)SH
19908 35013 MT
(all)SH
29700 XM
(get_members_of_list)SH
19908 36250 MT
(user)SH
29700 XM
(get_members_of_list)SH
19908 37487 MT
(list)SH
29700 XM
(get_members_of_list)SH
19908 38724 MT
(string)SH
29700 XM
(get_members_of_list)SH
19908 40772 MT
(MENU:)SH
19908 42009 MT
(List Information Menu)SH
10116 43865 MT
(DESCRIPTION:)SH
19908 XM
(This menu)
18 W( allows one to get various summaries of lists.  They can be)19 W
19908 45102 MT
(retrieved by membership, administration, groups, or maillists.)SH
10116 46958 MT
(DISPLAY:)SH
10 /Courier-Bold AF
25680 48763 MT
(List Information Menu)SH
8880 49894 MT
(1. \050member\051)
SH( Show)
3600 W( all lists to which a given member belongs.)SH
8880 51025 MT
(2. \050admin\051)
SH( Show)
4200 W( all items which a given member can administer.)SH
8880 52156 MT
(3. \050groups\051)
SH( Show)
3600 W( all lists which are groups.)SH
8880 53287 MT
(4. \050public\051)
SH( Show)
3600 W( all public mailing lists.)SH
8880 54418 MT
(5. \050maillists\051)
SH( Show)
1800 W( all mailing lists.)SH
8880 55549 MT
(r. \050return\051)
SH( Return)
3600 W( to previous menu.)SH
8880 56680 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
8880 57811 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
10116 59753 MT
(QUERIES USED:)SH
19908 61801 MT
(member)SH
29700 XM
(get_lists_of_member)SH
19908 63038 MT
(admin)SH
29700 XM
(get_ace_use)SH
19908 64275 MT
(groups)SH
29700 XM
(qualified_get_lists)SH
19908 65512 MT
(public)SH
29700 XM
(qualified_get_lists)SH
19908 66749 MT
(maillists)SH
29700 XM
(qualified_get_lists)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 80 80
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 80, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
17748 8011 MT
(MENU:)SH
17748 9248 MT
(Post Office Box Menu)SH
7956 11104 MT
(DESCRIPTION:)SH
17748 XM
(This menu allows users' poboxes to be manipulated.  The ``set'')
4 W( option)5 W
17748 12341 MT
(allows the user to return a pobox back from a foreign maildrop to a)90 W
17748 13578 MT
(previously used pobox server, in addition)
299 W( to allowing changes in)300 W
17748 14815 MT
(pobox servers or foriegn addresses.)SH
7956 16671 MT
(DISPLAY:)SH
10 /Courier-Bold AF
24120 18476 MT
(Post Office Box Menu)SH
6720 19607 MT
(1. \050show\051)
SH( Show)
4800 W( a user's post office box.)SH
6720 20738 MT
(2. \050set\051)
SH( Set)
5400 W( \050Add or Change\051 a user's post office box.)SH
6720 21869 MT
(3. \050remove\051)
SH( Remove)
3600 W( a user's post office box.)SH
6720 23000 MT
(4. \050verbose\051)
SH( Toggle)
3000 W( Verbosity of Delete.)SH
6720 24131 MT
(r. \050return\051)
SH( Return)
3600 W( to previous menu.)SH
6720 25262 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
6720 26393 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
7956 28335 MT
(QUERIES USED:)SH
17748 30383 MT
(show)SH
27540 XM
(get_pobox)SH
17748 31620 MT
(set)SH
27540 XM
(get_pobox, set_pobox_pop,)
555 W( get_server_locations,)554 W
27540 32857 MT
(set_pobox)SH
17748 34094 MT
(remove)SH
27540 XM
(delete_pobox)SH
17748 36142 MT
(MENU:)SH
17748 37379 MT
(DCM Service Menu)SH
7956 39235 MT
(DESCRIPTION:)SH
17748 XM
(This menu allows DCM services to be)
118 W( manipulated.  A service may)117 W
17748 40472 MT
(have an error indicator reset, or its entire)
73 W( state reset, in addition to)74 W
17748 41709 MT
(the usual updates.  Note that reseting a service state is)
48 W( a dangerous)47 W
17748 42946 MT
(action that should be used carefully.)SH
7956 44802 MT
(DISPLAY:)SH
10 /Courier-Bold AF
25320 46607 MT
(DCM Service Menu)SH
6720 47738 MT
(1. \050showserv\051)
SH( Show)
2400 W( service information.)SH
6720 48869 MT
(2. \050addserv\051)
SH( Add)
3000 W( a new service.)SH
6720 50000 MT
(3. \050updateserv\051)
SH( Update)
1200 W( service information.)SH
6720 51131 MT
(4. \050resetsrverr\051  Reset service error.)SH
6720 52262 MT
(5. \050resetsrvc\051)
SH( Reset)
1800 W( service state.)SH
6720 53393 MT
(6. \050delserv\051)
SH( Delete)
3000 W( service info.)SH
6720 54524 MT
(r. \050return\051)
SH( Return)
3600 W( to previous menu.)SH
6720 55655 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
6720 56786 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
7956 58728 MT
(QUERIES USED:)SH
17748 60776 MT
(showserv)SH
27540 XM
(get_server_info)SH
17748 62013 MT
(addserv)SH
27540 XM
(add_server_info)SH
17748 63250 MT
(updateserv)SH
27540 XM
(get_server_info, update_server_info)SH
17748 64487 MT
(resetsrverr)SH
27540 XM
(reset_server_error)SH
17748 65724 MT
(resetsrvc)SH
27540 XM
(set_server_internal_flags)SH
17748 66961 MT
(delserv)SH
27540 XM
(delete_server_info)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 81 81
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 81)SH
11 /NewCenturySchlbk-Roman AF
19908 8011 MT
(MENU:)SH
19908 9248 MT
(DCM Host Menu)SH
10116 11104 MT
(DESCRIPTION:)SH
19908 XM
(This menu allows DCM service/host tuples to)
221 W( be manipulated.  A)220 W
19908 12341 MT
(tuple may have)
83 W( an error indicator reset, its entire state reset, or an)84 W
19908 13578 MT
(override set in addition)
123 W( to the usual updates.  Note that reseting a)122 W
19908 14815 MT
(tuple's state is a dangerous action that should be used carefully.)SH
10116 16671 MT
(DISPLAY:)SH
10 /Courier-Bold AF
28080 18476 MT
(DCM Host Menu)SH
8880 19607 MT
(1. \050showhost\051)
SH( Show)
2400 W( service/host tuple information.)SH
8880 20738 MT
(2. \050addhost\051)
SH( Add)
3000 W( a new service/host tuple.)SH
8880 21869 MT
(3. \050updatehost\051)
SH( Update)
1200 W( a service/host tuple.)SH
8880 23000 MT
(4. \050resethosterr\051 Reset service/host error.)SH
8880 24131 MT
(5. \050resethost\051)
SH( Reset)
1800 W( service/host state.)SH
8880 25262 MT
(6. \050override\051)
SH( Set)
2400 W( service/host override.)SH
8880 26393 MT
(7. \050delhost\051)
SH( Delete)
3000 W( service/host tuple.)SH
8880 27524 MT
(r. \050return\051)
SH( Return)
3600 W( to previous menu.)SH
8880 28655 MT
(t. \050toggle\051)
SH( Toggle)
3600 W( logging on and off.)SH
8880 29786 MT
(q. \050quit\051)
SH( Quit.)4800 W
11 /NewCenturySchlbk-Roman AF
10116 31728 MT
(QUERIES USED:)SH
19908 33776 MT
(showhost)SH
29700 XM
(get_server_host_info)SH
19908 35013 MT
(addhost)SH
29700 XM
(add_server_host_info)SH
19908 36250 MT
(updatehost)SH
29700 XM
(get_server_host_info, update_server_host_info)SH
19908 37487 MT
(resethosterr)SH
29700 XM
(reset_server_host_error)SH
19908 38724 MT
(resethost)SH
29700 XM
(set_server_host_internal)SH
19908 39961 MT
(override)SH
29700 XM
(set_server_host_override)SH
19908 41198 MT
(delhost)SH
29700 XM
(delete_server_host_info)SH
19908 43246 MT
(MENU:)SH
19908 44483 MT
(Zephyr ACL Menu)SH
10116 46339 MT
(DESCRIPTION:)SH
19908 XM
(This menu allows zephyr class access control)
7 W( lists to be manipulated.)6 W
19908 47576 MT
(The list menu can be accessed as a sub-menu.)SH
10116 49432 MT
(DISPLAY:)SH
10 /Courier-Bold AF
22680 51237 MT
(Zephyr Class ACL Menu)SH
8880 52368 MT
(1. \050show\051)
SH( Show)
3000 W( zephyr class information.)SH
8880 53499 MT
(2. \050add\051)
SH( Add)
3600 W( a new zephyr class ACL.)SH
8880 54630 MT
(3. \050update\051)
SH( Change)
1800 W( a zephyr class ACL.)SH
8880 55761 MT
(4. \050delete\051)
SH( Delete)
1800 W( ACL information for a zephyr class.)SH
8880 56892 MT
(5. \050list\051)
SH( List)
3000 W( Menu.)SH
8880 58023 MT
(r. \050return\051)
SH( Return)
1800 W( to previous menu.)SH
8880 59154 MT
(t. \050toggle\051)
SH( Toggle)
1800 W( logging on and off.)SH
8880 60285 MT
(q. \050quit\051)
SH( Quit.)3000 W
11 /NewCenturySchlbk-Roman AF
10116 62227 MT
(QUERIES USED:)SH
19908 64275 MT
(show)SH
29700 XM
(get_zephyr_class)SH
19908 65512 MT
(add)SH
29700 XM
(get_zephyr_class, add_zephyr_class)SH
19908 66749 MT
(update)SH
29700 XM
(get_zephyr_class, update_zephyr_class)SH
19908 67986 MT
(delete)SH
29700 XM
(get_zehpyr_class, delete_zephyr_class)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Page: 82 82
BS
0 SI
10 /Helvetica-Bold AF
6120 4329 MT
(Page 82, Section E.1)SH
42250 XM
(Athena Technical Plan)SH
11 /NewCenturySchlbk-Roman AF
17748 8011 MT
(MENU:)SH
17748 9248 MT
(Network Services Menu)SH
7956 11104 MT
(DESCRIPTION:)SH
17748 XM
(This menu)
131 W( allows the network service ports and their aliases to be)130 W
17748 12341 MT
(manipulated.)SH
7956 14197 MT
(DISPLAY:)SH
10 /Courier-Bold AF
20520 16002 MT
(Network Services Menu)SH
6720 17133 MT
(1. \050show\051)
SH( Show)
3000 W( service information.)SH
6720 18264 MT
(2. \050add\051)
SH( Add)
3600 W( information about a new service.)SH
6720 19395 MT
(3. \050update\051)
SH( Change)
1800 W( information about a service.)SH
6720 20526 MT
(4. \050delete\051)
SH( Delete)
1800 W( information about a service.)SH
6720 21657 MT
(5. \050alias\051)
SH( Add)
2400 W( an alias for a service.)SH
6720 22788 MT
(6. \050unalias\051)
SH( Remove)
1200 W( an alias for a service.)SH
6720 23919 MT
(r. \050return\051)
SH( Return)
1800 W( to previous menu.)SH
6720 25050 MT
(t. \050toggle\051)
SH( Toggle)
1800 W( logging on and off.)SH
6720 26181 MT
(q. \050quit\051)
SH( Quit.)3000 W
11 /NewCenturySchlbk-Roman AF
7956 28123 MT
(QUERIES USED:)SH
17748 30171 MT
(show)SH
27540 XM
(get_service)SH
17748 31408 MT
(add)SH
27540 32645 MT
(get_service, add_service)SH
17748 33882 MT
(update)SH
27540 XM
(get_service, delete_service, add_service)SH
17748 35119 MT
(delete)SH
27540 XM
(get_service, delete_service)SH
17748 36356 MT
(alias)SH
27540 XM
(get_alias, get_service)SH
17748 37593 MT
(unalias)SH
27540 XM
(get_alias, delete_alias)SH
10 /Helvetica-Bold AF
6120 75600 MT
(Moira)SH
42861 XM
(Draft of 27 June 1991)SH
ES
%%Page: 83 83
BS
0 SI
10 /Helvetica-Bold AF
8280 4329 MT
(Athena Technical Plan)SH
45409 XM
(Section E.1, page 83)SH
11 /NewCenturySchlbk-Roman AF
9091 8011 MT
(PROGRAM NAME:)SH
19980 XM
(MRCHECK - Check to see if updates have been successful)SH
9091 10238 MT
(DESCRIPTION:)SH
19980 XM
(This program lists any DCM updates which have failed.)SH
9091 12465 MT
(PRE-DEFINED QUERIES USED:)SH
/Symbol SF
8692 14064 MT
(\267)SH
/NewCenturySchlbk-Roman SF
9504 XM
(qualified_get_server)SH
/Symbol SF
8692 15301 MT
(\267)SH
/NewCenturySchlbk-Roman SF
9504 XM
(qualified_get_server_host)SH
/Symbol SF
8692 16538 MT
(\267)SH
/NewCenturySchlbk-Roman SF
9504 XM
(get_server_info)SH
/Symbol SF
8692 17775 MT
(\267)SH
/NewCenturySchlbk-Roman SF
9504 XM
(get_server_host_info)SH
9091 20002 MT
(SERVICE\050S\051 EXAMINED:)SH
/Symbol SF
8692 21601 MT
(\267)SH
/NewCenturySchlbk-Roman SF
9504 XM
(all)SH
9091 23828 MT
(END USERS:)SH
19980 XM
(Moira system administrator)SH
9091 26055 MT
(A SESSION USING MRCHECK:)SH
10 /Courier-Bold AF
8280 27860 MT
(% mrcheck)SH
8280 28991 MT
(Service AFS, error 43: Unable to build archive of config files)SH
13080 30122 MT
(last success Jan  4 12:15:13 1989, last try Jan  4 16:30:10 1989)SH
8280 31253 MT
(Host HESIOD:KIWI.MIT.EDU, error 44: Unable to open DCM file)SH
13080 32384 MT
(last success Jan 11 14:15:18 1989, last try Jan 24 17:40:16 1989)SH
8280 33515 MT
(Host AFS:FOO.MIT.EDU, error 31: Kerberos error: Can't decode authenticator)SH
13080 34646 MT
(last success Dec 12 14:51:06 1988, last try Dec 12 19:00:09 1988)SH
8280 35777 MT
(Host NFS:CHIROPTERA.MIT.EDU, error 8: Kerberos principal unknown)SH
13080 36908 MT
(last success Nov 15 23:44:37 1988, last try Nov 18 03:01:52 1988)SH
8280 38039 MT
(4 things have failed at this time)SH
8280 39170 MT
(%)SH
12 /Helvetica-Bold AF
8280 42523 MT
(References)SH
11 /NewCenturySchlbk-Roman AF
8280 44673 MT
([1])SH
11952 XM
(Noah Mendelsohn.)SH
/NewCenturySchlbk-Italic SF
11952 45910 MT
(A Guide to Using GDB)SH
/NewCenturySchlbk-Roman SF
11952 47147 MT
(Version 0.1 \050DRAFT\051 edition, MIT Project Athena, 1987.)SH
8280 49195 MT
([2])SH
11952 XM
(S. P. Miller, B. C. Neuman, J. I. Schiller and J. H. Saltzer.)SH
/NewCenturySchlbk-Italic SF
11952 50432 MT
(Section E.2.1: Kerberos Authentication and Authorization System)SH
/NewCenturySchlbk-Roman SF
11952 51669 MT
(M.I.T. Project Athena, December 21, 1987.)SH
10 /Helvetica-Bold AF
8280 75600 MT
(Moira)SH
45021 XM
(Draft of 27 June 1991)SH
ES
%%Trailer
%%Pages: 83
%%DocumentFonts: NewCenturySchlbk-Roman Helvetica Helvetica-Bold Symbol NewCenturySchlbk-Bold NewCenturySchlbk-Italic Helvetica-BoldOblique Courier NewCenturySchlbk-BoldItalic Courier-Bold
