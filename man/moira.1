.TH MOIRA 1 "29 Nov 1988" "Project Athena"
\" RCSID: $HeadURL: svn+ssh://svn.mit.edu/moira/trunk/moira/man/moira.1 $ $Id: moira.1 3956 2010-01-05 20:56:56Z zacheiss $
.SH NAME
moira, listmaint, usermaint, dcmmaint \- maintain information stored in moira
.SH SYNOPSIS
.B moira
[
.BI \-nomenu
|
.BI \-menu
] [
.BI \-db
.I host:port
]
.SH DESCRIPTION
.I Moira
administers all of the information stored in Moira, the Athena Service
Management System database.  When invoked by the name
.B listmaint, usermaint,
or
.B dcmmaint,
.I moira
will immediately drop into the appropriate sub-menu.

It a database is specified on the command line, that server will be
contacted rather than the compiled-in default.  The host and port may
both be symbolic names or numbers.  If the port is not specified, the
default Moira server port will be used.  The server chosen will be the
one specified on the command line, from the environment variable
MOIRASERVER, from the "moira" sloc entry in hesiod, or the compiled in
default, in that order of preference.

The option:
.TP
.BI \-nomenu
will cause moira to not take over the screen.  With this option
specified, the screen
will be handled like a printing terminal.  Each menu will be displayed
only once.  Typing '?' will cause a menu to be redisplayed.
.PP
When called without options,
.I moira
displays a menu in the top half of the screen listing other menus;
retrievals, appends, updates, or 
deletes to the database; or control actions within the program.
Each menu consists of several lines containing a single character
(usually a numeral), a keyword, and a short description.  Menu items
may be selected by either the single character or the keyword.  Needed
arguments may be put on the same line -- otherwise, they will be 
prompted for.  It is possible to invoke an option from a sub-menu by
name while at a higher menu.  The lower half of the screen is a
dialogue area used to prompt the user and display retrieved information.
.PP
The top level menu just lists other menus for each of the types of
objects stored in the database.  Most menus also list the following
control options:
.TP
.B verbose
Toggle the verbosity of delete.  This controls whether or not an extra
confirmation will be required before deleting data from the database.
.TP
.B return
Return to the menu above this one in the menu tree.
.TP
.B toggle
Toggle logging on and off.  When logging is turned on, all output in
the lower half of the screen will also be written to
.I /var/tmp/moira-log.XXXX,
where XXXX is the process-ID of the moira client.
.TP
.B quit
Exits the moira client immediately.  The connection to the Moira server
will be closed.
.SH DIAGNOSTICS
Pay attention to Kerberos diagnostics, as one must be authenticated to
do most Moira database work.  
.PP
As this is a database manipulation application, diagnostics indicate an
incomplete argument list, an attempt to modify/delete an ambiguous
entry, or an invalid menu choice.
.SH ENVIRONMENT
.TP
KRBTKFILE
path name of your Kerberos ticket.  Moira decides who you are and what you
can do based on your Kerberos tickets, and nothing else.
.TP
TERMCAP
used by curses to control of scrolling and menu display.
.SH AUTHOR
Jean Marie Diaz, Mark Roman, Chris Peterson, Mark Rosenstein and a
cast of thousands
.SH "SEE ALSO"
chfn(1), chpobox(1), chsh(1), mailmaint(1), blanche(1),
Moira section of the Project Athena Technical Plan
